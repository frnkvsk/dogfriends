{"ast":null,"code":"var _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/UserInfoForm.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles'; // import { Button, Stepper, Step, StepLabel, Typography } from '@material-ui/core';\n// import Stepper from '@material-ui/core/Stepper';\n// import Step from '@material-ui/core/Step';\n// import StepLabel from '@material-ui/core/StepLabel';\n// import Typography from '@material-ui/core/Typography';\n// import { useFormInput } from '../hooks/useFormInput';\n\nimport { AuthContext } from '../context/AuthContext'; // import FormInputOutlined from '../components/FormInputOutlined';\n// import { patchUserInfo } from '../api/DogfriendsApi';\n\nimport { useHistory } from 'react-router-dom';\nimport { selectUser, getUserInfoSlice, setUserList } from '../dogfriendsUserSlice';\nimport { useSelector, useDispatch } from 'react-redux';\nimport UserAvatar from '../components/UserAvatar'; // import Tooltip from '@material-ui/core/Tooltip';\n\nimport { Button, IconButton, TextField } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ModalUploadPhoto from './ModalUploadPhoto';\nimport UploadPhoto from './UploadPhoto';\nimport { patchUserInfo } from '../api/DogfriendsApi';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: '100%',\n    minHeight: '100vh',\n    maxWidth: '700px',\n    padding: '2px',\n    height: '100vh',\n    border: '1px solid red'\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n    width: '100%',\n    fontSize: '24px',\n    border: '1px solid green'\n  },\n  formElement: {\n    // display: 'flex',\n    // alignItems: 'center',\n    // justifyContent: 'space-between',\n    width: 'auto',\n    margin: '10px 15px' // cursor: 'pointer',\n\n  },\n  formAvatar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    margin: '20px 15px',\n    border: '1px solid pink'\n  },\n  formLabel: {\n    // display: 'flex',\n    margin: '10px 20px 15px'\n  },\n  button: {\n    borderRadius: '12px',\n    marginLeft: '10px'\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    height: '50px',\n    margin: '20px 0 20px 0',\n    // border: '1px solid orange',\n    '& p': {\n      fontSize: '38px',\n      color: 'green' // border: '1px solid pink',\n\n    },\n    '& button': {\n      height: '30px'\n    }\n  }\n}));\n\nconst UserInfoForm = ({\n  title\n}) => {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const userList = useSelector(selectUser);\n  const dispatch = useDispatch();\n  console.log('Profile userList', userList);\n  const [username, setUsername] = useState('');\n  const [first_name, setFirstName] = useState('');\n  const [last_name, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [photo_details, setPhotoDetails] = useState({\n    photo_id: null,\n    photo_url: null\n  });\n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [country, setCountry] = useState('');\n  useEffect(() => {\n    if (userList.status === 'fulfilled') {\n      setUsername(userList.data.user.username);\n      setFirstName(userList.data.user.first_name);\n      setLastName(userList.data.user.last_name);\n      setEmail(userList.data.user.email);\n      setPhotoDetails({\n        photo_id: userList.data.user.photo_id,\n        photo_url: userList.data.user.photo_url\n      });\n      setCity(userList.data.user.city);\n      setState(userList.data.user.state);\n      setCountry(userList.data.user.country);\n    }\n\n    console.log('Profile useEffect userList', userList);\n  }, [userList.status]);\n\n  const handleChange = () => {}; // const []\n\n\n  useEffect(() => {\n    if (photo_details.photo_id) {\n      let newAuthState = { ...auth.authState\n      };\n      newAuthState.userInfo.photo_id = photo_details.photo_id;\n      auth.setAuthState(newAuthState);\n      let newList1 = {\n        status: userList.status,\n        data: {\n          user: { ...userList.data.user,\n            photo_id: photo_details.photo_id,\n            photo_url: photo_details.photo_url\n          }\n        }\n      };\n      dispatch(setUserList(newList1));\n      let newList2 = { ...userList.data.user,\n        _token: auth.authState.token,\n        photo_id: photo_details.photo_id\n      };\n      patchUserInfo(newList2);\n    } // eslint-disable-next-line\n\n  }, [photo_details.photo_id, photo_details.photo_url]);\n  const [showModal, setShowModel] = useState('none');\n  const history = useHistory();\n\n  const handleClick = target => {\n    console.log(target);\n  };\n\n  const handleOpenModel = () => {\n    setShowModel('inline');\n  };\n\n  console.log('UserInfoForm photo_details', photo_details);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: showModal\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UploadPhoto, {\n    token: auth.authState.token,\n    setPhotoDetails: setPhotoDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, title), /*#__PURE__*/React.createElement(Button, {\n    name: \"avatar\",\n    className: classes.button,\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    name: \"avatar\",\n    className: classes.button,\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, \"Done\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.formAvatar,\n    onClick: () => handleClick('avatar'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UserAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }), username, /*#__PURE__*/React.createElement(Button, {\n    name: \"avatar\",\n    onClick: handleOpenModel,\n    className: classes.button,\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }\n  }, \"Change\")), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"First Name: (required)\",\n    variant: \"outlined\",\n    value: first_name,\n    onChange: e => setFirstName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"Last Name: (required)\",\n    variant: \"outlined\",\n    value: last_name,\n    onChange: e => setLastName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"Email: (required)\",\n    variant: \"outlined\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"City: (optional)\",\n    variant: \"outlined\",\n    value: city,\n    onChange: e => setCity(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"State: (optional)\",\n    variant: \"outlined\",\n    value: state,\n    onChange: e => setState(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"Country: (optional)\",\n    variant: \"outlined\",\n    value: country,\n    onChange: e => setCountry(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }\n  })));\n};\n\nexport default UserInfoForm;","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/UserInfoForm.js"],"names":["React","useState","useContext","useEffect","makeStyles","AuthContext","useHistory","selectUser","getUserInfoSlice","setUserList","useSelector","useDispatch","UserAvatar","Button","IconButton","TextField","EditIcon","ModalUploadPhoto","UploadPhoto","patchUserInfo","useStyles","theme","root","display","flexDirection","alignItems","justifyContent","width","minHeight","maxWidth","padding","height","border","form","fontSize","formElement","margin","formAvatar","formLabel","button","borderRadius","marginLeft","header","color","UserInfoForm","title","classes","auth","userList","dispatch","console","log","username","setUsername","first_name","setFirstName","last_name","setLastName","email","setEmail","photo_details","setPhotoDetails","photo_id","photo_url","city","setCity","state","setState","country","setCountry","status","data","user","handleChange","newAuthState","authState","userInfo","setAuthState","newList1","newList2","_token","token","showModal","setShowModel","history","handleClick","target","handleOpenModel","e","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n// import { Button, Stepper, Step, StepLabel, Typography } from '@material-ui/core';\n// import Stepper from '@material-ui/core/Stepper';\n// import Step from '@material-ui/core/Step';\n// import StepLabel from '@material-ui/core/StepLabel';\n// import Typography from '@material-ui/core/Typography';\n// import { useFormInput } from '../hooks/useFormInput';\nimport { AuthContext } from '../context/AuthContext';\n// import FormInputOutlined from '../components/FormInputOutlined';\n// import { patchUserInfo } from '../api/DogfriendsApi';\nimport { useHistory } from 'react-router-dom';\n\nimport { selectUser, getUserInfoSlice, setUserList } from '../dogfriendsUserSlice';\nimport { useSelector, useDispatch } from 'react-redux';\nimport UserAvatar from '../components/UserAvatar';\n\n\n// import Tooltip from '@material-ui/core/Tooltip';\nimport { Button, IconButton, TextField } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\n\nimport ModalUploadPhoto from './ModalUploadPhoto';\nimport UploadPhoto from './UploadPhoto';\nimport { patchUserInfo } from '../api/DogfriendsApi';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: '100%',\n    minHeight: '100vh',\n    maxWidth: '700px',\n    padding: '2px',\n    height: '100vh',\n    border: '1px solid red',\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n    width: '100%',\n    fontSize: '24px',\n    border: '1px solid green',\n  },\n  formElement: {\n    // display: 'flex',\n    // alignItems: 'center',\n    // justifyContent: 'space-between',\n    width: 'auto',\n    margin: '10px 15px',\n    // cursor: 'pointer',\n  },\n  formAvatar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    margin: '20px 15px',\n    border: '1px solid pink',\n  },\n  formLabel: {\n    // display: 'flex',\n    margin: '10px 20px 15px',\n  },\n  button: {\n    borderRadius: '12px',\n    marginLeft: '10px',\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    height: '50px',\n    margin: '20px 0 20px 0',\n    // border: '1px solid orange',\n    '& p': {\n      fontSize: '38px',\n      color: 'green',\n      // border: '1px solid pink',\n    },\n    '& button': {\n      height: '30px',\n    }\n  }\n\n}));\n\n\nconst UserInfoForm = ({title}) => {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const userList = useSelector(selectUser);\n  const dispatch = useDispatch();\n\n  console.log('Profile userList',userList)\n  const [username, setUsername] = useState('');\n  const [first_name, setFirstName] = useState('');\n  const [last_name, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [photo_details, setPhotoDetails] = useState({\n    photo_id: null,\n    photo_url: null\n  });\n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [country, setCountry] = useState('');\n  \n  useEffect(() => {\n    if(userList.status === 'fulfilled') {\n      setUsername(userList.data.user.username);\n      setFirstName(userList.data.user.first_name);\n      setLastName(userList.data.user.last_name);\n      setEmail(userList.data.user.email);\n      setPhotoDetails({\n        photo_id: userList.data.user.photo_id,\n        photo_url: userList.data.user.photo_url\n      });\n      setCity(userList.data.user.city);\n      setState(userList.data.user.state);\n      setCountry(userList.data.user.country);\n    }\n    console.log('Profile useEffect userList',userList)\n  }, [userList.status])\n  \n  const handleChange = () => {\n\n  }\n  \n  // const []\n  useEffect(() => {\n    if(photo_details.photo_id) {\n      let newAuthState = {\n        ...auth.authState\n      }\n      newAuthState.userInfo.photo_id = photo_details.photo_id;\n      auth.setAuthState(newAuthState);\n      \n      let newList1 = {\n        status: userList.status,\n        data: {\n          user: {\n            ...userList.data.user,\n            photo_id: photo_details.photo_id,\n            photo_url: photo_details.photo_url,\n          },\n        }\n      }\n      dispatch(setUserList(newList1));\n      \n      let newList2 = {\n        ...userList.data.user,\n        _token: auth.authState.token,\n        photo_id: photo_details.photo_id,         \n      };\n      patchUserInfo(newList2);\n    }\n    // eslint-disable-next-line\n  }, [photo_details.photo_id, photo_details.photo_url]);\n\n  const [showModal, setShowModel] = useState('none');\n  const history = useHistory();  \n  \n  const handleClick = (target) => {\n    console.log(target)\n  }\n  const handleOpenModel = () => {\n    setShowModel('inline');\n  }\n  console.log('UserInfoForm photo_details',photo_details)\n  return (\n    <div className={classes.root}>\n      <div style={{display: showModal}}>\n        <UploadPhoto token={auth.authState.token} setPhotoDetails={setPhotoDetails}/>\n      </div>\n      <div className={classes.header}>\n        <p>{title}</p>\n        <Button name=\"avatar\" className={classes.button} variant=\"contained\">\n          Cancel\n        </Button> \n        <Button name=\"avatar\" className={classes.button} variant=\"contained\">\n          Done\n        </Button>\n      </div>\n     \n    <div className={classes.form}>\n      <div className={classes.formAvatar} onClick={() => handleClick('avatar')}>          \n        <UserAvatar />\n        {/* <UserAvatar photo_url={photo_details.photo_url}/> */}\n        {username}\n        <Button \n          name=\"avatar\" \n          onClick={handleOpenModel}\n          className={classes.button} \n          variant=\"contained\">\n          Change\n        </Button>      \n      </div>\n      <TextField \n        className={classes.formElement} \n        label='First Name: (required)' \n        variant='outlined' \n        value={first_name} \n        onChange={e => setFirstName(e.target.value)}/>\n      <TextField \n        className={classes.formElement} \n        label='Last Name: (required)' \n        variant='outlined' \n        value={last_name} \n        onChange={e => setLastName(e.target.value)}/>\n      <TextField \n        className={classes.formElement} \n        label='Email: (required)' \n        variant='outlined' \n        value={email} \n        onChange={e => setEmail(e.target.value)}/>\n      <TextField \n        className={classes.formElement} \n        label='City: (optional)' \n        variant='outlined' \n        value={city} \n        onChange={e => setCity(e.target.value)}/>\n      <TextField \n        className={classes.formElement} \n        label='State: (optional)' \n        variant='outlined' \n        value={state} \n        onChange={e => setState(e.target.value)}/>\n      <TextField \n        className={classes.formElement} \n        label='Country: (optional)' \n        variant='outlined' \n        value={country} \n        onChange={e => setCountry(e.target.value)}/>\n     \n    </div>\n    </div>\n  );\n}\nexport default UserInfoForm;"]},"metadata":{},"sourceType":"module"}