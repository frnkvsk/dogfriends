{"ast":null,"code":"var _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/UploadPhoto.js\";\nimport React, { useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core'; // import {\n//   postPhotoNew\n// } from '../dogfriendsPhotosSlice';\n\nimport { postNewPhoto // postDestroyPhoto\n} from '../api/DogfriendsPhotosApi'; // import axios from 'axios';\n\nconst useStyles = makeStyles(theme => ({\n  dropzone: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '8rem',\n    margin: '1rem',\n    padding: '1rem',\n    border: '2px dashed salmon',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: '2rem',\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    color: '#424242',\n    active: {\n      border: '2px solid rebeccapurple'\n    }\n  },\n  instruction: {\n    fontSize: '12px',\n    fontStyle: 'italic',\n    color: '#6d6d6d'\n  }\n}));\nexport default function UploadPhoto({\n  token\n}) {\n  const classes = useStyles();\n  const onDrop = useCallback(async (acceptedFiles, setUrl) => {\n    console.log('UploadPhoto acceptedFiles', acceptedFiles);\n    const url = process.env.REACT_APP_CLOUDINARY_BASE_URL + 'upload';\n    const formData = new FormData();\n    formData.append('file', acceptedFiles[0]);\n    formData.append('upload_preset', process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET);\n    const response = await postNewPhoto(url, formData, token);\n    console.log('UploadPhoto response', response); // console.log('UploadPhoto response',response.data)\n\n    if (response.status === 200) {\n      setUrl(response.data.url);\n    }\n  }, [token]);\n  const {\n    getRootProps,\n    getInputProps\n  } = useDropzone({\n    onDrop,\n    accepts: 'image/*',\n    multiple: false\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: classes.dropzone\n  }, getRootProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getInputProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  })), \"Photo Drop Zone\", /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.instruction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Drag/Drop or Click to open.\")));\n}","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/UploadPhoto.js"],"names":["React","useCallback","useDropzone","makeStyles","postNewPhoto","useStyles","theme","dropzone","display","flexDirection","height","margin","padding","border","justifyContent","alignItems","fontSize","fontWeight","cursor","color","active","instruction","fontStyle","UploadPhoto","token","classes","onDrop","acceptedFiles","setUrl","console","log","url","process","env","REACT_APP_CLOUDINARY_BASE_URL","formData","FormData","append","REACT_APP_CLOUDINARY_UPLOAD_PRESET","response","status","data","getRootProps","getInputProps","accepts","multiple"],"mappings":";AAAA,OAAOA,KAAP,IAAiBC,WAAjB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,UAAT,QAA2B,mBAA3B,C,CACA;AACA;AACA;;AAEA,SACEC,YADF,CAEE;AAFF,OAGO,4BAHP,C,CAMA;;AAGA,MAAMC,SAAS,GAAGF,UAAU,CAAEG,KAAD,KAAY;AACvCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,OAAO,EAAE,MADD;AAERC,IAAAA,aAAa,EAAE,QAFP;AAGRC,IAAAA,MAAM,EAAE,MAHA;AAIRC,IAAAA,MAAM,EAAE,MAJA;AAKRC,IAAAA,OAAO,EAAE,MALD;AAMRC,IAAAA,MAAM,EAAE,mBANA;AAORL,IAAAA,OAAO,EAAE,MAPD;AAQRM,IAAAA,cAAc,EAAE,QARR;AASRC,IAAAA,UAAU,EAAE,QATJ;AAURC,IAAAA,QAAQ,EAAE,MAVF;AAWRC,IAAAA,UAAU,EAAE,MAXJ;AAYRC,IAAAA,MAAM,EAAE,SAZA;AAaRC,IAAAA,KAAK,EAAE,SAbC;AAcRC,IAAAA,MAAM,EAAE;AACNP,MAAAA,MAAM,EAAE;AADF;AAdA,GAD6B;AAmBvCQ,EAAAA,WAAW,EAAE;AACXL,IAAAA,QAAQ,EAAE,MADC;AAEXM,IAAAA,SAAS,EAAE,QAFA;AAGXH,IAAAA,KAAK,EAAE;AAHI;AAnB0B,CAAZ,CAAD,CAA5B;AA4BA,eAAe,SAASI,WAAT,CAAqB;AAACC,EAAAA;AAAD,CAArB,EAA8B;AAC3C,QAAMC,OAAO,GAAGpB,SAAS,EAAzB;AAEA,QAAMqB,MAAM,GAAGzB,WAAW,CAAC,OAAO0B,aAAP,EAAsBC,MAAtB,KAAiC;AAC1DC,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAwCH,aAAxC;AACA,UAAMI,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,6BAAZ,GAA0C,QAAtD;AACA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBV,aAAa,CAAC,CAAD,CAArC;AACAQ,IAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiCL,OAAO,CAACC,GAAR,CAAYK,kCAA7C;AAEA,UAAMC,QAAQ,GAAG,MAAMnC,YAAY,CAAC2B,GAAD,EAAMI,QAAN,EAAgBX,KAAhB,CAAnC;AAEAK,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAmCS,QAAnC,EAT0D,CAU1D;;AACA,QAAGA,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA4B;AAC1BZ,MAAAA,MAAM,CAACW,QAAQ,CAACE,IAAT,CAAcV,GAAf,CAAN;AACD;AAEF,GAfyB,EAevB,CAACP,KAAD,CAfuB,CAA1B;AAiBA,QAAM;AAACkB,IAAAA,YAAD;AAAeC,IAAAA;AAAf,MAAgCzC,WAAW,CAAC;AAChDwB,IAAAA,MADgD;AAEhDkB,IAAAA,OAAO,EAAE,SAFuC;AAGhDC,IAAAA,QAAQ,EAAE;AAHsC,GAAD,CAAjD;AAMA,sBACE,uDACE;AAAK,IAAA,SAAS,EAAEpB,OAAO,CAAClB;AAAxB,KAAsCmC,YAAY,EAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACE,+CAAWC,aAAa,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,kCAGE;AAAK,IAAA,SAAS,EAAElB,OAAO,CAACJ,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAHF,CADF,CADF;AASD","sourcesContent":["import React , { useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core';\n// import {\n//   postPhotoNew\n// } from '../dogfriendsPhotosSlice';\n\nimport {\n  postNewPhoto,\n  // postDestroyPhoto\n} from '../api/DogfriendsPhotosApi';\n\n\n// import axios from 'axios';\n\n\nconst useStyles = makeStyles((theme) => ({\n  dropzone: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '8rem',\n    margin: '1rem',\n    padding: '1rem',\n    border: '2px dashed salmon',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: '2rem',\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    color: '#424242',\n    active: {\n      border: '2px solid rebeccapurple',\n    },\n  },\n  instruction: {\n    fontSize: '12px',\n    fontStyle: 'italic',\n    color: '#6d6d6d',\n  }\n  \n}));\n\n\nexport default function UploadPhoto({token}) {\n  const classes = useStyles();\n\n  const onDrop = useCallback(async (acceptedFiles, setUrl) => {\n    console.log('UploadPhoto acceptedFiles',acceptedFiles)\n    const url = process.env.REACT_APP_CLOUDINARY_BASE_URL+'upload';\n    const formData = new FormData();\n    formData.append('file', acceptedFiles[0]);\n    formData.append('upload_preset', process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET);\n\n    const response = await postNewPhoto(url, formData, token);\n\n    console.log('UploadPhoto response',response)   \n    // console.log('UploadPhoto response',response.data)\n    if(response.status === 200) {\n      setUrl(response.data.url)\n    }   \n    \n  }, [token]);\n\n  const {getRootProps, getInputProps} = useDropzone({\n    onDrop, \n    accepts: 'image/*',\n    multiple: false,\n  });\n\n  return (\n    <>\n      <div className={classes.dropzone} {...getRootProps()}>\n        <input {...getInputProps()} />\n        Photo Drop Zone\n        <div className={classes.instruction}>Drag/Drop or Click to open.</div>\n      </div>\n    </>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}