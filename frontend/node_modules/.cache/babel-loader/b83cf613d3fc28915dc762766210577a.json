{"ast":null,"code":"var _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/NewPostForm.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, FormHelperText, TextField, Checkbox, FormControlLabel, Box } from '@material-ui/core';\nimport { addNewPost, editPost } from '../dogfriendsPostsSlice';\nimport { useFormInput } from '../hooks/useFormInput';\nimport { AuthContext } from '../context/AuthContext';\nimport FormInputOutlined from './FormInputOutlined';\nimport PostPhoto from './PostPhoto';\nimport NewPhotoForm from './NewPhotoForm';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    width: '100%',\n    border: '1px solid red'\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    margin: '30px 0 20px 0'\n  },\n  buttons: {},\n  input: {\n    width: '100%',\n    backgroundColor: '#ffffff',\n    marginRight: '5px'\n  },\n  memeInput: {// display: formInputState,\n  },\n  imagePreview: {\n    width: 'auto',\n    alignItems: 'flex-start',\n    justifyContent: 'center'\n  },\n  image: {\n    width: '400px',\n    height: '400px',\n    borderRadius: '10px',\n    padding: '10px'\n  }\n}));\n\nconst NewPostForm = ({\n  data\n}) => {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleSubmit = e => {// e.preventDefault();\n    // if(title.length && description.length && body.length) {\n    //   const payload = {\n    //     id: id,\n    //     title: title, \n    //     description: description, \n    //     body: body,\n    //     username: auth.authState.userInfo.username,\n    //     token: token\n    //   }\n    //   dispatch(addNewPost(payload));    \n    //   history.push('/');\n    // } \n  };\n\n  const title = useFormInput('');\n  const top = useFormInput('');\n  const bottom = useFormInput('');\n  const body = useFormInput('');\n  const [url, setUrl] = useState('');\n  const [formInputState, setFormInputState] = useState('none');\n  const [photoShowState, setPhotoShowState] = useState('none');\n  const [photo, setPhoto] = useState({\n    url: '',\n    top: '',\n    bottom: '',\n    textColor: '#000000'\n  });\n  const [textColor, setTextColor] = useState('#000000');\n\n  const handleTextColor = e => {\n    e.preventDefault();\n    setTextColor(e.target.value);\n  };\n\n  useEffect(() => {\n    console.log('useEffect photoShowState', photoShowState);\n    console.log('useEffect url', url);\n\n    if (url !== '') {\n      setPhotoShowState('flex');\n      setPhoto({\n        url: url,\n        top: top.value,\n        bottom: bottom.value,\n        textColor: textColor\n      });\n    } else {\n      setPhotoShowState('none');\n      setPhoto({\n        url: '',\n        top: '',\n        bottom: '',\n        textColor: textColor\n      });\n    }\n  }, [url, top.value, bottom.value, textColor]);\n\n  const handleCheckBox = () => {\n    if (formInputState === 'none') setFormInputState('inline');else setFormInputState('none');\n  };\n\n  const handleSetUrl = (failedImages, successImages) => {\n    const parts = successImages[0].split(';');\n    const mime = parts[0].split(':')[1];\n    const name = parts[1].split('=')[1];\n    const data = parts[2]; // const res = await axios.post(url, { mime, name, image: data });\n\n    console.log(parts);\n    setUrl(data.imageURL);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.imagePreview,\n    style: {\n      display: photoShowState\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PostPhoto, {\n    photo: photo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormInputOutlined, {\n    label: \"Title\",\n    formInput: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FormInputOutlined, {\n    label: \"Photo URL\",\n    formInput: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      onChange: handleCheckBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 20\n      }\n    }),\n    label: \"Add text to photo.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: formInputState\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NewPhotoForm, {\n    url: url,\n    handleSetUrl: handleSetUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }), \"Text Color\\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"color\",\n    onChange: handleTextColor,\n    defaultValue: textColor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormInputOutlined, {\n    label: \"Top Text\",\n    formInput: top,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormInputOutlined, {\n    label: \"Bottom Text\",\n    formInput: bottom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    multiline: true,\n    rows: 4,\n    label: \"Body\",\n    variant: \"outlined\",\n    formInput: body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.buttons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => history.push('/'),\n    variant: \"contained\",\n    color: \"default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))));\n};\n\nexport default NewPostForm;","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/NewPostForm.js"],"names":["React","useContext","useEffect","useState","useDispatch","useHistory","makeStyles","Button","FormHelperText","TextField","Checkbox","FormControlLabel","Box","addNewPost","editPost","useFormInput","AuthContext","FormInputOutlined","PostPhoto","NewPhotoForm","useStyles","theme","root","display","width","border","form","flexDirection","margin","buttons","input","backgroundColor","marginRight","memeInput","imagePreview","alignItems","justifyContent","image","height","borderRadius","padding","NewPostForm","data","classes","auth","dispatch","history","handleSubmit","e","title","top","bottom","body","url","setUrl","formInputState","setFormInputState","photoShowState","setPhotoShowState","photo","setPhoto","textColor","setTextColor","handleTextColor","preventDefault","target","value","console","log","handleCheckBox","handleSetUrl","failedImages","successImages","parts","split","mime","name","imageURL","push"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { \n  Button, \n  FormHelperText, \n  TextField,\n  Checkbox,\n  FormControlLabel,\n  Box,\n} from '@material-ui/core';\nimport { \n  addNewPost,\n  editPost,\n } from '../dogfriendsPostsSlice';\nimport { useFormInput } from '../hooks/useFormInput';\nimport { AuthContext } from '../context/AuthContext';\nimport FormInputOutlined from './FormInputOutlined';\nimport PostPhoto from './PostPhoto';\nimport NewPhotoForm from './NewPhotoForm';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    width: '100%',\n    border: '1px solid red',\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    margin: '30px 0 20px 0',\n  },\n  buttons: {\n\n  },\n  input: {\n    width: '100%',\n    backgroundColor: '#ffffff',\n    marginRight: '5px',\n  },\n  memeInput: {\n    // display: formInputState,\n  },\n  imagePreview: {\n    width: 'auto',\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n  },\n  image: {\n    width: '400px',\n    height: '400px',\n    borderRadius: '10px',\n    padding: '10px',\n  }\n}));\n\nconst NewPostForm = ({data}) => {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  \n\n  const handleSubmit = e => {   \n    // e.preventDefault();\n    // if(title.length && description.length && body.length) {\n    //   const payload = {\n    //     id: id,\n    //     title: title, \n    //     description: description, \n    //     body: body,\n    //     username: auth.authState.userInfo.username,\n    //     token: token\n    //   }\n    //   dispatch(addNewPost(payload));    \n    //   history.push('/');\n    // } \n  }\n  \n  const title = useFormInput('');\n  \n  const top = useFormInput('');\n  const bottom = useFormInput('');\n  const body = useFormInput('');\n  const [url, setUrl] = useState('');\n  const [formInputState, setFormInputState] = useState('none');\n  const [photoShowState, setPhotoShowState] = useState('none');\n  const [photo, setPhoto] = useState({\n    url: '',\n    top: '',\n    bottom: '',\n    textColor: '#000000'\n  });\n  const [textColor, setTextColor] = useState('#000000');  \n  const handleTextColor = (e) => {\n    e.preventDefault();\n    setTextColor(e.target.value);\n  }\n  useEffect(() => {\n    console.log('useEffect photoShowState',photoShowState)\n    console.log('useEffect url', url)\n    if(url !== '') {\n      setPhotoShowState('flex');\n      setPhoto({\n        url: url,\n        top: top.value,\n        bottom: bottom.value,\n        textColor: textColor\n      });\n    } else {\n      setPhotoShowState('none');\n      setPhoto({\n        url: '',\n        top: '',\n        bottom: '',\n        textColor: textColor\n      });\n    }\n  }, [url, top.value, bottom.value, textColor]);\n\n  const handleCheckBox = () => {\n    if(formInputState === 'none') setFormInputState('inline')\n    else setFormInputState('none')\n  }\n  const handleSetUrl = (failedImages, successImages) => {\n    const parts = successImages[0].split(';');\n    const mime = parts[0].split(':')[1];\n    const name = parts[1].split('=')[1];\n    const data = parts[2];\n    // const res = await axios.post(url, { mime, name, image: data });\n    console.log(parts)\n    setUrl(data.imageURL);\n  }\n  return (\n    <div className={classes.root}>    \n      <Box className={classes.imagePreview} style={{display: photoShowState}}>\n        <PostPhoto photo={photo}/>\n      </Box>\n      <form className={classes.form} noValidate autoComplete=\"off\">   \n\n        <FormInputOutlined label=\"Title\" formInput={title} />\n        <FormInputOutlined label=\"Photo URL\" formInput={url} />\n        <FormControlLabel\n          control={<Checkbox onChange={handleCheckBox} />}\n          label=\"Add text to photo.\"\n      />\n        <div style={{display: formInputState}}>\n          <NewPhotoForm url={url} handleSetUrl={handleSetUrl} />\n          Text Color&nbsp;  \n          <input           \n            type=\"color\" \n            onChange={handleTextColor}\n            defaultValue={textColor} />\n          <FormInputOutlined label=\"Top Text\" formInput={top} />\n          <FormInputOutlined label=\"Bottom Text\" formInput={bottom} />\n        </div>\n        \n        <TextField \n          multiline\n          rows={4} \n          label=\"Body\" \n          variant=\"outlined\" \n          formInput={body} />\n        {/* <FormHelperText className={classes.label}>Body:</FormHelperText> */}\n        {/* <FormControlLabel\n          control={<Checkbox checked={state.checkedA} onChange={handleChange} name=\"checkedA\" />}\n          label=\"Add text to photo\"\n        /> */}\n        <div className={classes.buttons}>\n          <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit} >\n            Save\n          </Button>\n          <Button onClick={() => history.push('/')} variant=\"contained\" color=\"default\" >\n            Cancel\n          </Button>\n        </div>      \n      </form>\n    </div>\n  );\n}\n\nexport default NewPostForm;"]},"metadata":{},"sourceType":"module"}