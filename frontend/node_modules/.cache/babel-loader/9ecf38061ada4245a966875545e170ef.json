{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport ImageUploading from 'react-images-uploading';\nimport photo_drop_zone from '../assets/photo_drop_zone.jpg';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ResizeImage from './ResizeImage';\nconst useStyles = makeStyles(theme => ({\n  photoDrop: {\n    backgroundImage: `url(${photo_drop_zone})`,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    width: '400px',\n    height: '370px',\n    border: '2px dotted salmon',\n    margin: '100px',\n    cursor: 'pointer'\n  }\n}));\nexport function UploadImage({\n  handleUploadImage\n}) {\n  _s();\n\n  const classes = useStyles();\n  var fileReader = new FileReader();\n  var filterType = /^(?:image\\/bmp|image\\/cis\\-cod|image\\/gif|image\\/ief|image\\/jpeg|image\\/jpeg|image\\/jpeg|image\\/pipeg|image\\/png|image\\/svg\\+xml|image\\/tiff|image\\/x\\-cmu\\-raster|image\\/x\\-cmx|image\\/x\\-icon|image\\/x\\-portable\\-anymap|image\\/x\\-portable\\-bitmap|image\\/x\\-portable\\-graymap|image\\/x\\-portable\\-pixmap|image\\/x\\-rgb|image\\/x\\-xbitmap|image\\/x\\-xpixmap|image\\/x\\-xwindowdump)$/i;\n\n  fileReader.onload = function (event) {\n    var image = new Image();\n\n    image.onload = function () {\n      document.getElementById(\"original-Img\").src = image.src;\n      var canvas = document.createElement(\"canvas\");\n      var context = canvas.getContext(\"2d\");\n      canvas.width = image.width / 4;\n      canvas.height = image.height / 4;\n      context.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height);\n      document.getElementById(\"upload-Preview\").src = canvas.toDataURL();\n    };\n\n    image.src = event.target.result;\n  };\n\n  var loadImageFile = function () {\n    var uploadImage = document.getElementById(\"upload-Image\"); //check and retuns the length of uploded file.\n\n    if (uploadImage.files.length === 0) {\n      return;\n    } //Is Used for validate a valid file.\n\n\n    var uploadFile = document.getElementById(\"upload-Image\").files[0];\n\n    if (!filterType.test(uploadFile.type)) {\n      alert(\"Please select a valid image.\");\n      return;\n    }\n\n    fileReader.readAsDataURL(uploadFile);\n  };\n} // export function UploadImage({handleUploadImage}) {\n//   const classes = useStyles();\n//   // const [images, setImages] = React.useState([]);\n//   const [origImage, setOrigImage] = useState('');\n//   const [newImage, setNewImage] = useState('');\n//   const maxNumber = 1;\n//   const onChange = async (imageList, addUpdateIndex) => {\n//     // data for submit\n//     console.log(imageList, addUpdateIndex);\n//     const img = await ResizeImage(imageList, 200, 200);\n//     imageList[0].data_url = img;\n//     // console.log('UploadImage img',img)\n//     await setImages(imageList);\n//     console.log('img',img)\n//     console.log('imageList',imageList)\n//     // handleUploadImage(img)\n//   };\n//   return (\n//     <div className=\"App\">\n//       <ImageUploading\n//         multiple\n//         value={images}\n//         onChange={onChange}\n//         maxNumber={maxNumber}\n//         dataURLKey=\"data_url\"\n//       >\n//         {({\n//           imageList,\n//           onImageUpload,\n//           onImageRemoveAll,\n//           onImageUpdate,\n//           onImageRemove,\n//           isDragging,\n//           dragProps,\n//         }) => (\n//           // write your building UI\n//           <div className=\"upload__image-wrapper\">\n//             {!images.length &&\n//               <Container \n//                 className={classes.photoDrop}\n//                 onClick={onImageUpload}\n//                 {...dragProps}>\n//                   <p>Drag and drop photo or click to open.</p>\n//               </Container>\n//             }\n//             {/* <Container \n//               className={classes.photoDrop}\n//               onClick={onImageUpload}\n//               {...dragProps}>\n//                 <p>Drag and drop photo or click to open.</p>\n//             </Container> */}\n//             {/* <button\n//               style={isDragging ? { color: 'red' } : undefined}\n//               onClick={onImageUpload}\n//               {...dragProps}\n//             >\n//               Click or Drop here\n//             </button> */}\n//             &nbsp;\n//             {/* <button onClick={onImageRemoveAll}>Remove all images</button> */}\n//             {imageList.map((image, index) => (\n//               <div key={index} className=\"image-item\">\n//                 <img src={image['data_url']} alt=\"\" />\n//                 {/* {width = image['data_url'].width} */}\n//                 <div className=\"image-item__btn-wrapper\">\n//                   {/* <button onClick={() => onImageUpdate(index)}>Update</button> */}\n//                   <button onClick={() => onImageRemove(index)}>Remove</button>\n//                 </div>\n//               </div>\n//             ))}\n//           </div>\n//         )}\n//       </ImageUploading>\n//     </div>\n//   );\n// }\n\n_s(UploadImage, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n\n_c = UploadImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadImage\");","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/UploadImage.js"],"names":["React","useState","ImageUploading","photo_drop_zone","Container","makeStyles","ResizeImage","useStyles","theme","photoDrop","backgroundImage","backgroundSize","backgroundPosition","width","height","border","margin","cursor","UploadImage","handleUploadImage","classes","fileReader","FileReader","filterType","onload","event","image","Image","document","getElementById","src","canvas","createElement","context","getContext","drawImage","toDataURL","target","result","loadImageFile","uploadImage","files","length","uploadFile","test","type","alert","readAsDataURL"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport ImageUploading from 'react-images-uploading';\nimport photo_drop_zone from '../assets/photo_drop_zone.jpg';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ResizeImage from './ResizeImage';\n\nconst useStyles = makeStyles((theme) => ({\n  photoDrop: {\n    backgroundImage: `url(${photo_drop_zone})`,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    width: '400px',\n    height: '370px',\n    border: '2px dotted salmon',\n    margin: '100px',\n    cursor: 'pointer',\n  }\n  \n}));\nexport function UploadImage({handleUploadImage}) {\n  const classes = useStyles();\n  var fileReader = new FileReader();\n  var filterType = /^(?:image\\/bmp|image\\/cis\\-cod|image\\/gif|image\\/ief|image\\/jpeg|image\\/jpeg|image\\/jpeg|image\\/pipeg|image\\/png|image\\/svg\\+xml|image\\/tiff|image\\/x\\-cmu\\-raster|image\\/x\\-cmx|image\\/x\\-icon|image\\/x\\-portable\\-anymap|image\\/x\\-portable\\-bitmap|image\\/x\\-portable\\-graymap|image\\/x\\-portable\\-pixmap|image\\/x\\-rgb|image\\/x\\-xbitmap|image\\/x\\-xpixmap|image\\/x\\-xwindowdump)$/i;\n\nfileReader.onload = function (event) {\n  var image = new Image();\n  \n  image.onload=function(){\n      document.getElementById(\"original-Img\").src=image.src;\n      var canvas=document.createElement(\"canvas\");\n      var context=canvas.getContext(\"2d\");\n      canvas.width=image.width/4;\n      canvas.height=image.height/4;\n      context.drawImage(image,\n          0,\n          0,\n          image.width,\n          image.height,\n          0,\n          0,\n          canvas.width,\n          canvas.height\n      );\n      \n      document.getElementById(\"upload-Preview\").src = canvas.toDataURL();\n  }\n  image.src=event.target.result;\n};\n\nvar loadImageFile = function () {\n  var uploadImage = document.getElementById(\"upload-Image\");\n  \n  //check and retuns the length of uploded file.\n  if (uploadImage.files.length === 0) { \n    return; \n  }\n  \n  //Is Used for validate a valid file.\n  var uploadFile = document.getElementById(\"upload-Image\").files[0];\n  if (!filterType.test(uploadFile.type)) {\n    alert(\"Please select a valid image.\"); \n    return;\n  }\n  \n  fileReader.readAsDataURL(uploadFile);\n}\n}\n// export function UploadImage({handleUploadImage}) {\n//   const classes = useStyles();\n//   // const [images, setImages] = React.useState([]);\n//   const [origImage, setOrigImage] = useState('');\n//   const [newImage, setNewImage] = useState('');\n//   const maxNumber = 1;\n \n//   const onChange = async (imageList, addUpdateIndex) => {\n//     // data for submit\n    \n//     console.log(imageList, addUpdateIndex);\n    \n//     const img = await ResizeImage(imageList, 200, 200);\n//     imageList[0].data_url = img;\n//     // console.log('UploadImage img',img)\n//     await setImages(imageList);\n//     console.log('img',img)\n//     console.log('imageList',imageList)\n//     // handleUploadImage(img)\n//   };\n \n//   return (\n//     <div className=\"App\">\n//       <ImageUploading\n//         multiple\n//         value={images}\n//         onChange={onChange}\n//         maxNumber={maxNumber}\n//         dataURLKey=\"data_url\"\n//       >\n//         {({\n//           imageList,\n//           onImageUpload,\n//           onImageRemoveAll,\n//           onImageUpdate,\n//           onImageRemove,\n//           isDragging,\n//           dragProps,\n//         }) => (\n//           // write your building UI\n//           <div className=\"upload__image-wrapper\">\n//             {!images.length &&\n//               <Container \n//                 className={classes.photoDrop}\n//                 onClick={onImageUpload}\n//                 {...dragProps}>\n//                   <p>Drag and drop photo or click to open.</p>\n//               </Container>\n//             }\n//             {/* <Container \n//               className={classes.photoDrop}\n//               onClick={onImageUpload}\n//               {...dragProps}>\n//                 <p>Drag and drop photo or click to open.</p>\n//             </Container> */}\n//             {/* <button\n//               style={isDragging ? { color: 'red' } : undefined}\n//               onClick={onImageUpload}\n//               {...dragProps}\n//             >\n//               Click or Drop here\n//             </button> */}\n//             &nbsp;\n//             {/* <button onClick={onImageRemoveAll}>Remove all images</button> */}\n//             {imageList.map((image, index) => (\n//               <div key={index} className=\"image-item\">\n//                 <img src={image['data_url']} alt=\"\" />\n//                 {/* {width = image['data_url'].width} */}\n//                 <div className=\"image-item__btn-wrapper\">\n//                   {/* <button onClick={() => onImageUpdate(index)}>Update</button> */}\n//                   <button onClick={() => onImageRemove(index)}>Remove</button>\n//                 </div>\n//               </div>\n//             ))}\n//           </div>\n//         )}\n//       </ImageUploading>\n//     </div>\n//   );\n// }"]},"metadata":{},"sourceType":"module"}