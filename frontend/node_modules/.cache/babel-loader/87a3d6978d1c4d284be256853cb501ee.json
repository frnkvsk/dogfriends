{"ast":null,"code":"var _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/context/AuthContext.js\";\nimport React, { useState, createContext } from 'react';\nimport { useLogin } from '../hooks/useLogin';\nimport { useUserInfo } from '../hooks/useUserInfo';\nconst AuthContext = createContext();\nconst {\n  Provider\n} = AuthContext;\n\nconst AuthProvider = ({\n  children\n}) => {\n  const {\n    token,\n    setTokenStorage\n  } = useLogin();\n  const {\n    userInfo,\n    setUserInfoStorage\n  } = useUserInfo();\n  const [authState, setAuthState] = useState({\n    token: token,\n    userInfo: { ...this,\n      ...userInfo\n    }\n  });\n\n  const setAuthInfo = ({\n    token,\n    userInfo\n  }) => {\n    try {\n      setTokenStorage(token); // console.log('AuthContext setAuthInfo ',{username: userInfo.username}, userInfo)\n\n      setUserInfoStorage({\n        username: userInfo.username\n      });\n      setAuthState({\n        token,\n        userInfo\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Provider, {\n    value: {\n      authState,\n      setAuthState: authInfo => setAuthInfo(authInfo)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, children);\n};\n\nexport { AuthContext, AuthProvider };","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/context/AuthContext.js"],"names":["React","useState","createContext","useLogin","useUserInfo","AuthContext","Provider","AuthProvider","children","token","setTokenStorage","userInfo","setUserInfoStorage","authState","setAuthState","setAuthInfo","username","error","console","authInfo"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,aAA1B,QAA+C,OAA/C;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,MAAMC,WAAW,GAAGH,aAAa,EAAjC;AACA,MAAM;AAAEI,EAAAA;AAAF,IAAeD,WAArB;;AAEA,MAAME,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACrC,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAA6BP,QAAQ,EAA3C;AACA,QAAM;AAAEQ,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAmCR,WAAW,EAApD;AACA,QAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC;AACzCQ,IAAAA,KAAK,EAAEA,KADkC;AAEzCE,IAAAA,QAAQ,EAAE,EACR,GAAG,IADK;AAER,SAAGA;AAFK;AAF+B,GAAD,CAA1C;;AAOA,QAAMI,WAAW,GAAG,CAAC;AAAEN,IAAAA,KAAF;AAASE,IAAAA;AAAT,GAAD,KAAyB;AAC3C,QAAI;AACFD,MAAAA,eAAe,CAACD,KAAD,CAAf,CADE,CAEF;;AACAG,MAAAA,kBAAkB,CAAC;AAACI,QAAAA,QAAQ,EAAEL,QAAQ,CAACK;AAApB,OAAD,CAAlB;AACAF,MAAAA,YAAY,CAAC;AACXL,QAAAA,KADW;AAEXE,QAAAA;AAFW,OAAD,CAAZ;AAID,KARD,CAQE,OAAOM,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,GAZD;;AAcA,sBACE,oBAAC,QAAD;AACE,IAAA,KAAK,EACH;AACEJ,MAAAA,SADF;AAEEC,MAAAA,YAAY,EAAEK,QAAQ,IAAIJ,WAAW,CAACI,QAAD;AAFvC,KAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQGX,QARH,CADF;AAYD,CApCD;;AAsCA,SAASH,WAAT,EAAsBE,YAAtB","sourcesContent":["import React, { useState, createContext } from 'react';\nimport { useLogin } from '../hooks/useLogin';\nimport { useUserInfo } from '../hooks/useUserInfo';\nconst AuthContext = createContext();\nconst { Provider } = AuthContext;\n\nconst AuthProvider = ({ children }) => {\n  const { token, setTokenStorage } = useLogin();\n  const { userInfo, setUserInfoStorage } = useUserInfo();\n  const [authState, setAuthState] = useState({\n    token: token,\n    userInfo: {\n      ...this,\n      ...userInfo,      \n    }\n  });\n  const setAuthInfo = ({ token, userInfo }) => {\n    try {\n      setTokenStorage(token);\n      // console.log('AuthContext setAuthInfo ',{username: userInfo.username}, userInfo)\n      setUserInfoStorage({username: userInfo.username});\n      setAuthState({\n        token,\n        userInfo,      \n      });\n    } catch (error) {\n      console.error(error);\n    }    \n  }\n  \n  return (\n    <Provider\n      value={\n        {\n          authState,\n          setAuthState: authInfo => setAuthInfo(authInfo),\n        }\n      }\n      >\n      {children}\n    </Provider>\n  )\n}\n\nexport { AuthContext, AuthProvider };"]},"metadata":{},"sourceType":"module"}