{"ast":null,"code":"var _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/context/AuthContext.js\";\nimport React, { useState, createContext } from 'react';\nimport { useLogin } from '../hooks/useLogin';\nimport { useUserInfo } from '../hooks/useUserInfo';\nconst AuthContext = createContext();\nconst {\n  Provider\n} = AuthContext;\n\nconst AuthProvider = ({\n  children\n}) => {\n  const {\n    token,\n    setTokenStorage\n  } = useLogin();\n  const {\n    username,\n    setUserInfoStorage\n  } = useUserInfo(userInfo);\n  console.log('AuthContext username', username);\n  const [authState, setAuthState] = useState({\n    token: token,\n    userInfo: {\n      username: username\n    }\n  });\n\n  const setAuthInfo = ({\n    token,\n    userInfo\n  }) => {\n    try {\n      console.log('0AuthContext userInfo', userInfo);\n      setTokenStorage(token);\n      setUserInfoStorage({\n        username: authState.userInfo.username\n      });\n      setAuthState({\n        token,\n        userInfo\n      });\n      console.log('1AuthContext userInfo', userInfo);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Provider, {\n    value: {\n      authState,\n      setAuthState: authInfo => setAuthInfo(authInfo)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, children);\n};\n\nexport { AuthContext, AuthProvider };","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/context/AuthContext.js"],"names":["React","useState","createContext","useLogin","useUserInfo","AuthContext","Provider","AuthProvider","children","token","setTokenStorage","username","setUserInfoStorage","userInfo","console","log","authState","setAuthState","setAuthInfo","error","authInfo"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,aAA1B,QAA+C,OAA/C;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,MAAMC,WAAW,GAAGH,aAAa,EAAjC;AACA,MAAM;AAAEI,EAAAA;AAAF,IAAeD,WAArB;;AAEA,MAAME,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACrC,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAA6BP,QAAQ,EAA3C;AACA,QAAM;AAAEQ,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAmCR,WAAW,CAACS,QAAD,CAApD;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAmCJ,QAAnC;AACA,QAAM,CAACK,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC;AACzCQ,IAAAA,KAAK,EAAEA,KADkC;AAEzCI,IAAAA,QAAQ,EAAE;AACRF,MAAAA,QAAQ,EAAEA;AADF;AAF+B,GAAD,CAA1C;;AAMA,QAAMO,WAAW,GAAG,CAAC;AAAET,IAAAA,KAAF;AAASI,IAAAA;AAAT,GAAD,KAAyB;AAC3C,QAAI;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAoCF,QAApC;AACAH,MAAAA,eAAe,CAACD,KAAD,CAAf;AACAG,MAAAA,kBAAkB,CAAC;AAACD,QAAAA,QAAQ,EAAEK,SAAS,CAACH,QAAV,CAAmBF;AAA9B,OAAD,CAAlB;AACAM,MAAAA,YAAY,CAAC;AACXR,QAAAA,KADW;AAEXI,QAAAA;AAFW,OAAD,CAAZ;AAIAC,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAoCF,QAApC;AACD,KATD,CASE,OAAOM,KAAP,EAAc;AACdL,MAAAA,OAAO,CAACK,KAAR,CAAcA,KAAd;AACD;AACF,GAbD;;AAeA,sBACE,oBAAC,QAAD;AACE,IAAA,KAAK,EACH;AACEH,MAAAA,SADF;AAEEC,MAAAA,YAAY,EAAEG,QAAQ,IAAIF,WAAW,CAACE,QAAD;AAFvC,KAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQGZ,QARH,CADF;AAYD,CArCD;;AAuCA,SAASH,WAAT,EAAsBE,YAAtB","sourcesContent":["import React, { useState, createContext } from 'react';\nimport { useLogin } from '../hooks/useLogin';\nimport { useUserInfo } from '../hooks/useUserInfo';\nconst AuthContext = createContext();\nconst { Provider } = AuthContext;\n\nconst AuthProvider = ({ children }) => {\n  const { token, setTokenStorage } = useLogin();\n  const { username, setUserInfoStorage } = useUserInfo(userInfo);\n  console.log('AuthContext username',username)\n  const [authState, setAuthState] = useState({\n    token: token,\n    userInfo: {\n      username: username\n    }\n  });\n  const setAuthInfo = ({ token, userInfo }) => {\n    try {\n      console.log('0AuthContext userInfo',userInfo)\n      setTokenStorage(token);\n      setUserInfoStorage({username: authState.userInfo.username});\n      setAuthState({\n        token,\n        userInfo,      \n      });\n      console.log('1AuthContext userInfo',userInfo)\n    } catch (error) {\n      console.error(error);\n    }    \n  }\n  \n  return (\n    <Provider\n      value={\n        {\n          authState,\n          setAuthState: authInfo => setAuthInfo(authInfo),\n        }\n      }\n      >\n      {children}\n    </Provider>\n  )\n}\n\nexport { AuthContext, AuthProvider };"]},"metadata":{},"sourceType":"module"}