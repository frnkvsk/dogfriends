{"ast":null,"code":"var _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/App.js\";\nimport React, { useContext, useEffect } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Navbar from './features/dogfriends/components/Navbar';\nimport Home from './features/dogfriends/pages/Home';\nimport NewPost from './features/dogfriends/pages/NewPost';\nimport Login from './features/dogfriends/pages/Login';\nimport PostList from './features/dogfriends/pages/PostList';\nimport { makeStyles } from '@material-ui/core';\nimport Profile from './features/dogfriends/pages/Profile';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectUser } from '../src/features/dogfriends/dogfriendsUserSlice';\nimport { AuthContext } from '../src/features/dogfriends/context/AuthContext';\nimport { getUserInfoSlice } from '../src/features/dogfriends/dogfriendsUserSlice'; // import { setUserList } from '../src/features/dogfriends/dogfriendsUserSlice';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    padding: '20px',\n    width: '100%'\n  },\n  main: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    [theme.breakpoints.down('md')]: {\n      width: '100%'\n    },\n    [theme.breakpoints.up('lg')]: {\n      width: '85%'\n    },\n    [theme.breakpoints.up('xl')]: {\n      width: '75%'\n    },\n    border: 'none'\n  }\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const userList = useSelector(selectUser);\n  const dispatch = useDispatch();\n  const auth = useContext(AuthContext); // const token = auth.authState.token;\n  // const username = auth.authState.userInfo.username;\n\n  console.log('App auth', auth);\n  console.log('App userList', userList.data.user);\n  useEffect(() => {\n    if (userList.status === 'fulfilled' && userList.data.user.photo_id && !userList.data.user.photo_url) {\n      console.log('App useEffect userList.status', userList.status);\n      console.log('App useEffect userList', userList); // if() {\n\n      console.log('no photo url');\n      const username = auth.authState.userInfo.username;\n      const token = auth.authState.token;\n      dispatch(getUserInfoSlice({\n        username,\n        token\n      })); // }\n    }\n  }, [userList]);\n  return /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    className: classes.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Home, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(NewPost, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Profile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/:id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(PostList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/App.js"],"names":["React","useContext","useEffect","BrowserRouter","Route","Switch","Navbar","Home","NewPost","Login","PostList","makeStyles","Profile","useSelector","useDispatch","selectUser","AuthContext","getUserInfoSlice","useStyles","theme","root","display","flexDirection","alignItems","justifyContent","padding","width","main","breakpoints","down","up","border","App","classes","userList","dispatch","auth","console","log","data","user","status","photo_id","photo_url","username","authState","userInfo","token"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport Navbar from './features/dogfriends/components/Navbar'; \r\nimport Home from './features/dogfriends/pages/Home';\r\nimport NewPost from './features/dogfriends/pages/NewPost';\r\nimport Login from './features/dogfriends/pages/Login';\r\nimport PostList from './features/dogfriends/pages/PostList';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Profile from './features/dogfriends/pages/Profile';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { selectUser } from '../src/features/dogfriends/dogfriendsUserSlice';\r\nimport { AuthContext } from '../src/features/dogfriends/context/AuthContext';\r\nimport { getUserInfoSlice } from '../src/features/dogfriends/dogfriendsUserSlice';\r\n// import { setUserList } from '../src/features/dogfriends/dogfriendsUserSlice';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-start',\r\n    justifyContent: 'flex-start',\r\n    padding: '20px',\r\n    width: '100%',\r\n  },\r\n  main: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    [theme.breakpoints.down('md')]: {\r\n      width: '100%'\r\n    },\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: '85%'\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      width: '75%'\r\n    },\r\n    border: 'none',\r\n  },\r\n}));\r\nfunction App() {\r\n  const classes = useStyles();\r\n  const userList = useSelector(selectUser);\r\n  const dispatch = useDispatch();\r\n  const auth = useContext(AuthContext);\r\n  // const token = auth.authState.token;\r\n  // const username = auth.authState.userInfo.username;\r\n  console.log('App auth',auth)\r\n  console.log('App userList',userList.data.user)\r\n  useEffect(() => {\r\n    if(userList.status === 'fulfilled' && (userList.data.user.photo_id && !userList.data.user.photo_url)) {\r\n      console.log('App useEffect userList.status',userList.status)\r\n      console.log('App useEffect userList',userList)\r\n      // if() {\r\n        console.log('no photo url')\r\n        const username = auth.authState.userInfo.username;\r\n        const token = auth.authState.token;\r\n        dispatch(getUserInfoSlice({username, token}))\r\n      // }\r\n      \r\n    }\r\n  }, [userList])\r\n  return (\r\n    <BrowserRouter>\r\n        <Navbar/>\r\n          <div className={classes.root}>\r\n            <main className={classes.main}>\r\n            <Switch>        \r\n              <Route exact path=\"/\">\r\n                <Home />        \r\n              </Route>\r\n              <Route exact path=\"/login\">\r\n                <Login/>        \r\n              </Route>\r\n              <Route exact path=\"/new\">\r\n                <NewPost/>        \r\n              </Route>\r\n              <Route exact path=\"/profile\">\r\n                <Profile/>        \r\n              </Route>\r\n              <Route exact path=\"/:id\">\r\n                <PostList/>        \r\n              </Route>                 \r\n                               \r\n            </Switch> \r\n            </main>        \r\n          </div>        \r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}