{"ast":null,"code":"var _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/pages/Login.js\";\n\n/** Login and Signup */\nimport React, { useState, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab'; // import { Container, FormHelperText, Box, Button } from '@material-ui/core';\n// import OutlinedInput from '@material-ui/core/OutlinedInput';\n// import { useHistory } from \"react-router-dom\";\n// import { login, signup, getUserInfo } from '../api/DogfriendsApi';\n// import { useFormInput } from '../hooks/useFormInput';\n\nimport { AuthContext } from '../context/AuthContext';\nimport { useDispatch } from 'react-redux';\nimport SignupForm from '../components/SignupForm';\nimport LoginForm from '../components/LoginForm';\nimport { signUpSlice } from '../dogfriendsUserSlice';\n\nfunction LinkTab(props) {\n  return /*#__PURE__*/React.createElement(Tab, Object.assign({\n    component: \"a\",\n    onClick: event => {\n      event.preventDefault();\n    }\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  }));\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: '100%',\n    minHeight: '100vh',\n    maxWidth: '500px',\n    paddingTop: '30px',\n    height: '100vh' // border: '1px solid red'\n\n  },\n  form: {\n    width: '100%',\n    backgroundColor: '#ffffff'\n  },\n  label: {\n    fontSize: '18px',\n    fontWeight: 'bold',\n    width: '90%',\n    margin: '10px 20px 0 20px'\n  },\n  input: {\n    width: '90%',\n    margin: '0 20px 0 20px'\n  },\n  button: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    margin: '10px 20px 15px'\n  },\n  err: {\n    color: '#ff1744',\n    fontSize: '24px'\n  }\n}));\nexport default function Login() {\n  const classes = useStyles(); // const history = useHistory();\n  // const auth = useContext(AuthContext);\n\n  const [loginType, setValue] = useState(\"login\"); // const [errorMessage, setErrorMessage] = useState(false);  \n  // const username = useFormInput(\"\");\n  // const password = useFormInput(\"\");\n  // const first_name = useFormInput(\"\");\n  // const last_name = useFormInput(\"\");  \n  // const photo_url = useFormInput(\"\");\n  // const email = useFormInput(\"\");\n\n  const handleChange = (e, newValue) => {\n    setValue(newValue);\n  };\n\n  const auth = useContext(AuthContext);\n  const dispatch = useDispatch();\n  console.log('SignupForm auth', auth);\n\n  const handleSubmit = ({\n    username,\n    password,\n    first_name,\n    last_name,\n    email,\n    photo_id,\n    city,\n    state,\n    country\n  }) => {\n    const userInfo = {\n      username,\n      password,\n      first_name,\n      last_name,\n      email,\n      photo_id,\n      city,\n      state,\n      country\n    };\n    userInfo._token = auth.authState.token;\n    userInfo.username = auth.authState.userInfo.username;\n    console.log('SignupForm userInfo', userInfo);\n    dispatch(signUpSlice(userInfo));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    variant: \"fullWidth\",\n    value: loginType,\n    onChange: handleChange,\n    \"aria-label\": \"nav tabs example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LinkTab, {\n    label: \"Login\",\n    value: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(LinkTab, {\n    label: \"Sign up\",\n    value: \"signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }))), loginType === 'login' ? /*#__PURE__*/React.createElement(LoginForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(SignupForm, {\n    handleSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 49\n    }\n  }));\n}","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/pages/Login.js"],"names":["React","useState","useContext","makeStyles","AppBar","Tabs","Tab","AuthContext","useDispatch","SignupForm","LoginForm","signUpSlice","LinkTab","props","event","preventDefault","useStyles","theme","root","display","flexDirection","alignItems","justifyContent","width","minHeight","maxWidth","paddingTop","height","form","backgroundColor","label","fontSize","fontWeight","margin","input","button","err","color","Login","classes","loginType","setValue","handleChange","e","newValue","auth","dispatch","console","log","handleSubmit","username","password","first_name","last_name","email","photo_id","city","state","country","userInfo","_token","authState","token"],"mappings":"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","sourcesContent":["/** Login and Signup */\nimport React, { useState, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n// import { Container, FormHelperText, Box, Button } from '@material-ui/core';\n// import OutlinedInput from '@material-ui/core/OutlinedInput';\n// import { useHistory } from \"react-router-dom\";\n// import { login, signup, getUserInfo } from '../api/DogfriendsApi';\n// import { useFormInput } from '../hooks/useFormInput';\nimport { AuthContext } from '../context/AuthContext';\nimport { useDispatch } from 'react-redux';\nimport SignupForm from '../components/SignupForm';\nimport LoginForm from '../components/LoginForm';\nimport { signUpSlice } from '../dogfriendsUserSlice';\n\nfunction LinkTab(props) {\n  return (\n    <Tab\n      component=\"a\"\n      onClick={(event) => {\n        event.preventDefault();\n      }}\n      {...props}\n    />\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: '100%',\n    minHeight: '100vh',\n    maxWidth: '500px',\n    paddingTop: '30px',\n    height: '100vh',\n    // border: '1px solid red'\n  },\n  form: {\n    width: '100%',\n    backgroundColor: '#ffffff',\n  },\n  label: {\n    fontSize: '18px',\n    fontWeight: 'bold',\n    width: '90%',\n    margin: '10px 20px 0 20px',\n  },\n  input: {\n    width: '90%',\n    margin: '0 20px 0 20px',\n  },\n  button: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    margin: '10px 20px 15px',\n  },\n  err: {\n    color: '#ff1744',\n    fontSize: '24px',\n  }\n\n}));\n\nexport default function Login() {\n  const classes = useStyles();\n  // const history = useHistory();\n  // const auth = useContext(AuthContext);\n  const [loginType, setValue] = useState(\"login\");\n  // const [errorMessage, setErrorMessage] = useState(false);  \n  // const username = useFormInput(\"\");\n  // const password = useFormInput(\"\");\n  // const first_name = useFormInput(\"\");\n  // const last_name = useFormInput(\"\");  \n  // const photo_url = useFormInput(\"\");\n  // const email = useFormInput(\"\");\n\n  const handleChange = (e, newValue) => {\n    setValue(newValue);\n  }\n\n  const auth = useContext(AuthContext);\n  const dispatch = useDispatch();\n  console.log('SignupForm auth',auth)\n  const handleSubmit = ({\n    username,\n    password,\n    first_name,\n    last_name, \n    email, \n    photo_id,\n    city, \n    state, \n    country \n    }) => {\n    const userInfo = {\n      username,\n      password,\n      first_name,\n      last_name, \n      email, \n      photo_id,\n      city, \n      state, \n      country \n    }\n    userInfo._token = auth.authState.token;\n    userInfo.username = auth.authState.userInfo.username;\n    console.log('SignupForm userInfo',userInfo)\n    dispatch(signUpSlice(userInfo));\n  }\n  \n\n  return (\n    \n    <div className={classes.root}>\n      {/* <Box className={classes.err} \n        component=\"span\" \n        display={errorMessage ? 'block' : 'none'}\n        >\n          Error: Invalid credentials\n      </Box> */}\n      <AppBar position=\"static\">\n        <Tabs\n          variant=\"fullWidth\"\n          value={loginType}\n          onChange={handleChange}\n          aria-label=\"nav tabs example\"\n        >\n          <LinkTab label=\"Login\" value=\"login\" />\n          <LinkTab label=\"Sign up\" value=\"signup\" />\n        </Tabs>\n      </AppBar>\n      \n      { loginType === 'login' ? <LoginForm /> : <SignupForm handleSubmit={handleSubmit} /> }\n    </div>\n  );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}