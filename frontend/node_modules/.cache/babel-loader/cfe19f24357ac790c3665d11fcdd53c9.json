{"ast":null,"code":"var _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/SignupForm.js\";\nimport React, { useState, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport { Button, TextField } from '@material-ui/core';\nimport UploadPhoto from './UploadPhoto';\nimport { AuthContext } from '../context/AuthContext';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  backButton: {\n    margin: '10px'\n  },\n  main: {// display: 'flex',\n    // flexDirection: 'column',\n    // alignItems: 'center',\n    // justifyContent: 'center',\n    // width: '100%',\n    // minWidth: '400px',\n    // border: '1px solid #e0e0e0',\n    // [theme.breakpoints.down('md')]: {\n    //   width: '100%',\n    //   margin: '0px'\n    // },\n    // [theme.breakpoints.up('lg')]: {\n    //   width: '85%',\n    //   margin: '25px 0 25px 0',\n    // },\n    // [theme.breakpoints.up('xl')]: {\n    //   width: '75%',\n    //   margin: '25px 0 25px 0',\n    // },\n  },\n  formElement: {\n    width: '95%',\n    margin: '10px'\n  }\n}));\n\nfunction getSteps() {\n  return ['Create a username and password (required)', 'Enter your contact info (required)', 'Further define your account (optional)', 'Review and confirm account creation'];\n}\n\nexport default function SignupForm({\n  handleSubmit\n}) {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const token = auth.authState.token;\n  console.log('SignupForm token', token); // Step 1 (required) make sure username and password are valid\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState(''); // Step 2 (required) make sure email is valid and complete registration process\n\n  const [first_name, setFirstName] = useState('');\n  const [last_name, setLastName] = useState('');\n  const [email, setEmail] = useState(''); // Step 3 (optional) allow the option for new user to further define their account \n\n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [country, setCountry] = useState('');\n  const [photo_details, setPhotoDetails] = useState({\n    photo_id: null,\n    photo_url: null\n  });\n  const [activeStep, setActiveStep] = React.useState(0);\n  const steps = getSteps();\n\n  const handleNext = async () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n\n    if (activeStep === 1) {\n      console.log('activeStep === 1');\n      const resp = await handleSubmit({\n        username,\n        password,\n        first_name,\n        last_name,\n        email,\n        photo_id: null,\n        city,\n        state,\n        country\n      });\n      console.log('SignupForm handleNext resp', resp);\n    }\n\n    if (activeStep === steps.length - 1) {\n      console.log('activeStep === steps.length =>', activeStep, '  photo_details', photo_details);\n      handleSubmit({\n        first_name,\n        last_name,\n        email,\n        photo_id: photo_details.photo_id,\n        city,\n        state,\n        country\n      });\n    }\n  };\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Stepper, {\n    activeStep: activeStep,\n    alternativeLabel: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, steps.map(label => /*#__PURE__*/React.createElement(Step, {\n    key: label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(StepLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, label)))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, activeStep === steps.length ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    component: 'span',\n    className: classes.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"All steps completed\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleReset,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Reset\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    component: 'span',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, activeStep === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"Username: (required)\",\n    variant: \"outlined\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"Password: (required)\",\n    variant: \"outlined\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  })) : activeStep === 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"First Name: (required)\",\n    variant: \"outlined\",\n    value: first_name,\n    onChange: e => setFirstName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"Last Name: (required)\",\n    variant: \"outlined\",\n    value: last_name,\n    onChange: e => setLastName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"Email: (required)\",\n    variant: \"outlined\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 19\n    }\n  })) : activeStep === 2 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"City: (optional)\",\n    variant: \"outlined\",\n    value: city,\n    onChange: e => setCity(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"State: (optional)\",\n    variant: \"outlined\",\n    value: state,\n    onChange: e => setState(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.formElement,\n    label: \"Country: (optional)\",\n    variant: \"outlined\",\n    value: country,\n    onChange: e => setCountry(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(UploadPhoto, {\n    token: token,\n    setPhotoDetails: setPhotoDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 19\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  }, \"Username: \", username), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 21\n    }\n  }, \"First Name: \", first_name), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 21\n    }\n  }, \"Last Name: \", last_name), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 21\n    }\n  }, \"Email: \", email), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  }, \"City: \", city), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 21\n    }\n  }, \"State: \", state), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }\n  }, \"Country: \", country)))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: activeStep === 0,\n    onClick: handleBack,\n    className: classes.backButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 15\n    }\n  }, \"Back\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 15\n    }\n  }, activeStep === steps.length - 1 ? 'Submit' : 'Next')))));\n}","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/SignupForm.js"],"names":["React","useState","useContext","makeStyles","Stepper","Step","StepLabel","Button","TextField","UploadPhoto","AuthContext","useStyles","theme","root","display","flexDirection","alignItems","justifyContent","width","backButton","margin","main","formElement","getSteps","SignupForm","handleSubmit","classes","auth","token","authState","console","log","username","setUsername","password","setPassword","first_name","setFirstName","last_name","setLastName","email","setEmail","city","setCity","state","setState","country","setCountry","photo_details","setPhotoDetails","photo_id","photo_url","activeStep","setActiveStep","steps","handleNext","prevActiveStep","resp","length","handleBack","handleReset","map","label","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport { Button, TextField } from '@material-ui/core';\nimport UploadPhoto from './UploadPhoto';\nimport { AuthContext } from '../context/AuthContext';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n  },\n  backButton: {\n    margin: '10px',\n  },\n  main: {\n    // display: 'flex',\n    // flexDirection: 'column',\n    // alignItems: 'center',\n    // justifyContent: 'center',\n    // width: '100%',\n    // minWidth: '400px',\n    \n    // border: '1px solid #e0e0e0',\n    // [theme.breakpoints.down('md')]: {\n    //   width: '100%',\n    //   margin: '0px'\n    // },\n    // [theme.breakpoints.up('lg')]: {\n    //   width: '85%',\n    //   margin: '25px 0 25px 0',\n    // },\n    // [theme.breakpoints.up('xl')]: {\n    //   width: '75%',\n    //   margin: '25px 0 25px 0',\n    // },\n  },\n  formElement: {\n    width: '95%',\n    margin: '10px'\n  },\n}));\n\nfunction getSteps() {\n  return ['Create a username and password (required)', 'Enter your contact info (required)', 'Further define your account (optional)', 'Review and confirm account creation'];\n}\n\nexport default function SignupForm({handleSubmit}) {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const token = auth.authState.token;\n  console.log('SignupForm token',token)\n  // Step 1 (required) make sure username and password are valid\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  // Step 2 (required) make sure email is valid and complete registration process\n  const [first_name, setFirstName] = useState('');\n  const [last_name, setLastName] = useState('');  \n  const [email, setEmail] = useState('');\n  \n  // Step 3 (optional) allow the option for new user to further define their account \n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [country, setCountry] = useState('');\n\n  const [photo_details, setPhotoDetails] = useState({\n    photo_id: null,\n    photo_url: null\n  });\n\n  const [activeStep, setActiveStep] = React.useState(0);\n  const steps = getSteps();\n\n  const handleNext = async () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n    if(activeStep === 1) {\n      console.log('activeStep === 1')\n      const resp = await handleSubmit({\n        username,\n        password,\n        first_name,\n        last_name, \n        email, \n        photo_id: null,\n        city, \n        state, \n        country\n      });\n      console.log('SignupForm handleNext resp',resp)\n    }\n    if(activeStep === steps.length-1) {\n      console.log('activeStep === steps.length =>',activeStep,'  photo_details',photo_details)\n      handleSubmit({\n        first_name,\n        last_name, \n        email, \n        photo_id: photo_details.photo_id,\n        city, \n        state, \n        country\n      });\n    }\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <div>\n        {activeStep === steps.length ? (\n          <div>\n            <div component={'span'} className={classes.main}>All steps completed</div>\n            <Button onClick={handleReset}>Reset</Button>\n          </div>\n        ) : (\n          <div>\n            <div component={'span'}>\n              {activeStep===0 ?\n              (\n                <div className={classes.main}>\n                  <TextField \n                    className={classes.formElement} \n                    label='Username: (required)' \n                    variant='outlined' \n                    value={username} \n                    onChange={e => setUsername(e.target.value)}/>\n                  <TextField \n                    className={classes.formElement} \n                    label='Password: (required)' \n                    variant='outlined' \n                    value={password} \n                    onChange={e => setPassword(e.target.value)}/>\n                </div>\n              ) :\n              activeStep===1 ?\n              (\n                <div className={classes.main}>\n                  <TextField \n                    className={classes.formElement} \n                    label='First Name: (required)' \n                    variant='outlined' \n                    value={first_name} \n                    onChange={e => setFirstName(e.target.value)}/>\n                  <TextField \n                    className={classes.formElement} \n                    label='Last Name: (required)' \n                    variant='outlined' \n                    value={last_name} \n                    onChange={e => setLastName(e.target.value)}/>\n                  <TextField \n                    className={classes.formElement} \n                    label='Email: (required)' \n                    variant='outlined' \n                    value={email} \n                    onChange={e => setEmail(e.target.value)}/>\n                </div>\n              ) :\n              activeStep===2 ?\n              (\n                <div className={classes.main}>\n                  <TextField \n                    className={classes.formElement} \n                    label='City: (optional)' \n                    variant='outlined' \n                    value={city} \n                    onChange={e => setCity(e.target.value)}/>\n                  <TextField \n                    className={classes.formElement} \n                    label='State: (optional)' \n                    variant='outlined' \n                    value={state} \n                    onChange={e => setState(e.target.value)}/>\n                  <TextField \n                    className={classes.formElement} \n                    label='Country: (optional)' \n                    variant='outlined' \n                    value={country} \n                    onChange={e => setCountry(e.target.value)}/>\n                  <UploadPhoto token={token} setPhotoDetails={setPhotoDetails} />\n                </div>\n              ) :\n              (\n                <div className={classes.main}>\n                  <div>\n                    <div>Username: {username}</div>\n                    <div>First Name: {first_name}</div>\n                    <div>Last Name: {last_name}</div>\n                    <div>Email: {email}</div>\n                    <div>City: {city}</div>\n                    <div>State: {state}</div>\n                    <div>Country: {country}</div>\n                  </div>\n                </div>\n              )}</div>\n            <div>\n              <Button\n                disabled={activeStep === 0}\n                onClick={handleBack}\n                className={classes.backButton}\n              >\n                Back\n              </Button>\n              <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\n                {activeStep === steps.length - 1 ? 'Submit' : 'Next'}\n              </Button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}