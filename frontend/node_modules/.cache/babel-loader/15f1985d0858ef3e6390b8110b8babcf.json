{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/pages/PostList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { makeStyles, Tooltip } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getPostDataById, removePost, selectPosts, getPostsData } from '../dogfriendsPostsSlice';\nimport NewPostForm from './../components/NewPostForm'; // import BlogComments from '../components/BlogComments';\n\nimport { AuthContext } from '../context/AuthContext';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    fontSize: '22px',\n    padding: '7px',\n    border: '1px solid blue' // border: '1px solid #e0e0e0', \n\n  },\n  titleWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    fontSize: '32px',\n    fontWeight: '500',\n    marginBottom: '0px'\n  },\n  title: {\n    fontSize: '56px'\n  },\n  closeIcon: {\n    color: 'red',\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    marginRight: '10px'\n  },\n  editIcon: {\n    color: '#2196f3',\n    cursor: 'pointer',\n    marginRight: '10px'\n  },\n  hr: {\n    width: '100%',\n    border: '1px solid #9e9e9e'\n  },\n  button: {\n    width: '80px'\n  },\n  description: {\n    fontSize: '22px',\n    fontStyle: 'italic',\n    margin: '12px 0 5px 0'\n  },\n  body: {\n    fontSize: '22px',\n    margin: '25px 0 5px 0'\n  }\n}));\nexport default function PostList() {\n  _s();\n\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const history = useHistory();\n  const [state, setState] = useState('display');\n  const dispatch = useDispatch();\n  const postList = useSelector(selectPosts);\n  const {\n    id\n  } = useParams();\n  const rootRef = React.useRef(null);\n  useEffect(() => {\n    dispatch(getPostDataById(id));\n  }, [dispatch, id]);\n\n  const handleEdit = () => {\n    setState('edit');\n  };\n\n  const handleDelete = () => {\n    dispatch(removePost({\n      id: id,\n      username: auth.authState.userInfo.username,\n      token: auth.authState.token\n    }));\n    setTimeout(() => {\n      dispatch(getPostsData());\n    }, 100);\n    history.push('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: state === 'display' ? postList && postList.data && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.titleWrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.title,\n          children: postList.data.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.iconWrapper,\n          children: postList.data.username === auth.authState.userInfo.username && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Edit Post\",\n              ref: () => rootRef.current,\n              children: /*#__PURE__*/_jsxDEV(EditIcon, {\n                className: classes.editIcon,\n                onClick: handleEdit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Delete Post\",\n              ref: () => rootRef.current,\n              children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n                className: classes.closeIcon,\n                onClick: handleDelete\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.description,\n        children: postList.data.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.body,\n        children: postList.data.body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: classes.hr\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.titleWrapper,\n        children: \"Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(NewPostForm, {\n      data: postList.data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PostList, \"+qOfhkySRM7VZjbjU/KHtZ9uoSE=\", false, function () {\n  return [useStyles, useHistory, useDispatch, useSelector, useParams];\n});\n\n_c = PostList;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostList\");","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/pages/PostList.js"],"names":["React","useContext","useEffect","useState","useParams","useHistory","makeStyles","Tooltip","CloseIcon","EditIcon","useSelector","useDispatch","getPostDataById","removePost","selectPosts","getPostsData","NewPostForm","AuthContext","useStyles","theme","root","display","flexDirection","width","fontSize","padding","border","titleWrapper","alignItems","justifyContent","fontWeight","marginBottom","title","closeIcon","color","cursor","marginRight","editIcon","hr","button","description","fontStyle","margin","body","PostList","classes","auth","history","state","setState","dispatch","postList","id","rootRef","useRef","handleEdit","handleDelete","username","authState","userInfo","token","setTimeout","push","data","iconWrapper","current"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { makeStyles, Tooltip } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport EditIcon from '@material-ui/icons/Edit';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { \n  getPostDataById,\n  removePost, \n  selectPosts, \n  getPostsData,\n} from '../dogfriendsPostsSlice';\nimport NewPostForm from './../components/NewPostForm';\n// import BlogComments from '../components/BlogComments';\nimport { AuthContext } from '../context/AuthContext';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {    \n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%', \n    fontSize: '22px',\n    padding: '7px',\n    border: '1px solid blue', \n    // border: '1px solid #e0e0e0', \n  },\n  titleWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    fontSize: '32px',\n    fontWeight: '500',\n    marginBottom: '0px',\n  },\n  title: {\n    fontSize: '56px',\n  },\n  closeIcon: {\n    color: 'red',\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    marginRight: '10px',\n  },\n  editIcon: {\n    color: '#2196f3',\n    cursor: 'pointer',\n    marginRight: '10px',\n  },\n  hr: {\n    width: '100%',\n    border: '1px solid #9e9e9e',\n  },\n  button: {\n    width: '80px',\n  },\n  description: {\n    fontSize: '22px',\n    fontStyle: 'italic',\n    margin: '12px 0 5px 0',\n    \n  },\n  body: {\n    fontSize: '22px',\n\n    margin: '25px 0 5px 0',\n  },\n  \n}));\n\nexport default function PostList() {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const history = useHistory();\n  const [state, setState] = useState('display');\n  const dispatch = useDispatch();\n  const postList = useSelector(selectPosts);\n  const {id} = useParams();\n  const rootRef = React.useRef(null);\n\n  useEffect(() => {\n    dispatch(getPostDataById(id));\n  }, [dispatch, id]);\n  \n  const handleEdit = () => {\n    setState('edit');\n  }\n\n  const handleDelete = () => {\n    dispatch(removePost({\n      id: id, \n      username: auth.authState.userInfo.username,\n      token: auth.authState.token\n    }));\n    setTimeout(() => {\n      dispatch(getPostsData());\n    }, 100);\n    history.push('/');\n  }\n\n  return (\n    <div className={classes.root}>\n      {state === 'display' ? (\n        postList && postList.data && (\n          <>\n            <div className={classes.titleWrapper}>\n              <div className={classes.title}>{postList.data.title}</div>\n              <div className={classes.iconWrapper} >\n                {postList.data.username === auth.authState.userInfo.username &&\n                  <>\n                  <Tooltip title=\"Edit Post\" ref={() => rootRef.current}>\n                    <EditIcon className={classes.editIcon} onClick={handleEdit}/>\n                  </Tooltip>\n                  <Tooltip title=\"Delete Post\" ref={() => rootRef.current}>\n                    <CloseIcon className={classes.closeIcon} onClick={handleDelete}/>\n                  </Tooltip> \n                  </> \n                }\n                                \n              </div>\n            </div>          \n            <div className={classes.description}>{postList.data.description}</div>\n            <div className={classes.body}>{postList.data.body}</div>\n            <hr className={classes.hr}/>\n            <div className={classes.titleWrapper}>Comments</div>\n            {/* <BlogComments id={id}/> */}\n          </>\n      )) : (\n        <NewPostForm data={postList.data}/>\n      )}      \n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}