{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/UploadPhoto.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core'; // import {\n//   postPhotoNew\n// } from '../dogfriendsPhotosSlice';\n\nimport { postNewPhoto // postDestroyPhoto\n} from '../api/DogfriendsPhotosApi';\nconst useStyles = makeStyles(theme => ({\n  dropzone: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '8rem',\n    margin: '1rem',\n    padding: '1rem',\n    border: '2px dashed salmon',\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: '2rem',\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    color: '#424242',\n    active: {\n      border: '2px solid rebeccapurple'\n    }\n  },\n  instruction: {\n    fontSize: '12px',\n    fontStyle: 'italic',\n    color: '#6d6d6d'\n  }\n}));\nexport default function UploadPhoto({\n  token,\n  setPhotoDetails\n}) {\n  _s();\n\n  const classes = useStyles(); // const onDrop = useCallback(async (acceptedFiles) => {\n  //   console.log('UploadPhoto acceptedFiles',acceptedFiles)\n  //   // const url = process.env.REACT_APP_CLOUDINARY_BASE_URL+'upload';\n  //   const formData = new FormData();\n  //   formData.append('file', acceptedFiles[0]);\n  //   // formData.append('upload_preset', process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET);\n  //   try {\n  //     const response = await postNewPhoto(formData);\n  //     // const response = await postNewPhoto(acceptedFiles[0]);\n  //     console.log('UploadPhoto response',response)\n  //     // const response = await postNewPhoto(url, formData, token);\n  //     // if(response.status === 200) {\n  //     //   console.log('UploadPhoto onDrop response',response)\n  //     //   let {id, url} = response.data;\n  //     //   setPhotoDetails({\n  //     //     photo_id: id,\n  //     //     photo_url: url\n  //     //   });\n  //     // } \n  //   } catch (error) {\n  //     console.error('UploadPhoto err',error)\n  //   }\n  // console.log('UploadPhoto response',response)   \n  // console.log('UploadPhoto response',response.data)\n  // eslint-disable-next-line\n  // }, [token]);\n\n  const onDrop = useCallback(acceptedFiles => {\n    acceptedFiles.forEach(file => {\n      const reader = new FileReader();\n\n      reader.onabort = () => console.log('file reading was aborted');\n\n      reader.onerror = () => console.log('file reading has failed');\n\n      reader.onload = () => {\n        // Do whatever you want with the file contents\n        const binaryStr = reader.result;\n        console.log(\"binaryStr\", binaryStr);\n      };\n\n      reader.readAsArrayBuffer(file); // console.log('reader',reader)\n    });\n  }, []);\n  const {\n    getRootProps,\n    getInputProps\n  } = useDropzone({\n    onDrop,\n    accepts: 'image/*',\n    multiple: false\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.dropzone,\n      ...getRootProps(),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", { ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), \"Photo Drop Zone\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.instruction,\n        children: \"Drag/Drop or Click to open.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(UploadPhoto, \"F+1HZqguBdI2/f1jSMgDvF1mZFE=\", false, function () {\n  return [useStyles, useDropzone];\n});\n\n_c = UploadPhoto;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadPhoto\");","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/UploadPhoto.js"],"names":["React","useCallback","useDropzone","makeStyles","postNewPhoto","useStyles","theme","dropzone","display","flexDirection","height","margin","padding","border","justifyContent","alignItems","fontSize","fontWeight","cursor","color","active","instruction","fontStyle","UploadPhoto","token","setPhotoDetails","classes","onDrop","acceptedFiles","forEach","file","reader","FileReader","onabort","console","log","onerror","onload","binaryStr","result","readAsArrayBuffer","getRootProps","getInputProps","accepts","multiple"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAiBC,WAAjB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,UAAT,QAA2B,mBAA3B,C,CACA;AACA;AACA;;AAEA,SACEC,YADF,CAEE;AAFF,OAGO,4BAHP;AAOA,MAAMC,SAAS,GAAGF,UAAU,CAAEG,KAAD,KAAY;AACvCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,OAAO,EAAE,MADD;AAERC,IAAAA,aAAa,EAAE,QAFP;AAGRC,IAAAA,MAAM,EAAE,MAHA;AAIRC,IAAAA,MAAM,EAAE,MAJA;AAKRC,IAAAA,OAAO,EAAE,MALD;AAMRC,IAAAA,MAAM,EAAE,mBANA;AAORC,IAAAA,cAAc,EAAE,QAPR;AAQRC,IAAAA,UAAU,EAAE,QARJ;AASRC,IAAAA,QAAQ,EAAE,MATF;AAURC,IAAAA,UAAU,EAAE,MAVJ;AAWRC,IAAAA,MAAM,EAAE,SAXA;AAYRC,IAAAA,KAAK,EAAE,SAZC;AAaRC,IAAAA,MAAM,EAAE;AACNP,MAAAA,MAAM,EAAE;AADF;AAbA,GAD6B;AAkBvCQ,EAAAA,WAAW,EAAE;AACXL,IAAAA,QAAQ,EAAE,MADC;AAEXM,IAAAA,SAAS,EAAE,QAFA;AAGXH,IAAAA,KAAK,EAAE;AAHI;AAlB0B,CAAZ,CAAD,CAA5B;AA2BA,eAAe,SAASI,WAAT,CAAqB;AAACC,EAAAA,KAAD;AAAQC,EAAAA;AAAR,CAArB,EAA+C;AAAA;;AAC5D,QAAMC,OAAO,GAAGrB,SAAS,EAAzB,CAD4D,CAG5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGE;AACA;AAEA;AACF;;AACA,QAAMsB,MAAM,GAAG1B,WAAW,CAAE2B,aAAD,IAAmB;AAC5CA,IAAAA,aAAa,CAACC,OAAd,CAAuBC,IAAD,IAAU;AAC9B,YAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;;AAEAD,MAAAA,MAAM,CAACE,OAAP,GAAiB,MAAMC,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAAvB;;AACAJ,MAAAA,MAAM,CAACK,OAAP,GAAiB,MAAMF,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAAvB;;AACAJ,MAAAA,MAAM,CAACM,MAAP,GAAgB,MAAM;AACtB;AACE,cAAMC,SAAS,GAAGP,MAAM,CAACQ,MAAzB;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBG,SAAxB;AACD,OAJD;;AAKAP,MAAAA,MAAM,CAACS,iBAAP,CAAyBV,IAAzB,EAV8B,CAW9B;AACD,KAZD;AAcD,GAfyB,EAevB,EAfuB,CAA1B;AAiBA,QAAM;AAACW,IAAAA,YAAD;AAAeC,IAAAA;AAAf,MAAgCxC,WAAW,CAAC;AAChDyB,IAAAA,MADgD;AAEhDgB,IAAAA,OAAO,EAAE,SAFuC;AAGhDC,IAAAA,QAAQ,EAAE;AAHsC,GAAD,CAAjD;AAMA,sBACE;AAAA,2BACE;AAAK,MAAA,SAAS,EAAElB,OAAO,CAACnB,QAAxB;AAAA,SAAsCkC,YAAY,EAAlD;AAAA,8BACE,sBAAWC,aAAa;AAAxB;AAAA;AAAA;AAAA;AAAA,cADF,kCAGE;AAAK,QAAA,SAAS,EAAEhB,OAAO,CAACL,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AASD;;GAhEuBE,W;UACNlB,S,EAgDsBH,W;;;KAjDhBqB,W","sourcesContent":["import React , { useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { makeStyles } from '@material-ui/core';\n// import {\n//   postPhotoNew\n// } from '../dogfriendsPhotosSlice';\n\nimport {\n  postNewPhoto,\n  // postDestroyPhoto\n} from '../api/DogfriendsPhotosApi';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  dropzone: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '8rem',\n    margin: '1rem',\n    padding: '1rem',\n    border: '2px dashed salmon',\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: '2rem',\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    color: '#424242',\n    active: {\n      border: '2px solid rebeccapurple',\n    },\n  },\n  instruction: {\n    fontSize: '12px',\n    fontStyle: 'italic',\n    color: '#6d6d6d',\n  }\n  \n}));\n\n\nexport default function UploadPhoto({token, setPhotoDetails}) {\n  const classes = useStyles();\n\n  // const onDrop = useCallback(async (acceptedFiles) => {\n  //   console.log('UploadPhoto acceptedFiles',acceptedFiles)\n  //   // const url = process.env.REACT_APP_CLOUDINARY_BASE_URL+'upload';\n  //   const formData = new FormData();\n  //   formData.append('file', acceptedFiles[0]);\n  //   // formData.append('upload_preset', process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET);\n  //   try {\n  //     const response = await postNewPhoto(formData);\n  //     // const response = await postNewPhoto(acceptedFiles[0]);\n  //     console.log('UploadPhoto response',response)\n  //     // const response = await postNewPhoto(url, formData, token);\n  //     // if(response.status === 200) {\n  //     //   console.log('UploadPhoto onDrop response',response)\n  //     //   let {id, url} = response.data;\n  //     //   setPhotoDetails({\n  //     //     photo_id: id,\n  //     //     photo_url: url\n  //     //   });\n  //     // } \n  //   } catch (error) {\n  //     console.error('UploadPhoto err',error)\n  //   }\n    \n\n    // console.log('UploadPhoto response',response)   \n    // console.log('UploadPhoto response',response.data)\n      \n    // eslint-disable-next-line\n  // }, [token]);\n  const onDrop = useCallback((acceptedFiles) => {\n    acceptedFiles.forEach((file) => {\n      const reader = new FileReader()\n \n      reader.onabort = () => console.log('file reading was aborted')\n      reader.onerror = () => console.log('file reading has failed')\n      reader.onload = () => {\n      // Do whatever you want with the file contents\n        const binaryStr = reader.result;\n        console.log(\"binaryStr\",binaryStr)\n      }\n      reader.readAsArrayBuffer(file)\n      // console.log('reader',reader)\n    })\n    \n  }, []);\n\n  const {getRootProps, getInputProps} = useDropzone({\n    onDrop, \n    accepts: 'image/*',\n    multiple: false,\n  });\n\n  return (\n    <>\n      <div className={classes.dropzone} {...getRootProps()}>\n        <input {...getInputProps()} />\n        Photo Drop Zone\n        <div className={classes.instruction}>Drag/Drop or Click to open.</div>\n      </div>\n    </>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}