{"ast":null,"code":"// import Resizer from 'react-image-file-resizer';\n// const resizeFile = (file, w, h) => new Promise(resolve => {\n//   // const fr = new FileReader();\n//   var image = new Image();\n//   image.url = file[0].data_url;\n//   var canvas=document.createElement(\"canvas\");\n//   var context=canvas.getContext(\"2d\");\n//   canvas.width=w //image.width/4;\n//   canvas.height=h //image.height/4;\n//   context.drawImage(image,\n//       0,\n//       0,\n//       image.width,\n//       image.height,\n//       0,\n//       0,\n//       canvas.width,\n//       canvas.height\n//   );\n//   image.src = canvas.toDataURL();\n//   console.log('resizeFile image',image)\n//   console.log('resizeFile image.width',image.width)\n//   return image\n// });\n// var loadImageFile = function () {\n//   var uploadImage = document.getElementById(\"upload-Image\");\n//   //check and retuns the length of uploded file.\n//   if (uploadImage.files.length === 0) { \n//     return; \n//   }\n//   //Is Used for validate a valid file.\n//   var uploadFile = document.getElementById(\"upload-Image\").files[0];\n//   if (!filterType.test(uploadFile.type)) {\n//     alert(\"Please select a valid image.\"); \n//     return;\n//   }\n//   fileReader.readAsDataURL(uploadFile);\n// }\nconst ResizeImage = async (file, width, height) => {\n  let blob = new Blob(Buffer.from(file[0].data_url));\n  fileReader.readAsText(blob);\n  let resized = null;\n  var fileReader = new FileReader();\n\n  fileReader.onload = function (event) {\n    var image = new Image();\n\n    image.onload = function () {\n      document.getElementById(\"original-Img\").src = image.src;\n      var canvas = document.createElement(\"canvas\");\n      var context = canvas.getContext(\"2d\");\n      canvas.width = image.width / 4;\n      canvas.height = image.height / 4;\n      context.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height);\n      resized = canvas.toDataURL();\n    };\n\n    image.src = event.target.result;\n  };\n\n  const res = resized; //await resizeFile(file, width, height);\n\n  console.log('res', res);\n  return res;\n};\n\n_c = ResizeImage;\nexport default ResizeImage; // Resizer.imageFileResizer(\n//     file, // Is the file of the image which will resized.\n//     maxWidth, // Is the maxWidth of the resized new image.\n//     maxHeight, // Is the maxHeight of the resized new image.\n//     compressFormat, // Is the compressFormat of the resized new image.\n//     quality, // Is the quality of the resized new image.\n//     rotation, // Is the degree of clockwise rotation to apply to uploaded image. \n//     responseUriFunc,  // Is the callBack function of the resized new image URI.\n//     outputType,  // Is the output type of the resized new image.\n//     minWidth, // Is the minWidth of the resized new image.\n//     minHeight, // Is the minHeight of the resized new image.\n//     );\n\nvar _c;\n\n$RefreshReg$(_c, \"ResizeImage\");","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/ResizeImage.js"],"names":["ResizeImage","file","width","height","blob","Blob","Buffer","from","data_url","fileReader","readAsText","resized","FileReader","onload","event","image","Image","document","getElementById","src","canvas","createElement","context","getContext","drawImage","toDataURL","target","result","res","console","log"],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,MAAMA,WAAW,GAAG,OAAOC,IAAP,EAAaC,KAAb,EAAoBC,MAApB,KAA+B;AACjD,MAAIC,IAAI,GAAG,IAAIC,IAAJ,CAASC,MAAM,CAACC,IAAP,CAAYN,IAAI,CAAC,CAAD,CAAJ,CAAQO,QAApB,CAAT,CAAX;AACAC,EAAAA,UAAU,CAACC,UAAX,CAAsBN,IAAtB;AACA,MAAIO,OAAO,GAAG,IAAd;AACA,MAAIF,UAAU,GAAG,IAAIG,UAAJ,EAAjB;;AACAH,EAAAA,UAAU,CAACI,MAAX,GAAoB,UAAUC,KAAV,EAAiB;AACnC,QAAIC,KAAK,GAAG,IAAIC,KAAJ,EAAZ;;AAEAD,IAAAA,KAAK,CAACF,MAAN,GAAa,YAAU;AACnBI,MAAAA,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,GAAxC,GAA4CJ,KAAK,CAACI,GAAlD;AACA,UAAIC,MAAM,GAACH,QAAQ,CAACI,aAAT,CAAuB,QAAvB,CAAX;AACA,UAAIC,OAAO,GAACF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAZ;AACAH,MAAAA,MAAM,CAAClB,KAAP,GAAaa,KAAK,CAACb,KAAN,GAAY,CAAzB;AACAkB,MAAAA,MAAM,CAACjB,MAAP,GAAcY,KAAK,CAACZ,MAAN,GAAa,CAA3B;AACAmB,MAAAA,OAAO,CAACE,SAAR,CAAkBT,KAAlB,EACI,CADJ,EAEI,CAFJ,EAGIA,KAAK,CAACb,KAHV,EAIIa,KAAK,CAACZ,MAJV,EAKI,CALJ,EAMI,CANJ,EAOIiB,MAAM,CAAClB,KAPX,EAQIkB,MAAM,CAACjB,MARX;AAWAQ,MAAAA,OAAO,GAAGS,MAAM,CAACK,SAAP,EAAV;AACH,KAlBD;;AAmBAV,IAAAA,KAAK,CAACI,GAAN,GAAUL,KAAK,CAACY,MAAN,CAAaC,MAAvB;AACD,GAvBD;;AAwBA,QAAMC,GAAG,GAAGjB,OAAZ,CA7BiD,CA6B7B;;AACpBkB,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBF,GAAlB;AACA,SAAOA,GAAP;AACD,CAhCD;;KAAM5B,W;AAkCN,eAAeA,WAAf,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["// import Resizer from 'react-image-file-resizer';\n\n// const resizeFile = (file, w, h) => new Promise(resolve => {\n//   // const fr = new FileReader();\n//   var image = new Image();\n//   image.url = file[0].data_url;\n//   var canvas=document.createElement(\"canvas\");\n//   var context=canvas.getContext(\"2d\");\n//   canvas.width=w //image.width/4;\n//   canvas.height=h //image.height/4;\n//   context.drawImage(image,\n//       0,\n//       0,\n//       image.width,\n//       image.height,\n//       0,\n//       0,\n//       canvas.width,\n//       canvas.height\n//   );\n  \n//   image.src = canvas.toDataURL();\n//   console.log('resizeFile image',image)\n//   console.log('resizeFile image.width',image.width)\n//   return image\n// });\n\n\n// var loadImageFile = function () {\n//   var uploadImage = document.getElementById(\"upload-Image\");\n  \n//   //check and retuns the length of uploded file.\n//   if (uploadImage.files.length === 0) { \n//     return; \n//   }\n  \n//   //Is Used for validate a valid file.\n//   var uploadFile = document.getElementById(\"upload-Image\").files[0];\n//   if (!filterType.test(uploadFile.type)) {\n//     alert(\"Please select a valid image.\"); \n//     return;\n//   }\n  \n//   fileReader.readAsDataURL(uploadFile);\n// }\nconst ResizeImage = async (file, width, height) => {\n  let blob = new Blob(Buffer.from(file[0].data_url));\n  fileReader.readAsText(blob);\n  let resized = null;\n  var fileReader = new FileReader();\n  fileReader.onload = function (event) {\n    var image = new Image();\n    \n    image.onload=function(){\n        document.getElementById(\"original-Img\").src=image.src;\n        var canvas=document.createElement(\"canvas\");\n        var context=canvas.getContext(\"2d\");\n        canvas.width=image.width/4;\n        canvas.height=image.height/4;\n        context.drawImage(image,\n            0,\n            0,\n            image.width,\n            image.height,\n            0,\n            0,\n            canvas.width,\n            canvas.height\n        );\n        \n        resized = canvas.toDataURL();\n    }\n    image.src=event.target.result;\n  };\n  const res = resized;//await resizeFile(file, width, height);\n  console.log('res',res)\n  return res\n}\n\nexport default ResizeImage\n// Resizer.imageFileResizer(\n//     file, // Is the file of the image which will resized.\n//     maxWidth, // Is the maxWidth of the resized new image.\n//     maxHeight, // Is the maxHeight of the resized new image.\n//     compressFormat, // Is the compressFormat of the resized new image.\n//     quality, // Is the quality of the resized new image.\n//     rotation, // Is the degree of clockwise rotation to apply to uploaded image. \n//     responseUriFunc,  // Is the callBack function of the resized new image URI.\n//     outputType,  // Is the output type of the resized new image.\n//     minWidth, // Is the minWidth of the resized new image.\n//     minHeight, // Is the minHeight of the resized new image.\n//     );"]},"metadata":{},"sourceType":"module"}