{"ast":null,"code":"// import * as AWS from 'aws-sdk';\n// import { v4 as uuid } from 'uuid';\nconst BUCKET_NAME = 'dogfriends'; // const s3 = new AWS.S3({\n//   region: 'us-west-2',\n//   secretAccessKey: 'L2jl2AOgtKyJw1EN9xW/6gvOpR2ZTVzOima3afOo',\n//   accessKeyId: 'AKIAUCUWDY6W57HR5TNU',\n// });\n\nconst uploadToS3 = async data => {\n  console.log('DogfriendsPhotoApi uploadToS3 BUCKET_NAME', BUCKET_NAME);\n  console.log('DogfriendsPhotoApi uploadToS3 data', data); // let mime = data.name.slice(data.name.lastIndexOf('.'), data.name.length);\n  // const name = uuid() + '.' + mime;\n  // await s3.putObject({\n  //   Key: name,\n  //   Bucket: BUCKET_NAME,\n  //   ContentType: `image/${mime}`,\n  //   Body: data,\n  //   ACL: 'public-read',\n  // }).promise(); \n  // return name;\n};\n\nconst postNewPhoto = async data => {\n  try {\n    const url = await uploadToS3(data);\n    console.log('url', url);\n    return url;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport { postNewPhoto };","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/api/DogfriendsPhotosApi.js"],"names":["BUCKET_NAME","uploadToS3","data","console","log","postNewPhoto","url","error"],"mappings":"AAAA;AAEA;AAEA,MAAMA,WAAW,GAAG,YAApB,C,CAEA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,UAAU,GAAG,MAAOC,IAAP,IAAgB;AACjCC,EAAAA,OAAO,CAACC,GAAR,CAAY,2CAAZ,EAAwDJ,WAAxD;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAAiDF,IAAjD,EAFiC,CAGjC;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAdD;;AAgBA,MAAMG,YAAY,GAAG,MAAOH,IAAP,IAAgB;AACnC,MAAI;AACF,UAAMI,GAAG,GAAG,MAAML,UAAU,CAACC,IAAD,CAA5B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBE,GAAlB;AACA,WAAOA,GAAP;AACD,GAJD,CAIE,OAAOC,KAAP,EAAc;AACdJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACD;AACF,CARD;;AAWA,SACEF,YADF","sourcesContent":["// import * as AWS from 'aws-sdk';\n\n// import { v4 as uuid } from 'uuid';\n\nconst BUCKET_NAME = 'dogfriends';\n\n// const s3 = new AWS.S3({\n//   region: 'us-west-2',\n//   secretAccessKey: 'L2jl2AOgtKyJw1EN9xW/6gvOpR2ZTVzOima3afOo',\n//   accessKeyId: 'AKIAUCUWDY6W57HR5TNU',\n// });\n\nconst uploadToS3 = async (data) => {\n  console.log('DogfriendsPhotoApi uploadToS3 BUCKET_NAME',BUCKET_NAME)\n  console.log('DogfriendsPhotoApi uploadToS3 data',data)\n  // let mime = data.name.slice(data.name.lastIndexOf('.'), data.name.length);\n  // const name = uuid() + '.' + mime;\n \n  // await s3.putObject({\n  //   Key: name,\n  //   Bucket: BUCKET_NAME,\n  //   ContentType: `image/${mime}`,\n  //   Body: data,\n  //   ACL: 'public-read',\n  // }).promise(); \n  // return name;\n}\n\nconst postNewPhoto = async (data) => {\n  try {\n    const url = await uploadToS3(data);\n    console.log('url',url)\n    return url;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n\nexport {\n  postNewPhoto,\n}"]},"metadata":{},"sourceType":"module"}