{"ast":null,"code":"var _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/Navbar.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Button from '@material-ui/core/Button';\nimport { AuthContext } from '../context/AuthContext';\nimport UserAvatar from './UserAvatar';\nimport { getUserInfoSlice } from '../dogfriendsUserSlice';\nimport { logout } from '../dogfriendsUserSlice';\nconst useStyles = makeStyles(theme => ({\n  toolbarMargin: { ...theme.mixins.toolbar,\n    marginBottom: '4em'\n  },\n  logo: {\n    height: '8em'\n  },\n  logoContainer: {\n    padding: '0'\n  },\n  tabContainer: {\n    marginLeft: 'auto'\n  },\n  tab: { ...theme.typography.tab,\n    minWidth: 10,\n    marginLeft: '25px'\n  },\n  button: { ...theme.typography.button,\n    borderRadius: '50px',\n    margin: '0 25px 0 50px',\n    height: '45px'\n  }\n}));\n\nfunction ElevationScroll(props) {\n  const {\n    children\n  } = props;\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0\n  });\n  return React.cloneElement(children, {\n    elevation: trigger ? 4 : 0\n  });\n}\n\nexport default function Header(props) {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const dispatch = useDispatch();\n  const [value, setValue] = useState(0);\n  const location = useLocation();\n  useEffect(() => {\n    if (auth.authState.userInfo.username) {\n      const usr = auth.authState.userInfo.username;\n      const token = auth.authState.token;\n      const payload = {\n        username: usr,\n        token: token\n      };\n      dispatch(getUserInfoSlice(payload));\n    } // eslint-disable-next-line\n\n  }, [dispatch]);\n  useEffect(() => {\n    switch (location.pathname) {\n      case '/':\n        setValue(0);\n        break;\n\n      case '/profile':\n        setValue(1);\n        break;\n\n      case '/new':\n        setValue(2);\n        break;\n\n      case '/login':\n        setValue(3);\n        break;\n\n      default:\n        setValue(4);\n    }\n\n    console.log('Header useEffect value', value);\n  }, [value, location.pathname]);\n\n  const handleClick = () => {\n    auth.setAuthState({\n      token: \"\",\n      userInfo: {}\n    });\n    dispatch(logout({\n      status: 'idle',\n      data: {},\n      error: {}\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ElevationScroll, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"fixed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    disableGutters: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: classes.logoContainer,\n    component: Link,\n    to: \"/\",\n    disableRipple: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, \"Dog Friends\")), /*#__PURE__*/React.createElement(Tabs, {\n    className: classes.tabContainer,\n    value: value,\n    indicatorColor: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    className: classes.tab,\n    label: \"Home\",\n    component: Link,\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }), auth.authState.token !== \"\" ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tab, {\n    className: classes.tab,\n    component: Link,\n    to: \"/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(UserAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 19\n    }\n  }), auth.authState.userInfo.username), /*#__PURE__*/React.createElement(Tab, {\n    className: classes.tab,\n    label: \"Add a new post\",\n    component: Link,\n    to: \"/new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Tab, {\n    className: classes.tab,\n    label: \"Profile\",\n    component: Link,\n    to: \"/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Tab, {\n    className: classes.tab,\n    label: \"Logout\",\n    component: Link,\n    to: \"/\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tab, {\n    className: classes.tab,\n    label: \"About Us\",\n    component: Link,\n    to: \"/about\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Tab, {\n    className: classes.tab,\n    label: \"Contact Us\",\n    component: Link,\n    to: \"/contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }))), auth.authState.token !== \"\" ? /*#__PURE__*/React.createElement(Button, {\n    className: classes.button,\n    variant: \"contained\",\n    color: \"secondary\",\n    component: Link,\n    to: \"/\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, \"Logout\") : /*#__PURE__*/React.createElement(Button, {\n    className: classes.button,\n    variant: \"contained\",\n    color: \"secondary\",\n    component: Link,\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }, \"Login\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.toolbarMargin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }));\n} // import React, { useContext, useEffect } from 'react';\n// import { Link } from 'react-router-dom';\n// import { useDispatch } from 'react-redux';\n// import { makeStyles } from '@material-ui/core/styles';\n// import AppBar from '@material-ui/core/AppBar';\n// import Toolbar from '@material-ui/core/Toolbar';\n// import Typography from '@material-ui/core/Typography';\n// import { Button } from '@material-ui/core';\n// import { AuthContext } from '../context/AuthContext';\n// import UserAvatar from './UserAvatar';\n// import { getUserInfoSlice } from '../dogfriendsUserSlice';\n// import { logout } from '../dogfriendsUserSlice';\n// const useStyles = makeStyles((theme) => ({\n//   root: {\n//     display: 'flex',\n//     // flexDirection: 'column',    \n//     [theme.breakpoints.down('sm')]: {\n//       flexDirection: 'column',\n//       alignItems: 'center',\n//       justifyContent: 'center',      \n//     },\n//     [theme.breakpoints.up('md')]: {\n//       flexDirection: 'row',\n//       alignItems: 'flex-start',\n//       justifyContent: 'space-between',\n//     },\n//     // backgroundColor: '#eef0f1fb',\n//     border: 'none',\n//     // display: 'flex',\n//     // alignItems: 'center',\n//     // flexGrow: 1,\n//   },\n//   title: {\n//     color: 'black',\n//     textDecoration: 'none',\n//     // border: '1px solid green',\n//   },\n//   linkWrapper: {\n//     display: 'flex',\n//     // border: '1px solid red',\n//     fontWeight: 'bold',\n//     [theme.breakpoints.down('sm')]: {\n//       flexDirection: 'column',\n//       alignItems: 'center',\n//       width: '100%',\n//     },\n//     [theme.breakpoints.up('md')]: {\n//       flexDirection: 'row',\n//     },\n//   },\n//   links: {\n//     fontSize: '18px',\n//     margin: '0 40px 0 0',\n//     color: 'white',\n//     padding: '0',\n//   },\n// }));\n// export default function Navbar() {\n//   const classes = useStyles();\n//   const auth = useContext(AuthContext);\n//   const dispatch = useDispatch();\n//   // const userList = useSelector(selectUser);\n//   useEffect(() => {\n//     if(auth.authState.userInfo.username) {\n//       const usr = auth.authState.userInfo.username;\n//       const token = auth.authState.token;\n//       const payload = {\n//         username: usr,\n//         token: token\n//       }\n//       dispatch(getUserInfoSlice(payload));\n//     }\n//     // eslint-disable-next-line\n//   }, [dispatch]);\n//   const handleClick = () => {\n//     auth.setAuthState({\n//       token: \"\",\n//       userInfo: {}\n//     });\n//     dispatch(logout({\n//       status: 'idle',\n//       data: {},\n//       error: {}\n//     }));\n//   }\n//   return (\n//     <AppBar position=\"static\">\n//       <Toolbar className={classes.root}>\n//         <Typography variant=\"h5\" className={classes.title} component={Link} to={\"/\"} >\n//           <h2>Dog Friends</h2>\n//         </Typography>\n//         <div className={classes.linkWrapper}>\n//           <Button className={classes.links} component={Link} to={\"/\"} >\n//             Blog\n//           </Button> \n//           {auth.authState.token !== \"\" ? <>\n//             <Button className={classes.links} component={Link} to={\"/profile\"} >\n//             <UserAvatar />\n//               {auth.authState.userInfo.username}\n//             </Button>\n//             <Button className={classes.links} component={Link} to={\"/new\"} >\n//               Add a new post\n//             </Button>\n//             <Button className={classes.links} component={Link} to={\"/profile\"} >\n//               Profile\n//             </Button>\n//             <Button onClick={handleClick} className={classes.links} component={Link} to={\"/login\"} >\n//               Log out\n//             </Button>            \n//             </> :\n//             <Button className={classes.links} component={Link} to={\"/login\"} >\n//               Login / Signup\n//             </Button>\n//           }         \n//         </div>                \n//       </Toolbar>\n//     </AppBar>\n//   );\n// }","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/Navbar.js"],"names":["React","useState","useEffect","useContext","Link","useLocation","useDispatch","AppBar","Toolbar","useScrollTrigger","makeStyles","Tabs","Tab","Button","AuthContext","UserAvatar","getUserInfoSlice","logout","useStyles","theme","toolbarMargin","mixins","toolbar","marginBottom","logo","height","logoContainer","padding","tabContainer","marginLeft","tab","typography","minWidth","button","borderRadius","margin","ElevationScroll","props","children","trigger","disableHysteresis","threshold","cloneElement","elevation","Header","classes","auth","dispatch","value","setValue","location","authState","userInfo","username","usr","token","payload","pathname","console","log","handleClick","setAuthState","status","data","error"],"mappings":"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AAmC,IAAA,OAAO,EAAC,WAA3C;AAAuD,IAAA,KAAK,EAAC,WAA7D;AAAyE,IAAA,SAAS,EAAE7B,IAApF;AAA0F,IAAA,EAAE,EAAC,GAA7F;AAAiG,IAAA,OAAO,EAAEwD,WAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,gBAIC,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEf,OAAO,CAACZ,MAA3B;AAAmC,IAAA,OAAO,EAAC,WAA3C;AAAuD,IAAA,KAAK,EAAC,WAA7D;AAAyE,IAAA,SAAS,EAAE7B,IAApF;AAA0F,IAAA,EAAE,EAAC,QAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aA7BJ,CADF,CADF,CADF,eAuCE;AAAK,IAAA,SAAS,EAAEyC,OAAO,CAACzB,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvCF,CADF;AA4CD,C,CAED;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Button from '@material-ui/core/Button';\n\nimport { AuthContext } from '../context/AuthContext';\nimport UserAvatar from './UserAvatar';\nimport { getUserInfoSlice } from '../dogfriendsUserSlice';\nimport { logout } from '../dogfriendsUserSlice';\n\nconst useStyles = makeStyles(theme => ({\n  toolbarMargin: {\n    ...theme.mixins.toolbar,\n    marginBottom: '4em'\n  },\n  logo: {\n    height: '8em',    \n  },\n  logoContainer: {\n    padding: '0'\n  },\n  tabContainer: {\n    marginLeft: 'auto'\n  },\n  tab: {\n    ...theme.typography.tab,\n    minWidth: 10,\n    marginLeft: '25px'\n  },\n  button: {\n    ...theme.typography.button,\n    borderRadius: '50px',\n    margin: '0 25px 0 50px',    \n    height: '45px',\n  }\n}));\n\n\nfunction ElevationScroll(props) {\n  const { children } = props;\n  \n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0,\n  });\n\n  return React.cloneElement(children, {\n    elevation: trigger ? 4 : 0\n  });\n}\n\nexport default function Header(props) {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const dispatch = useDispatch();\n  const [value, setValue] = useState(0);\n  const location = useLocation();\n  \n  useEffect(() => {\n    if(auth.authState.userInfo.username) {\n      const usr = auth.authState.userInfo.username;\n      const token = auth.authState.token;\n      const payload = {\n        username: usr,\n        token: token\n      }\n      \n      dispatch(getUserInfoSlice(payload));\n    }\n    \n    // eslint-disable-next-line\n  }, [dispatch]);\n\n  useEffect(() => {\n    switch(location.pathname) {\n      case '/':\n        setValue(0);\n        break;\n      case '/profile':\n        setValue(1);\n        break;\n      case '/new':\n        setValue(2);\n        break;\n      case '/login':\n        setValue(3);\n        break;\n      default:\n        setValue(4);\n    }  \n    console.log('Header useEffect value',value)  \n  }, [value, location.pathname]);\n\n  const handleClick = () => {\n    auth.setAuthState({\n      token: \"\",\n      userInfo: {}\n    });\n    dispatch(logout({\n      status: 'idle',\n      data: {},\n      error: {}\n    }));\n  }\n\n  return (\n    <>\n      <ElevationScroll>\n        <AppBar position='fixed'>\n          <Toolbar disableGutters>\n            <Button className={classes.logoContainer} component={Link} to='/' disableRipple>\n              {/* <img src={logo} className={classes.logo} alt='company logo'/> */}\n              <h2>Dog Friends</h2>\n            </Button>            \n            <Tabs \n              className={classes.tabContainer} \n              value={value}               \n              indicatorColor='primary'>\n              <Tab className={classes.tab} label='Home' component={Link} to='/' />\n              {auth.authState.token !== \"\" ? <>\n                <Tab className={classes.tab} component={Link} to='/profile'>\n                  <UserAvatar />\n                  {auth.authState.userInfo.username}\n                </Tab>\n                <Tab className={classes.tab} label='Add a new post' component={Link} to='/new' />\n                <Tab className={classes.tab} label='Profile' component={Link} to='/profile' />\n                <Tab className={classes.tab} label='Logout' component={Link} to='/' onClick={handleClick} />\n              </> : <>\n                <Tab className={classes.tab} label='About Us' component={Link} to='/about' />\n                <Tab className={classes.tab} label='Contact Us' component={Link} to='/contact' />\n                {/* <Tab className={classes.tab} label='Login' component={Link} to='/login' /> */}\n              </>\n              }\n            </Tabs>\n            {auth.authState.token !== \"\" ?\n              <Button className={classes.button} variant='contained' color='secondary' component={Link} to='/' onClick={handleClick} >\n                Logout\n              </Button> :\n              <Button className={classes.button} variant='contained' color='secondary' component={Link} to='/login' >\n                Login\n              </Button>\n            }\n          </Toolbar>\n        </AppBar>\n      </ElevationScroll>\n      <div className={classes.toolbarMargin} />\n    </>\n    \n  );\n}\n\n// import React, { useContext, useEffect } from 'react';\n// import { Link } from 'react-router-dom';\n// import { useDispatch } from 'react-redux';\n\n// import { makeStyles } from '@material-ui/core/styles';\n// import AppBar from '@material-ui/core/AppBar';\n// import Toolbar from '@material-ui/core/Toolbar';\n// import Typography from '@material-ui/core/Typography';\n// import { Button } from '@material-ui/core';\n\n// import { AuthContext } from '../context/AuthContext';\n// import UserAvatar from './UserAvatar';\n// import { getUserInfoSlice } from '../dogfriendsUserSlice';\n// import { logout } from '../dogfriendsUserSlice';\n\n// const useStyles = makeStyles((theme) => ({\n//   root: {\n//     display: 'flex',\n//     // flexDirection: 'column',    \n//     [theme.breakpoints.down('sm')]: {\n//       flexDirection: 'column',\n//       alignItems: 'center',\n//       justifyContent: 'center',      \n//     },\n//     [theme.breakpoints.up('md')]: {\n//       flexDirection: 'row',\n//       alignItems: 'flex-start',\n//       justifyContent: 'space-between',\n//     },\n//     // backgroundColor: '#eef0f1fb',\n//     border: 'none',\n//     // display: 'flex',\n//     // alignItems: 'center',\n//     // flexGrow: 1,\n//   },\n//   title: {\n//     color: 'black',\n//     textDecoration: 'none',\n//     // border: '1px solid green',\n//   },\n//   linkWrapper: {\n//     display: 'flex',\n//     // border: '1px solid red',\n//     fontWeight: 'bold',\n//     [theme.breakpoints.down('sm')]: {\n//       flexDirection: 'column',\n//       alignItems: 'center',\n//       width: '100%',\n//     },\n//     [theme.breakpoints.up('md')]: {\n//       flexDirection: 'row',\n//     },\n//   },\n//   links: {\n//     fontSize: '18px',\n//     margin: '0 40px 0 0',\n//     color: 'white',\n//     padding: '0',\n//   },\n// }));\n\n// export default function Navbar() {\n//   const classes = useStyles();\n//   const auth = useContext(AuthContext);\n//   const dispatch = useDispatch();\n  \n//   // const userList = useSelector(selectUser);\n\n//   useEffect(() => {\n//     if(auth.authState.userInfo.username) {\n//       const usr = auth.authState.userInfo.username;\n//       const token = auth.authState.token;\n//       const payload = {\n//         username: usr,\n//         token: token\n//       }\n      \n//       dispatch(getUserInfoSlice(payload));\n//     }\n    \n//     // eslint-disable-next-line\n//   }, [dispatch]);\n\n//   const handleClick = () => {\n//     auth.setAuthState({\n//       token: \"\",\n//       userInfo: {}\n//     });\n//     dispatch(logout({\n//       status: 'idle',\n//       data: {},\n//       error: {}\n//     }));\n//   }\n    \n//   return (\n//     <AppBar position=\"static\">\n//       <Toolbar className={classes.root}>\n//         <Typography variant=\"h5\" className={classes.title} component={Link} to={\"/\"} >\n//           <h2>Dog Friends</h2>\n//         </Typography>\n//         <div className={classes.linkWrapper}>\n//           <Button className={classes.links} component={Link} to={\"/\"} >\n//             Blog\n//           </Button> \n//           {auth.authState.token !== \"\" ? <>\n            \n//             <Button className={classes.links} component={Link} to={\"/profile\"} >\n//             <UserAvatar />\n//               {auth.authState.userInfo.username}\n//             </Button>\n//             <Button className={classes.links} component={Link} to={\"/new\"} >\n//               Add a new post\n//             </Button>\n//             <Button className={classes.links} component={Link} to={\"/profile\"} >\n//               Profile\n//             </Button>\n//             <Button onClick={handleClick} className={classes.links} component={Link} to={\"/login\"} >\n//               Log out\n//             </Button>            \n//             </> :\n//             <Button className={classes.links} component={Link} to={\"/login\"} >\n//               Login / Signup\n//             </Button>\n//           }         \n//         </div>                \n//       </Toolbar>\n//     </AppBar>\n//   );\n// }\n\n"]},"metadata":{},"sourceType":"module"}