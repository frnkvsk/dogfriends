{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { getPosts, getPostById, postPostNew, putPostUpdate, deletePost } from './api/DogfriendsApi';\nexport const getPostsData = createAsyncThunk('getPosts', async () => {\n  const response = await getPosts();\n  return response.data;\n});\nexport const getPostDataById = createAsyncThunk('getPostById', async id => {\n  const response = await getPostById(id);\n  return response.data;\n});\nexport const dogfriendsPostsSlice = createSlice({\n  name: 'postList',\n  initialState: {\n    postList: {\n      status: 'idle',\n      data: [],\n      error: {}\n    }\n  },\n  reducers: {\n    addNewPost: (state, action) => {\n      const {\n        title,\n        body,\n        parent_id,\n        photo_id,\n        token\n      } = action.payload;\n      postPostNew(title, body, parent_id, photo_id, token);\n    },\n    editPost: (state, action) => {\n      const {\n        id,\n        title,\n        body,\n        username,\n        token\n      } = action.payload;\n      putPostUpdate(id, title, body, username, token);\n    },\n    removePost: (state, action) => {\n      deletePost(action.payload.id, action.payload.username, action.payload.token);\n    }\n  },\n  extraReducers: {\n    // get all posts\n    [getPostsData.pending]: (state, action) => {\n      state.postList = {\n        status: 'pending',\n        data: {},\n        error: {}\n      };\n    },\n    [getPostsData.fulfilled]: (state, action) => {\n      state.postList = {\n        status: 'fulfilled',\n        data: action.payload,\n        error: {}\n      };\n    },\n    [getPostsData.rejected]: (state, action) => {\n      state.postList = {\n        status: 'rejected',\n        data: {},\n        error: action.payload\n      };\n    },\n    // get post by id\n    [getPostDataById.pending]: (state, action) => {\n      state.postList = {\n        status: 'pending',\n        data: {},\n        error: {}\n      };\n    },\n    [getPostDataById.fulfilled]: (state, action) => {\n      state.postList = {\n        status: 'fulfilled',\n        data: action.payload,\n        error: {}\n      };\n    },\n    [getPostDataById.rejected]: (state, action) => {\n      state.postList = {\n        status: 'rejected',\n        data: {},\n        error: action.payload\n      };\n    }\n  }\n});\nexport const {\n  addNewPost,\n  editPost,\n  removePost\n} = dogfriendsPostsSlice.actions;\nexport const selectPosts = state => state.postList.postList;\nexport default dogfriendsPostsSlice.reducer;","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/dogfriendsPostsSlice.js"],"names":["createAsyncThunk","createSlice","getPosts","getPostById","postPostNew","putPostUpdate","deletePost","getPostsData","response","data","getPostDataById","id","dogfriendsPostsSlice","name","initialState","postList","status","error","reducers","addNewPost","state","action","title","body","parent_id","photo_id","token","payload","editPost","username","removePost","extraReducers","pending","fulfilled","rejected","actions","selectPosts","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport {\n  getPosts,\n  getPostById,\n  postPostNew,\n  putPostUpdate,\n  deletePost,\n} from './api/DogfriendsApi';\n\nexport const getPostsData = createAsyncThunk(\n  'getPosts',\n  async () => {\n    const response = await getPosts();\n    return response.data;\n  }\n);\n\nexport const getPostDataById = createAsyncThunk(\n  'getPostById',\n  async (id) => {\n    const response = await getPostById(id);\n    return response.data;\n  }\n);\n\nexport const dogfriendsPostsSlice = createSlice({\n  name: 'postList',\n  initialState: {\n    postList: {\n      status: 'idle',\n      data: [],\n      error: {}\n    }\n  },\n  reducers: {\n    addNewPost: (state, action) => {\n      const {title, body, parent_id, photo_id, token} = action.payload;\n      postPostNew(title, body, parent_id, photo_id, token);\n    },\n    editPost: (state, action) => {\n      const {id, title, body, username, token} = action.payload;\n      putPostUpdate(id, title, body, username, token);\n    },\n    removePost: (state, action) => {\n      deletePost(action.payload.id, action.payload.username, action.payload.token);\n    },\n  },\n  extraReducers: {\n    // get all posts\n    [getPostsData.pending]: (state, action) => {\n      state.postList = {\n        status: 'pending',\n        data: {},\n        error: {}\n      };\n    },\n    [getPostsData.fulfilled]: (state, action) => {\n      state.postList = {\n        status: 'fulfilled',\n        data: action.payload,\n        error: {}\n      };\n    },\n    [getPostsData.rejected]: (state, action) => {\n      state.postList = {\n        status: 'rejected',\n        data: {},\n        error: action.payload,\n      };\n    },\n    // get post by id\n    [getPostDataById.pending]: (state, action) => {\n      state.postList = {\n        status: 'pending',\n        data: {},\n        error: {}\n      };\n    },\n    [getPostDataById.fulfilled]: (state, action) => {\n      state.postList = {\n        status: 'fulfilled',\n        data: action.payload,\n        error: {}\n      };\n    },\n    [getPostDataById.rejected]: (state, action) => {\n      state.postList = {\n        status: 'rejected',\n        data: {},\n        error: action.payload,\n      };\n    },    \n  }\n});\n\nexport const {\n  addNewPost,\n  editPost,\n  removePost,\n} = dogfriendsPostsSlice.actions;\n\nexport const selectPosts = state => state.postList.postList;\n\nexport default dogfriendsPostsSlice.reducer;"]},"metadata":{},"sourceType":"module"}