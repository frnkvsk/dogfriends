{"ast":null,"code":"var _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/NewPostForm.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, FormHelperText, OutlinedInput, TextField, Modal } from '@material-ui/core';\nimport { addNewPost, editPost } from '../dogfriendsPostsSlice';\nimport { useFormInput } from '../hooks/useFormInput';\nimport { AuthContext } from '../context/AuthContext';\nimport FormInputOutlined from './FormInputOutlined';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1)\n    }\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    margin: '30px 0 20px 0'\n  },\n  input: {\n    width: '100%',\n    backgroundColor: '#ffffff',\n    marginRight: '5px'\n  },\n  modal: {\n    display: 'flex',\n    padding: theme.spacing(1),\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  paper: {\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n}));\n\nconst BlogForm = ({\n  data\n}) => {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const dispatch = useDispatch();\n  const history = useHistory(); // const rootRef = React.useRef(null);\n  // const [id, setId] = useState('');\n  // const [title, setTitle] = useState('');\n  // const [description, setDescription] = useState('');\n  // const [body, setBody] = useState('');\n  // const [open, setOpen] = useState(false);\n  // const [token, setToken] = useState('');\n  // useEffect(() => {\n  //   setToken(auth.authState.token);\n  // }, [auth]);\n  // useEffect(() => {\n  //   const {id, title, description, body} = data;\n  //   if(id !== undefined) setId(id);\n  //   if(title !== undefined) setTitle(title);\n  //   if(description !== undefined) setDescription(description);\n  //   if(body !== undefined) setBody(body);\n  // }, [data]);\n\n  const handleSubmit = e => {// e.preventDefault();\n    // if(title.length && description.length && body.length) {\n    //   const payload = {\n    //     id: id,\n    //     title: title, \n    //     description: description, \n    //     body: body,\n    //     username: auth.authState.userInfo.username,\n    //     token: token\n    //   }\n    //   dispatch(addNewPost(payload));    \n    //   history.push('/');\n    // } \n  }; // const handleChange = e => {\n  //   if(e.target.name === 'title') {\n  //     if(e.target.value.length >= 30) {\n  //       toggleOpen();\n  //     } else {\n  //       setTitle(e.target.value);\n  //     }            \n  //   } else if(e.target.name === 'description') {\n  //     if(e.target.value.length >= 50) {\n  //       toggleOpen();\n  //     } else {\n  //       setDescription(e.target.value);   \n  //     }\n  //   } else {\n  //     if(e.target.value.length >= 350) {\n  //       toggleOpen();\n  //     } else {\n  //       setBody(e.target.value);      \n  //     }       \n  //   }\n  // }\n  // const toggleOpen = () => setOpen(!open);\n\n\n  const title = useFormInput('');\n  const photo_url = useFormInput('');\n  const body = useFormInput('');\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormInputOutlined, {\n    label: \"Title\",\n    formInput: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FormInputOutlined, {\n    label: \"Photo URL\",\n    formInput: photo_url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FormHelperText, {\n    className: classes.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, \"Body:\"), /*#__PURE__*/React.createElement(TextField, Object.assign({\n    className: classes.input,\n    variant: \"outlined\",\n    multiline: true,\n    rows: 3\n  }, body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => history.push('/'),\n    variant: \"contained\",\n    color: \"default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))));\n};\n\nexport default BlogForm;","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/components/NewPostForm.js"],"names":["React","useContext","useEffect","useState","useDispatch","useHistory","makeStyles","Button","FormHelperText","OutlinedInput","TextField","Modal","addNewPost","editPost","useFormInput","AuthContext","FormInputOutlined","useStyles","theme","root","margin","spacing","form","display","flexDirection","width","input","backgroundColor","marginRight","modal","padding","alignItems","justifyContent","paper","palette","background","border","boxShadow","shadows","BlogForm","data","classes","auth","dispatch","history","handleSubmit","e","title","photo_url","body","label","push"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { \n  Button, \n  FormHelperText, \n  OutlinedInput, \n  TextField,\n  Modal,\n} from '@material-ui/core';\nimport { \n  addNewPost,\n  editPost,\n } from '../dogfriendsPostsSlice';\n import { useFormInput } from '../hooks/useFormInput';\n import { AuthContext } from '../context/AuthContext';\n import FormInputOutlined from './FormInputOutlined';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    margin: '30px 0 20px 0',\n  },\n  input: {\n    width: '100%',\n    backgroundColor: '#ffffff',\n    marginRight: '5px',\n  },\n  modal: {\n    display: 'flex',\n    padding: theme.spacing(1),\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nconst BlogForm = ({data}) => {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  // const rootRef = React.useRef(null);\n\n  // const [id, setId] = useState('');\n  // const [title, setTitle] = useState('');\n  // const [description, setDescription] = useState('');\n  // const [body, setBody] = useState('');\n  // const [open, setOpen] = useState(false);\n  // const [token, setToken] = useState('');\n  // useEffect(() => {\n  //   setToken(auth.authState.token);\n  // }, [auth]);\n   \n\n  // useEffect(() => {\n  //   const {id, title, description, body} = data;\n  //   if(id !== undefined) setId(id);\n  //   if(title !== undefined) setTitle(title);\n  //   if(description !== undefined) setDescription(description);\n  //   if(body !== undefined) setBody(body);\n  // }, [data]);\n\n  const handleSubmit = e => {   \n    // e.preventDefault();\n    // if(title.length && description.length && body.length) {\n    //   const payload = {\n    //     id: id,\n    //     title: title, \n    //     description: description, \n    //     body: body,\n    //     username: auth.authState.userInfo.username,\n    //     token: token\n    //   }\n    //   dispatch(addNewPost(payload));    \n    //   history.push('/');\n    // } \n  }\n  // const handleChange = e => {\n  //   if(e.target.name === 'title') {\n  //     if(e.target.value.length >= 30) {\n  //       toggleOpen();\n  //     } else {\n  //       setTitle(e.target.value);\n  //     }            \n  //   } else if(e.target.name === 'description') {\n  //     if(e.target.value.length >= 50) {\n  //       toggleOpen();\n  //     } else {\n  //       setDescription(e.target.value);   \n  //     }\n         \n  //   } else {\n  //     if(e.target.value.length >= 350) {\n  //       toggleOpen();\n  //     } else {\n  //       setBody(e.target.value);      \n  //     }       \n  //   }\n  // }\n  \n  // const toggleOpen = () => setOpen(!open);\n  const title = useFormInput('');\n  const photo_url = useFormInput('');\n  const body = useFormInput('');\n  return (\n    <>    \n      {/* <Modal\n        disablePortal\n        disableEnforceFocus\n        disableAutoFocus\n        open={open}\n        aria-labelledby=\"server-modal-title\"\n        aria-describedby=\"server-modal-description\"\n        className={classes.modal}\n        container={() => rootRef.current}\n        >\n        <div className={classes.paper}>\n          <h2 id=\"server-modal-title\">Over Character Limit!</h2>\n          <p id=\"server-modal-description\"><div>Limit Title to 30 characters</div> \n          <div>Description to 50 characters</div> <div>Body to 350</div></p>\n          <Button onClick={toggleOpen} variant=\"contained\" color=\"default\" >\n          OK\n        </Button>\n        </div>\n      </Modal> */}\n      <form className={classes.form} noValidate autoComplete=\"off\">   \n\n        <FormInputOutlined label=\"Title\" formInput={title} />\n        <FormInputOutlined label=\"Photo URL\" formInput={photo_url} />\n        <FormHelperText className={classes.label}>Body:</FormHelperText>\n        <TextField\n          className={classes.input} \n          variant=\"outlined\" \n          multiline\n          rows={3}\n          {...body}\n        />\n        <div className={classes.root}>\n          <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit} >\n            Save\n          </Button>\n          <Button onClick={() => history.push('/')} variant=\"contained\" color=\"default\" >\n            Cancel\n          </Button>\n        </div>      \n      </form>\n    </>\n  );\n}\n\nexport default BlogForm;"]},"metadata":{},"sourceType":"module"}