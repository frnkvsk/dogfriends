{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/dogfriends-app/src/features/dogfriends/components/BlogVotes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport { getPostsData, selectVotes, vote } from '../dogfriendsVotesSlice';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AuthContext } from '../context/AuthContext';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '99.2%',\n    margin: '0px',\n    backgroundColor: '#eef0f1fb',\n    padding: '3px'\n  },\n  votesWrapper: {\n    display: 'flex',\n    alignItems: 'flex-start',\n    marginTop: '5px'\n  },\n  votes: {\n    margin: '5px'\n  },\n  thumbUp: {\n    color: 'green',\n    margin: '5px',\n    cursor: 'pointer'\n  },\n  thumbDown: {\n    color: 'red',\n    margin: '5px',\n    cursor: 'pointer'\n  }\n}));\n\nconst BlogVotes = ({\n  id\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const dispatch = useDispatch();\n  const votesList = useSelector(selectVotes);\n  const [votes, setVotes] = useState(0);\n  useEffect(() => {\n    dispatch(getPostsData());\n  }, [dispatch]);\n  useEffect(() => {\n    if (votesList && votesList.status === 'fulfilled') {\n      const votesCount = votesList.data.find(e => e.id === id);\n      setVotes(() => votesCount ? votesCount.votes : 0);\n    } // eslint-disable-next-line   \n\n  }, [votesList.status]);\n\n  const handleUpVote = e => {\n    e.preventDefault();\n    dispatch(vote({\n      id: id,\n      direction: 'up',\n      token: auth.authState.token\n    }));\n    setTimeout(() => {\n      dispatch(getPostsData());\n    }, 100);\n  };\n\n  const handleDownVote = e => {\n    e.preventDefault();\n    dispatch(vote({\n      id: id,\n      direction: 'down',\n      token: auth.authState.token\n    }));\n    setTimeout(() => {\n      dispatch(getPostsData());\n    }, 100);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: classes.root,\n    noValidate: true,\n    autoComplete: \"off\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.votesWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.votes,\n        children: [votes, \" votes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ThumbUpIcon, {\n        className: classes.thumbUp,\n        onClick: handleUpVote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ThumbDownIcon, {\n        className: classes.thumbDown,\n        onClick: handleDownVote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BlogVotes, \"78UFXQbHIiVfhMYLkIzDoIslk9U=\", false, function () {\n  return [useStyles, useDispatch, useSelector];\n});\n\n_c = BlogVotes;\nexport default BlogVotes;\n\nvar _c;\n\n$RefreshReg$(_c, \"BlogVotes\");","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/dogfriends-app/src/features/dogfriends/components/BlogVotes.js"],"names":["React","useContext","useEffect","useState","useSelector","useDispatch","ThumbDownIcon","ThumbUpIcon","getPostsData","selectVotes","vote","makeStyles","AuthContext","useStyles","theme","root","width","margin","backgroundColor","padding","votesWrapper","display","alignItems","marginTop","votes","thumbUp","color","cursor","thumbDown","BlogVotes","id","classes","auth","dispatch","votesList","setVotes","status","votesCount","data","find","e","handleUpVote","preventDefault","direction","token","authState","setTimeout","handleDownVote"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport { \n  getPostsData,\n  selectVotes,\n  vote,\n } from '../dogfriendsVotesSlice';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AuthContext } from '../context/AuthContext';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '99.2%',\n    margin: '0px',\n    backgroundColor: '#eef0f1fb',\n    padding: '3px',\n  },\n  votesWrapper: {\n    display: 'flex',\n    alignItems: 'flex-start',\n    marginTop: '5px',\n  },\n  votes: {\n    margin: '5px',\n  }, \n  thumbUp: {\n    color: 'green',\n    margin: '5px',\n    cursor: 'pointer',\n  },\n  thumbDown: {\n    color: 'red',\n    margin: '5px',\n    cursor: 'pointer',\n  }\n}));\n\nconst BlogVotes = ({id}) => {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const dispatch = useDispatch();\n  const votesList = useSelector(selectVotes);\n  const [votes, setVotes] = useState(0);\n  \n  useEffect(() => {\n    dispatch(getPostsData());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if(votesList && votesList.status === 'fulfilled') {\n      const votesCount = votesList.data.find(e => e.id === id);\n      setVotes(() => votesCount ? votesCount.votes : 0);\n    } \n    // eslint-disable-next-line   \n  }, [votesList.status]);  \n\n  const handleUpVote = e => { \n     \n    e.preventDefault();\n    dispatch(vote({id: id, direction: 'up', token: auth.authState.token}));\n    setTimeout(() => {\n      dispatch(getPostsData());\n    }, 100);\n  }\n  const handleDownVote = e => {\n    e.preventDefault();\n    dispatch(vote({id: id, direction: 'down', token: auth.authState.token}));\n    setTimeout(() => {\n      dispatch(getPostsData());\n    }, 100);\n  }\n  \n  return (\n    <form className={classes.root} noValidate autoComplete=\"off\">  \n      <div className={classes.votesWrapper}>\n        <div className={classes.votes}>{votes} votes</div>\n        <ThumbUpIcon className={classes.thumbUp} onClick={handleUpVote}/>\n        <ThumbDownIcon className={classes.thumbDown} onClick={handleDownVote}/>\n      </div>            \n    </form>\n  );\n}\n\nexport default BlogVotes;"]},"metadata":{},"sourceType":"module"}