{"ast":null,"code":"var _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/pages/PostList.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { makeStyles, Tooltip } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getPostDataById, removePost, selectPosts, getPostsData } from '../dogfriendsPostsSlice';\nimport BlogForm from './../components/BlogForm'; // import BlogComments from '../components/BlogComments';\n\nimport { AuthContext } from '../context/AuthContext';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    fontSize: '22px',\n    padding: '7px',\n    border: '1px solid blue' // border: '1px solid #e0e0e0', \n\n  },\n  titleWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    fontSize: '32px',\n    fontWeight: '500',\n    marginBottom: '0px'\n  },\n  title: {\n    fontSize: '56px'\n  },\n  closeIcon: {\n    color: 'red',\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    marginRight: '10px'\n  },\n  editIcon: {\n    color: '#2196f3',\n    cursor: 'pointer',\n    marginRight: '10px'\n  },\n  hr: {\n    width: '100%',\n    border: '1px solid #9e9e9e'\n  },\n  button: {\n    width: '80px'\n  },\n  description: {\n    fontSize: '22px',\n    fontStyle: 'italic',\n    margin: '12px 0 5px 0'\n  },\n  body: {\n    fontSize: '22px',\n    margin: '25px 0 5px 0'\n  }\n}));\nexport default function PostList() {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const history = useHistory();\n  const [state, setState] = useState('display');\n  const dispatch = useDispatch();\n  const postList = useSelector(selectPosts);\n  const {\n    id\n  } = useParams();\n  const rootRef = React.useRef(null);\n  useEffect(() => {\n    dispatch(getPostDataById(id));\n  }, [dispatch, id]);\n\n  const handleEdit = () => {\n    setState('edit');\n  };\n\n  const handleDelete = () => {\n    dispatch(removePost({\n      id: id,\n      username: auth.authState.userInfo.username,\n      token: auth.authState.token\n    }));\n    setTimeout(() => {\n      dispatch(getPostsData());\n    }, 100);\n    history.push('/');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, state === 'display' ? postList && postList.data && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.titleWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, postList.data.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.iconWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, postList.data.username === auth.authState.userInfo.username && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Edit Post\",\n    ref: () => rootRef.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(EditIcon, {\n    className: classes.editIcon,\n    onClick: handleEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Delete Post\",\n    ref: () => rootRef.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    className: classes.closeIcon,\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, postList.data.description), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, postList.data.body), /*#__PURE__*/React.createElement(\"hr\", {\n    className: classes.hr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.titleWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, \"Comments\")) : /*#__PURE__*/React.createElement(BlogForm, {\n    data: postList.data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/pages/PostList.js"],"names":["React","useContext","useEffect","useState","useParams","useHistory","makeStyles","Tooltip","CloseIcon","EditIcon","useSelector","useDispatch","getPostDataById","removePost","selectPosts","getPostsData","BlogForm","AuthContext","useStyles","theme","root","display","flexDirection","width","fontSize","padding","border","titleWrapper","alignItems","justifyContent","fontWeight","marginBottom","title","closeIcon","color","cursor","marginRight","editIcon","hr","button","description","fontStyle","margin","body","PostList","classes","auth","history","state","setState","dispatch","postList","id","rootRef","useRef","handleEdit","handleDelete","username","authState","userInfo","token","setTimeout","push","data","iconWrapper","current"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { makeStyles, Tooltip } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport EditIcon from '@material-ui/icons/Edit';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { \n  getPostDataById,\n  removePost, \n  selectPosts, \n  getPostsData,\n} from '../dogfriendsPostsSlice';\nimport BlogForm from './../components/BlogForm';\n// import BlogComments from '../components/BlogComments';\nimport { AuthContext } from '../context/AuthContext';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {    \n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%', \n    fontSize: '22px',\n    padding: '7px',\n    border: '1px solid blue', \n    // border: '1px solid #e0e0e0', \n  },\n  titleWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    fontSize: '32px',\n    fontWeight: '500',\n    marginBottom: '0px',\n  },\n  title: {\n    fontSize: '56px',\n  },\n  closeIcon: {\n    color: 'red',\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    marginRight: '10px',\n  },\n  editIcon: {\n    color: '#2196f3',\n    cursor: 'pointer',\n    marginRight: '10px',\n  },\n  hr: {\n    width: '100%',\n    border: '1px solid #9e9e9e',\n  },\n  button: {\n    width: '80px',\n  },\n  description: {\n    fontSize: '22px',\n    fontStyle: 'italic',\n    margin: '12px 0 5px 0',\n    \n  },\n  body: {\n    fontSize: '22px',\n\n    margin: '25px 0 5px 0',\n  },\n  \n}));\n\nexport default function PostList() {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const history = useHistory();\n  const [state, setState] = useState('display');\n  const dispatch = useDispatch();\n  const postList = useSelector(selectPosts);\n  const {id} = useParams();\n  const rootRef = React.useRef(null);\n\n  useEffect(() => {\n    dispatch(getPostDataById(id));\n  }, [dispatch, id]);\n  \n  const handleEdit = () => {\n    setState('edit');\n  }\n\n  const handleDelete = () => {\n    dispatch(removePost({\n      id: id, \n      username: auth.authState.userInfo.username,\n      token: auth.authState.token\n    }));\n    setTimeout(() => {\n      dispatch(getPostsData());\n    }, 100);\n    history.push('/');\n  }\n\n  return (\n    <div className={classes.root}>\n      {state === 'display' ? (\n        postList && postList.data && (\n          <>\n            <div className={classes.titleWrapper}>\n              <div className={classes.title}>{postList.data.title}</div>\n              <div className={classes.iconWrapper} >\n                {postList.data.username === auth.authState.userInfo.username &&\n                  <>\n                  <Tooltip title=\"Edit Post\" ref={() => rootRef.current}>\n                    <EditIcon className={classes.editIcon} onClick={handleEdit}/>\n                  </Tooltip>\n                  <Tooltip title=\"Delete Post\" ref={() => rootRef.current}>\n                    <CloseIcon className={classes.closeIcon} onClick={handleDelete}/>\n                  </Tooltip> \n                  </> \n                }\n                                \n              </div>\n            </div>          \n            <div className={classes.description}>{postList.data.description}</div>\n            <div className={classes.body}>{postList.data.body}</div>\n            <hr className={classes.hr}/>\n            <div className={classes.titleWrapper}>Comments</div>\n            {/* <BlogComments id={id}/> */}\n          </>\n      )) : (\n        <BlogForm data={postList.data}/>\n      )}      \n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}