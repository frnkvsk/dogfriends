{"ast":null,"code":"var _jsxFileName = \"/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/context/AuthContext.js\";\nimport React, { useState, createContext } from 'react';\nimport { useLogin } from '../hooks/useLogin';\nimport { useUserInfo } from '../hooks/useUserInfo';\nconst AuthContext = createContext();\nconst {\n  Provider\n} = AuthContext;\n\nconst AuthProvider = ({\n  children\n}) => {\n  const {\n    token,\n    setTokenStorage\n  } = useLogin();\n  const {\n    username,\n    setUserInfoStorage\n  } = useUserInfo();\n  const [authState, setAuthState] = useState({\n    token: token,\n    userInfo: { ...userInfo,\n      username\n    }\n  });\n\n  const setAuthInfo = ({\n    token,\n    userInfo\n  }) => {\n    try {\n      console.log('AuthContext userInfo', userInfo);\n      setTokenStorage(token);\n      setUserInfoStorage({\n        username: userInfo.username\n      });\n      setAuthState({\n        token,\n        userInfo\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Provider, {\n    value: {\n      authState,\n      setAuthState: authInfo => setAuthInfo(authInfo)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, children);\n};\n\nexport { AuthContext, AuthProvider };","map":{"version":3,"sources":["/home/fv/js/capstone2/dogfriends/frontend/src/features/dogfriends/context/AuthContext.js"],"names":["React","useState","createContext","useLogin","useUserInfo","AuthContext","Provider","AuthProvider","children","token","setTokenStorage","username","setUserInfoStorage","authState","setAuthState","userInfo","setAuthInfo","console","log","error","authInfo"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,aAA1B,QAA+C,OAA/C;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,MAAMC,WAAW,GAAGH,aAAa,EAAjC;AACA,MAAM;AAAEI,EAAAA;AAAF,IAAeD,WAArB;;AAEA,MAAME,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACrC,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAA6BP,QAAQ,EAA3C;AACA,QAAM;AAAEQ,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAmCR,WAAW,EAApD;AACA,QAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC;AACzCQ,IAAAA,KAAK,EAAEA,KADkC;AAEzCM,IAAAA,QAAQ,EAAE,EACR,GAAGA,QADK;AAERJ,MAAAA;AAFQ;AAF+B,GAAD,CAA1C;;AAOA,QAAMK,WAAW,GAAG,CAAC;AAAEP,IAAAA,KAAF;AAASM,IAAAA;AAAT,GAAD,KAAyB;AAC3C,QAAI;AACFE,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAmCH,QAAnC;AACAL,MAAAA,eAAe,CAACD,KAAD,CAAf;AACAG,MAAAA,kBAAkB,CAAC;AAACD,QAAAA,QAAQ,EAAEI,QAAQ,CAACJ;AAApB,OAAD,CAAlB;AACAG,MAAAA,YAAY,CAAC;AACXL,QAAAA,KADW;AAEXM,QAAAA;AAFW,OAAD,CAAZ;AAID,KARD,CAQE,OAAOI,KAAP,EAAc;AACdF,MAAAA,OAAO,CAACE,KAAR,CAAcA,KAAd;AACD;AACF,GAZD;;AAcA,sBACE,oBAAC,QAAD;AACE,IAAA,KAAK,EACH;AACEN,MAAAA,SADF;AAEEC,MAAAA,YAAY,EAAEM,QAAQ,IAAIJ,WAAW,CAACI,QAAD;AAFvC,KAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQGZ,QARH,CADF;AAYD,CApCD;;AAsCA,SAASH,WAAT,EAAsBE,YAAtB","sourcesContent":["import React, { useState, createContext } from 'react';\nimport { useLogin } from '../hooks/useLogin';\nimport { useUserInfo } from '../hooks/useUserInfo';\nconst AuthContext = createContext();\nconst { Provider } = AuthContext;\n\nconst AuthProvider = ({ children }) => {\n  const { token, setTokenStorage } = useLogin();\n  const { username, setUserInfoStorage } = useUserInfo();\n  const [authState, setAuthState] = useState({\n    token: token,\n    userInfo: {\n      ...userInfo,\n      username\n    }\n  });\n  const setAuthInfo = ({ token, userInfo }) => {\n    try {\n      console.log('AuthContext userInfo',userInfo)\n      setTokenStorage(token);\n      setUserInfoStorage({username: userInfo.username});\n      setAuthState({\n        token,\n        userInfo,      \n      });\n    } catch (error) {\n      console.error(error);\n    }    \n  }\n  \n  return (\n    <Provider\n      value={\n        {\n          authState,\n          setAuthState: authInfo => setAuthInfo(authInfo),\n        }\n      }\n      >\n      {children}\n    </Provider>\n  )\n}\n\nexport { AuthContext, AuthProvider };"]},"metadata":{},"sourceType":"module"}