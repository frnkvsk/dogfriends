{"version":3,"sources":["features/dogfriends/components/Navbar.js","features/dogfriends/assets/logo.png","features/dogfriends/Theme.js","features/dogfriends/hooks/useDate.js","features/dogfriends/dogfriendsPhotosSlice.js","features/dogfriends/components/Post.js","features/dogfriends/dogfriendsPostsSlice.js","features/dogfriends/dogfriendsPageCountSlice.js","features/dogfriends/components/Pagination.js","features/dogfriends/components/PostList.js","features/dogfriends/context/PageInitContext.js","features/dogfriends/pages/Home.js","features/dogfriends/assets/photo_drop_zone.jpg","features/dogfriends/components/UploadImage.js","features/dogfriends/components/FillTextImage.js","features/dogfriends/components/PostFormNew.js","features/dogfriends/pages/NewPost.js","features/dogfriends/components/SignupForm.js","features/dogfriends/components/LoginForm.js","features/dogfriends/pages/Login.js","features/dogfriends/components/PostDisplay.js","features/dogfriends/hooks/useImageUrl.js","features/dogfriends/dogfriendsRepliesSlice.js","features/dogfriends/components/ReplyDisplay.js","features/dogfriends/components/ReplyFormNew.js","features/dogfriends/components/RepliesList.js","features/dogfriends/pages/Post.js","features/dogfriends/components/ProfileForm.js","features/dogfriends/pages/Profile.js","features/dogfriends/pages/About.js","features/dogfriends/assets/footerLogo.png","features/dogfriends/components/Footer.js","App.js","app/store.js","serviceWorker.js","index.js","features/dogfriends/api/DogfriendsApi.js","features/dogfriends/context/AuthContext.js","features/dogfriends/hooks/useLogin.js","features/dogfriends/hooks/useUserInfo.js","features/dogfriends/dogfriendsInitInfoSlice.js","features/dogfriends/dogfriendsUserSlice.js","features/dogfriends/api/DogfriendsPhotosApi.js","features/dogfriends/dogfriendsAvatarSlice.js","features/dogfriends/components/UserAvatar.js"],"names":["useStyles","makeStyles","theme","toolbarMargin","mixins","toolbar","marginBottom","breakpoints","down","logo","height","logoContainer","padding","backgroundColor","tabContainer","marginLeft","tab","typography","minWidth","marginRight","button","borderRadius","margin","palette","secondary","light","buttonSecondary","drawer","common","brown","drawerIconContainer","drawerIcon","fontSize","drawerItem","color","opacity","drawerItemLogin","drawerItemSelected","list","display","flexDirection","alignItems","justifyContent","appBar","zIndex","modal","position","background","brownDark","avatar","cursor","ElevationScroll","props","children","trigger","useScrollTrigger","threshold","React","cloneElement","elevation","HideOnScroll","appear","direction","in","Navbar","classes","history","useHistory","auth","useContext","AuthContext","dispatch","useDispatch","selectInitInfoData","useSelector","selectInitInfo","location","useLocation","useTheme","iOS","process","browser","test","navigator","userAgent","matches","useMediaQuery","useState","value","setValue","openDrawer","setOpenDrawer","username","setUserName","listItems","setListItems","useEffect","getInitInfoData","a","getInitInfo","response","status","addInitInfo","data","getSetUserInfo","authState","userInfo","token","getUserInfo","resp","addUserInfo","user","length","name","index","pathname","handleClick","e","setAuthState","push","tabs","className","TabIndicatorProps","style","Object","entries","map","variant","component","Button","label","onClick","disableBackdropTransition","disableDiscovery","open","onClose","onOpen","paper","i","divider","Link","to","selected","disableTypography","disableRipple","disableGutters","src","alt","createMuiTheme","brownLight","yellow","yellowDark","yellowLight","yellowMid","primary","main","contrastText","fontFamily","textTransform","fontWeight","h1","lineHeight","h2","h3","subtitle1","fontStyle","subtitle2","MuiButton","disableElevation","overrides","root","containedPrimary","containedSecondary","outlinedPrimary","useDate","created_on","yr","mo","da","slice","split","today","Date","getFullYear","String","getDate","padStart","getMonth","dogfriendsPhotosSlice","createSlice","initialState","photoList","error","reducers","addPhotoUrl","state","action","some","post","photo_id","payload","actions","selectPhotos","maxWidth","border","boxShadow","mediaWrapper","width","media","maxHeight","objectFit","borderTopRightRadius","borderTopLeftRadius","mediaItem","mediaBody","wordWrap","cardContent","Post","id","title","selectPhotosList","imageUrl","setImageUrl","isSubscribed","existingPost","find","startsWith","undefined","aws_bucket_endpoint_down","getSource","getPhotoBySrc","res","Body","fromCharCode","toString","setTimeout","console","getImage","CircularProgress","CardContent","Typography","gutterBottom","dogfriendsPostsSlice","postList","addPosts","selectPosts","dogfriendsPageCountSlice","pageCount","pagesTotal","pageCurr","setPages","selectPageCount","PaginationComp","posts_per_page","page","setPage","Slide","mountOnEnter","unmountOnExit","timeout","Pagination","count","onChange","event","fadeInUpAnimation","keyframes","fadeInUp","FadeInUpAnimation","styled","div","flexWrap","minHeight","fadeinContainer","PostList","selectPostsData","from","currentPages","setCurrentPages","getPostsData","getPosts","uuid","PageInitContext","createContext","Provider","PageInitProvider","pageInitCount","pageInitState","setPageInitState","incrementInitCount","resetInitCount","headingMargin1","marginTop","headingMargin2","heading","subHeading","cardImageList","progressBar","spacing","Home","pageWelcome","setPageWelcome","pageInitContext","log","Zoom","transitionDelay","LinearProgress","form","photoDrop","backgroundImage","photo_drop_zone","backgroundSize","backgroundPosition","errorMsg","fileReader","FileReader","UploadImage","handleUploadImage","newImage","setNewImage","fileUploadError","setFileUploadError","onload","image","Image","Math","floor","canvas","document","createElement","context","getContext","drawImage","toDataURL","target","result","type","filterTypes","RegExp","getElementById","files","uploadFile","readAsDataURL","FillTextImage","imageBase","topText","bottomText","img","ctx","font","fillStyle","textAlign","fillText","control","formItem","imagePreview","buttons","PostFormNew","selectPostData","setTitle","setTopText","setBottomText","body","setBody","setImage","setImageBase","setColor","titleValid","setTitleValid","topTextValid","setTopTextValid","bottomTextValid","setBottomTextValid","bodyValid","setBodyValid","setImageText","filter","handleSubmit","preventDefault","aws_endpoint_up","aws_bucket_endpoint_up","putNewPhoto","votes","replies","_token","postPostNew","method","TextField","helperText","defaultValue","multiline","rows","NewPost","formElement","table","tableRow","hover","SignupForm","handlePreSignup","handleSignup","setUsername","usernameValid","setUsernameValid","password","setPassword","passwordValid","setPasswordValid","first_name","setFirstName","last_name","setLastName","email","setEmail","emailValid","setEmailValid","city","setCity","setState","country","setCountry","checkUsername","validateUsername","validatePassword","validateEmail","activeStep","setActiveStep","steps","handleNext","admin","Stepper","alternativeLabel","Step","StepLabel","inputRef","input","focus","paddingLeft","fullWidth","paddingTop","err","LoginForm","handleLogin","errorMessage","setErrorMessage","handleSubmitLogin","valid","onSubmit","Box","autoFocus","paddingBottom","Login","loginType","login","handleCheckUsernameAvailability","preSignupUsernameCheck","signup","AppBar","Tabs","newValue","aria-label","Tab","borderBottom","borderBottomLeftRadius","borderBottomRightRadius","PostDisplay","urlImage","key","selectList","useImageUrl","getRepliesDataById","createAsyncThunk","getRepliesById","dogfriendsRepliesSlice","replyList","addNewReply","postReplyNew","extraReducers","pending","fulfilled","rejected","selectReplies","overflow","mediaInfo","ReplyDisplay","ReplyFormNew","commentSection","comment","noreplies","RepliesList","parent_id","useParams","animation","animations","popIn","animationDuration","mainContainer","setPost","formAvatar","formLabel","header","ProfileForm","selectUserData","selectUser","selectAvatarData","selectAvatar","setPhotoId","photoDropVisibility","setPhotoDropVisibility","UserAvatar","photo_url","successMessage","Profile","statusMessage","setStatusMessage","commitProfile","aws_endpoint_down","addAvatarUrl","patchUserInfo","up","displayWrapper","displayContent","About","footer","bottom","adornment","verticalAlign","link","textDecoration","linkSelected","gridItem","Footer","Hidden","mdDown","Grid","container","item","footerAdornment","App","ThemeProvider","exact","path","configureStore","reducer","dogfriendsUserSlice","avatarUrl","dogfriendsAvatarSlice","initInfo","dogfriendsInitInfoSlice","Boolean","window","hostname","match","ReactDOM","render","store","serviceWorker","ready","then","registration","unregister","BASE_URL","request","endpoint","paramsOrData","verb","debug","headers","Headers","append","axios","url","message","Array","isArray","AuthProvider","ls","JSON","parse","localStorage","getItem","setToken","setTokenStorage","newToken","setItem","stringify","useLogin","setUserInfo","setUserInfoStorage","newUserInfo","useUserInfo","setAuthInfo","authInfo","lambdaUrl","imageName","orange","getContrastText","deepOrange","selectUserInfo","setPhotoUrl","bucket_endpoint","base64","getAvatarData","initials","toUpperCase"],"mappings":"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","file":"static/js/main.dd6195a2.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { useTheme } from '@material-ui/core/styles';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Tab,\n  Tabs,\n  Button,\n  useScrollTrigger,\n  useMediaQuery,\n  SwipeableDrawer,\n  List,\n  ListItem, \n  ListItemText,\n  Slide,\n} from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { AuthContext } from '../context/AuthContext';\nimport { addUserInfo } from '../dogfriendsUserSlice';\nimport { \n  getUserInfo,\n  getInitInfo } from '../api/DogfriendsApi';\nimport logo from '../assets/logo.png';\nimport UserAvatar from './UserAvatar';\nimport { \n  addInitInfo,\n  selectInitInfo } from '../dogfriendsInitInfoSlice';\n\nconst useStyles = makeStyles(theme => ({\n  toolbarMargin: {\n    ...theme.mixins.toolbar,\n    marginBottom: '4em',\n    [theme.breakpoints.down('md')]: {\n      marginBottom: '2.7em',\n    }, \n    [theme.breakpoints.down('xs')]: {\n      marginBottom: '1.6em',\n    }, \n  },\n  logo: {\n    height: '4em',     \n    [theme.breakpoints.down('md')]: {\n      height: '4.5em',\n    },  \n  },\n  logoContainer: {\n    padding: '0',\n    backgroundColor: 'transparent',\n  },\n  tabContainer: {\n    marginLeft: 'auto',\n  },\n  tab: {\n    ...theme.typography.tab,\n    minWidth: 10,\n    marginRight: '25px',\n    \n  },\n  button: {\n    ...theme.typography.button,\n    borderRadius: '50px',\n    margin: '0 25px 0 50px',    \n    height: '45px',\n    '&:hover': {\n      backgroundColor: theme.palette.secondary.light,\n    }\n  },\n  buttonSecondary: {\n    backgroundColor: 'transparent',\n  },\n  drawer: {\n    backgroundColor: theme.palette.common.brown,\n  },\n  drawerIconContainer: {\n    marginLeft: 'auto',\n    '&:hover': {\n      backgroundColor: 'transparent',\n    }\n  },\n  drawerIcon: {\n    fontSize: '2em',\n    borderRadius: '15px',\n  },\n  drawerItem: {\n    ...theme.typography.tab,\n    color: 'white',\n    opacity: 0.7,\n  },\n  drawerItemLogin: {\n    backgroundColor: 'transparent',\n  },\n  drawerItemSelected: {\n    // opacity: 1,\n  },\n  list: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    \n  },\n  appBar: {\n    zIndex: theme.zIndex.modal + 1,\n    position: 'fixed',\n    background: `linear-gradient(45deg, ${theme.palette.common.brown} 30%, ${theme.palette.common.brownDark} 90%)`,\n  },\n  avatar: {\n    display: 'flex',\n    alignItems: 'center',\n    cursor: 'pointer',\n  }\n}));\n\nfunction ElevationScroll(props) {\n  const { children } = props;  \n  const trigger = useScrollTrigger({\n    threshold: 0\n  });\n  return React.cloneElement(children, {\n    elevation: trigger ? 4 : 0\n  });\n}\nfunction HideOnScroll(props) {\n  const { children } = props;\n  const trigger = useScrollTrigger({ \n    threshold: 200\n  });\n  return (\n    <Slide appear={false} direction=\"down\" in={!trigger}>\n      {children}\n    </Slide>\n  );\n}\n\nHideOnScroll.propTypes = {\n  children: PropTypes.element.isRequired\n};\nexport default function Navbar(props) {\n  const classes = useStyles();\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const dispatch = useDispatch();\n  const selectInitInfoData = useSelector(selectInitInfo);\n  const location = useLocation();\n  const theme = useTheme();\n  const iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n  const matches = useMediaQuery(theme.breakpoints.down('md'));\n  const [value, setValue] = useState(0);  \n  const [openDrawer, setOpenDrawer] = useState(false);\n  const [username, setUserName] = useState(''); \n  const [listItems, setListItems] = useState({});\n\n  \n  useEffect(() => {\n    const getInitInfoData = async () => {\n      const response = await getInitInfo();\n      if(response.status === 200) {\n        dispatch(addInitInfo(response.data));\n      }      \n    }\n    if(selectInitInfoData.status !== 'fulfilled') {\n      getInitInfoData();      \n    }    \n    // eslint-disable-next-line\n  }, [])\n  /**\n   * We are going to check the login status of the user\n   * here at the Navbar because it is the top level Component\n   * in this app.\n   */\n  useEffect(() => {\n    const getSetUserInfo = async () => {\n      const data = {\n        username: auth.authState.userInfo.username,\n        token: auth.authState.token\n      }\n      const resp = await getUserInfo(data);\n      if(resp.status === 200) {\n        dispatch(addUserInfo(resp.data.user))\n      }\n    }\n    // if auth contains the user token, then the \n    // user is signed in.\n    if(auth.authState && auth.authState.token.length && !username.length) {\n      // set the username\n      setUserName(auth.authState.userInfo.username);\n      // get and set the user infomation in Redux so the rest of\n      // the app has access to this information\n      getSetUserInfo();\n    } else {\n      setUserName('');\n    }\n    // eslint-disable-next-line\n  }, [auth.authState, dispatch]);\n  \n  // if token not equal to undefined then user is logged in \n  // and has a different set of Navbar options\n  useEffect(() => {\n    username.length ? setListItems({\n      '/': {name: 'Home', index: 0},\n      '/new': {name: 'New Post', index: 1},\n      '/profile': {name: 'Profile', index: 2},\n      '/about': {name: 'About Us', index: 3},\n      '/login': {name: 'Logout', index: 4},\n    }) : setListItems({\n      '/': {name: 'Home', index: 0},\n      '/about': {name: 'About Us', index:1},\n      '/login': {name: 'Login', index: 2},\n    });\n  }, [username.length]);\n   \n  // set the focus on the correct navbar index\n  useEffect(() => {\n    if(listItems[location.pathname]) {\n      if(listItems[location.pathname].index === 4) {\n        setValue(0);\n      } else {\n        setValue(listItems[location.pathname].index);  \n      }       \n    }          \n  }, [listItems, location.pathname]);\n\n  const handleClick = async e => {\n    if(auth.authState.userInfo.username) {\n      await auth.setAuthState({token: \"\", userInfo: {}});      \n      history.push('/login');\n    } else {\n      history.push('/login');\n    }      \n  }\n  \n  const tabs = (\n    <>\n    <Tabs \n      className={classes.tabContainer} \n      value={value && !auth.authState.userInfo ? value -2 : value} \n      TabIndicatorProps={{style: {backgroundColor: 'primary', opacity: 0}}}          \n      >\n        {Object.entries(listItems).map(e => \n          e[0]==='/login' ? (\n            <Tab \n              key={e}              \n              className={classes.button}\n              variant='outlined'\n              color='secondary'\n              component={Button}\n              label={e[1].name}\n              onClick={handleClick}\n            />\n          ) : (\n            <Tab \n              key={e}\n              className={classes.tab}\n              component={Button}\n              label={e[1].name}\n              onClick={() => history.push(e[0])}             \n            />\n          )          \n        )}      \n    </Tabs> \n      \n    </>\n  );\n\n  const drawer = (\n    <>\n      <SwipeableDrawer \n        disableBackdropTransition={!iOS} \n        disableDiscovery={iOS}\n        open={openDrawer}\n        onClose={() => setOpenDrawer(false)}\n        onOpen={() => setOpenDrawer(true)} \n        classes={{paper: classes.drawer}}>\n          <div className={classes.toolbarMargin} />\n        <List onClick={() => setOpenDrawer(false)} className={classes.list}>\n          {Object.entries(listItems).map((e,i) => \n            e[0]==='/login' ? (\n              <ListItem \n                key={e}\n                className={classes.drawerItemLogin}\n                divider \n                button \n                component={Link} \n                to={e[0]} \n                selected={value === i}>\n                <ListItemText className={classes.drawerItem} disableTypography>{e[1].name}</ListItemText>\n              </ListItem>\n            ) : (\n              <ListItem \n                key={e}\n                divider \n                button \n                component={Link} \n                to={e[0]} \n                selected={value === i}>\n                <ListItemText className={classes.drawerItem} disableTypography>{e[1].name}</ListItemText>\n              </ListItem>\n            )          \n          )}          \n        </List>\n      </SwipeableDrawer>\n      <IconButton \n        className={classes.drawerIconContainer}\n        onClick={() => setOpenDrawer(!openDrawer)}\n        disableRipple >\n        <MenuIcon className={classes.drawerIcon} />\n      </IconButton>\n    </>\n  );\n\n  return (\n    <>\n      <ElevationScroll>    \n        <HideOnScroll {...props}>\n          <AppBar className={classes.appBar}>\n            <Toolbar disableGutters>\n              <Button className={classes.logoContainer} component={Link} to='/' disableRipple>\n                <img src={logo} className={classes.logo} alt='company logo'/>\n              </Button>                    \n              {matches ? drawer : tabs}\n              {username ? (\n                <div \n                  className={classes.avatar}\n                  onClick={() => history.push('/profile')}>\n                  {username}\n                  <UserAvatar />\n                </div>\n              ) : ''} \n            </Toolbar>\n          </AppBar>\n        </HideOnScroll>            \n      </ElevationScroll>\n      <div className={classes.toolbarMargin} />\n    </>    \n  );\n}","export default __webpack_public_path__ + \"static/media/logo.249809f0.png\";","import { createMuiTheme } from '@material-ui/core/styles';\nimport {brown, yellow} from '@material-ui/core/colors'\n\nconst theme = createMuiTheme({\n  palette: {\n    common: {\n      brown: brown[400],\n      brownDark: brown[600],\n      brownLight: brown[300],\n      yellow: yellow[500],\n      yellowDark: yellow[600],\n      yellowLight: yellow[100],\n      yellowMid: yellow[200],\n    },\n    primary: {\n      main: brown[300],\n    },\n    secondary: {\n      main: yellow[700],\n      contrastText: brown[400]\n    }\n  },\n  typography: {\n    tab: {\n      fontFamily: 'Raleway',\n      textTransform: 'none',\n      fontWeight: 700,\n      fontSize: '1rem',\n      color: 'white',      \n    },\n    h1: {\n      fontFamily: 'Raleway',\n      fontWeight: 700,\n      fontSize: '3.5rem',\n      color: 'secondary',\n      lineHeight: 1.5,\n    },\n    h2: {\n      fontFamily: 'Raleway',\n      fontWeight: 700,\n      fontSize: '3.3rem',\n      color: brown[900],\n      lineHeight: 1.1,\n    },\n    h3: {\n      fontFamily: 'Raleway',\n      fontWeight: 700,\n      fontSize: '2.5rem',\n      color: brown[900],\n      lineHeight: 1.1,\n    },\n    subtitle1: {\n      fontFamily: 'Raleway',\n      fontWeight: 500,\n      fontStyle: 'italic',\n      fontSize: '0.9rem',\n      color: brown[900],\n      lineHeight: 1.1,\n    },\n    subtitle2: {\n      fontFamily: 'Raleway',\n      fontWeight: 500,\n      fontSize: '0.9rem',\n      color: brown[900],\n      lineHeight: 1.5,\n    }\n  },\n  props: {\n    MuiButton: {\n      disableElevation: true,      \n    },    \n  },\n  overrides: {\n    MuiButton: {\n      root: {\n        fontFamily: 'Pacifico',\n        fontSize: '1rem',\n        textTransform: 'none',\n        color: 'white',\n        borderRadius: 30,\n        height: 45,\n      },\n      containedPrimary: {\n        '&:hover': {\n          backgroundColor: yellow[700],\n          color: yellow[100]\n        }\n      },\n      containedSecondary: {\n        '&:hover': {\n          backgroundColor: yellow[500],\n          color: brown[500]\n        },\n        fontWeight: 500\n      },\n      outlinedPrimary: {\n        '&:hover': {\n          backgroundColor: yellow[700],\n          color: brown[500]\n        }\n      }\n    },\n  }\n})\n\nexport { theme };","\nexport default function useDate(created_on) {\n  const months = ['','Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Nov','Dec'];\n  let [yr,mo,da] = ['00','00','0000'];\n  if(created_on) {\n    [yr,mo,da] = created_on.slice(0,10).split('-');\n  } else {\n    let today = new Date();    \n    yr = today.getFullYear();\n    da = String(today.getDate()).padStart(2, '0');\n    mo = String(today.getMonth() + 1).padStart(2, '0'); \n  }\n  return `${months[+mo]} ${da}, ${yr}`;\n}","\nimport { createSlice } from '@reduxjs/toolkit';\n\nexport const dogfriendsPhotosSlice = createSlice({\n  name: 'photoList',\n  initialState: {\n    photoList: {\n      status: 'idle',\n      data: [],\n      error: {}\n    }\n  },\n  reducers: {\n    addPhotoUrl: (state, action) => {\n      state.photoList = {\n        status: 'fulfilled',\n        data: !state.photoList.data.some(post => post.photo_id === action.payload.photo_id) ?\n          [...state.photoList.data, action.payload] : state.photoList.data,\n        error: {}\n      };\n    }\n  },\n   \n});\n\nexport const {\n  addPhotoUrl,\n} = dogfriendsPhotosSlice.actions;\n\nexport const selectPhotos = state => state.photoList.photoList;\n\nexport default dogfriendsPhotosSlice.reducer;\n","import React, { useEffect, useState } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport useDate from '../hooks/useDate';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getPhotoBySrc } from '../api/DogfriendsPhotosApi';\nimport { addPhotoUrl, selectPhotos } from '../dogfriendsPhotosSlice';\nimport { selectInitInfo } from '../dogfriendsInitInfoSlice';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    justifyContent: 'center', \n    maxWidth: '350px',\n    margin: '15px',\n    border: '2px solid #f5f5f5',\n    borderRadius: '4px',\n    boxShadow: '0 10px 6px -6px #80808040',\n    cursor: 'pointer',\n  },\n  mediaWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    width: '100%',\n  },\n  media: {    \n    maxWidth: '350px',\n    maxHeight: '350px',\n    objectFit: 'contain',\n    borderTopRightRadius: '4px', \n    borderTopLeftRadius: '4px',     \n  },\n  mediaItem: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    fontSize: '11px',\n    width: '90%',    \n  },\n  mediaBody: {\n    maxWidth: '90%',\n    wordWrap: 'break-word',\n  },\n  cardContent: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    width: '100%',\n  }\n});\n\n\nexport default function Post({id, title, username, created_on}) {\n  const classes = useStyles();\n  \n  const selectPhotosList = useSelector(selectPhotos);\n  const selectInitInfoData = useSelector(selectInitInfo);\n  const dispatch = useDispatch();\n  const [imageUrl, setImageUrl] = useState('');\n\n  useEffect(() => {\n    let isSubscribed = true;\n    \n    async function getImage(isSubscribed) {   \n      if(isSubscribed) {\n        const existingPost = [...selectPhotosList.data].find(post => id.startsWith(post.photo_id));\n        if(selectPhotosList.status === 'fulfilled' && existingPost) {\n          if(isSubscribed){\n            setImageUrl(existingPost.imageUrl);\n          }\n        } else if(selectInitInfoData.data.aws_bucket_endpoint_down !== undefined) {\n          try {\n            // const getSource = () => getPhotoBySrc(id, selectInitInfoData.data.aws_bucket_endpoint_down)\n            // .then(res => {\n            //   const imageUrl = String.fromCharCode(...res.data.Body.data).toString('base64');            \n            //   const payload = {\n            //     photo_id: id,\n            //     imageUrl\n            //   }\n            //   if(isSubscribed){\n            //     setImageUrl(imageUrl); \n            //     dispatch(addPhotoUrl(payload));      \n            //   }\n            // });\n            // setTimeout(() => {\n            //   getSource();\n            // });\n            const getSource = async () => {\n              let res = await getPhotoBySrc(id, selectInitInfoData.data.aws_bucket_endpoint_down);\n              if(res.status === 200 && res.data.Body) {\n                const imageUrl = String.fromCharCode(...res.data.Body.data).toString('base64');            \n                let payload = {\n                  photo_id: id,\n                  imageUrl\n                }\n                if(isSubscribed){\n                  setImageUrl(imageUrl); \n                  dispatch(addPhotoUrl(payload));      \n                }              \n              }\n            } \n            setTimeout(() => {\n              getSource();\n            }, 100);\n            \n          } catch (error) {\n            console.error(error);\n          }\n          \n        }\n        return () => isSubscribed = false;\n      }                   \n    }; \n    if(isSubscribed && !imageUrl.length && id) {\n      getImage(isSubscribed);  \n    }\n    return () => isSubscribed = false;\n    // eslint-disable-next-line\n  }, [imageUrl.length, selectPhotosList.status]);\n  \n  return (\n    <div className={classes.root}>\n      <div className={classes.mediaWrapper}>\n        {imageUrl.length ? (\n          <img src={imageUrl} alt='title' className={classes.media} />\n        ) : (\n          <CircularProgress />\n        )}\n      </div>      \n      <CardContent className={classes.cardContent}>\n        <Typography gutterBottom variant=\"h6\">\n          {title}\n        </Typography>\n        <Typography className={classes.mediaItem} variant=\"subtitle2\">\n          <div>By {username}</div>\n          <div>{useDate(created_on)}</div>\n        </Typography>\n      </CardContent>\n    </div>\n  );  \n}\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const dogfriendsPostsSlice = createSlice({\n  name: 'postList',\n  initialState: {\n    postList: {\n      status: 'idle',\n      data: [],\n      error: {}\n    }\n  },\n  reducers: {\n    addPosts: (state, action) => {\n      state.postList = {\n        status: 'fulfilled',\n        data: action.payload\n      }\n    }\n  },\n});\n\nexport const {\n  addPosts,\n} = dogfriendsPostsSlice.actions;\n\nexport const selectPosts = state => state.postList.postList;\n\nexport default dogfriendsPostsSlice.reducer;","import { createSlice } from '@reduxjs/toolkit';\n\nexport const dogfriendsPageCountSlice = createSlice({\n  name: 'pageCount',\n  initialState: {\n    pageCount: {\n      pagesTotal: 0,\n      pageCurr: 0,\n    }    \n  },\n  reducers: {\n    setPages: (state, action) => {\n      state.pageCount = {\n        pagesTotal: action.payload.pagesTotal,\n        pageCurr: action.payload.pageCurr,\n      }\n    },    \n  },\n  \n});\n\nexport const {\n  setPages,\n} = dogfriendsPageCountSlice.actions;\n\nexport const selectPageCount = state => state.pageCount.pageCount;\n\nexport default dogfriendsPageCountSlice.reducer;","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { \n  Slide,\n  makeStyles,\n } from '@material-ui/core'; \nimport Pagination from '@material-ui/lab/Pagination';\nimport { \n  setPages,\n  selectPageCount,\n } from '../dogfriendsPageCountSlice';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '20px',\n  },\n}));\n\nexport default function PaginationComp({pageCount, posts_per_page}) {  \n  const classes = useStyles();\n  const dispatch = useDispatch();\n  \n  let {pagesTotal, pageCurr} = useSelector(selectPageCount);\n  const [page, setPage] = React.useState(0);\n\n  useEffect(() => {\n    dispatch(setPages({\n      pagesTotal: pageCount,\n      pageCurr: page,\n    }));\n  }, [page, pageCount, dispatch]);\n  \n  const handleChange = (event, value) => {\n    setPage(value - 1);\n  }\n  \n  return (\n    <Slide direction='up' in={true} mountOnEnter unmountOnExit timeout={1000}>\n    <div className={classes.root}>\n      <Pagination \n        count={pagesTotal%posts_per_page ? ~~(pagesTotal/posts_per_page)+1 : ~~(pagesTotal/posts_per_page)} \n        page={+pageCurr+1} \n        onChange={handleChange}/>      \n    </div> \n    </Slide>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport fadeInUp from 'react-animations/lib/fade-in-up';\n\nimport { v4 as uuid } from 'uuid';\n\nimport { makeStyles } from '@material-ui/core';\nimport styled, { keyframes } from 'styled-components';\nimport Post from './Post';\nimport { selectPosts, addPosts } from '../dogfriendsPostsSlice';\nimport { getPosts } from '../api/DogfriendsApi';\nimport {  selectPageCount } from '../dogfriendsPageCountSlice';\nimport PaginationComp from './Pagination';\n\nconst fadeInUpAnimation = keyframes`${fadeInUp}`;\nconst FadeInUpAnimation = styled.div`\n  animation: 0.8s ${fadeInUpAnimation};\n`;\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    minHeight: '60vh',\n  },\n  media: {\n    display: 'flex', \n    justifyContent: 'center',   \n    flexWrap: 'wrap',\n  },\n  fadeinContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n});\n\nconst PostList = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const posts_per_page = 3;\n  const selectPostsData = useSelector(selectPosts);\n  const { pageCurr } = useSelector(selectPageCount);\n  const [currentPages, setCurrentPages] = useState({\n    from: pageCurr * posts_per_page,\n    to: pageCurr * posts_per_page + posts_per_page,\n  });\n\n  useEffect(() => {\n    const getPostsData = async (isSubscribed) => {\n      // gets all posts from database\n      if(isSubscribed) {\n        const response = await getPosts();      \n        if(isSubscribed && response.status === 200) {\n          // store post data in Redux\n          dispatch(addPosts(response.data));\n        }\n      }\n                 \n    }\n    let isSubscribed = true;\n    if(isSubscribed && selectPostsData.status !== 'fulfilled' && !selectPostsData.data.length) {\n      getPostsData(isSubscribed);\n    } \n    return () => isSubscribed = null;\n    //eslint-disable-next-line   \n  }, [selectPostsData.data]);\n\n  useEffect(() => {\n    // set the pagination page\n    setCurrentPages({\n      from: pageCurr * posts_per_page,\n      to: pageCurr * posts_per_page + posts_per_page,\n    })\n  }, [pageCurr]);\n\n  return (    \n    <div className={classes.root}>   \n      <div className={classes.media}>\n        {selectPostsData.data.length ? selectPostsData.data.slice(currentPages.from,currentPages.to).map(e => (\n            <FadeInUpAnimation \n              className={classes.fadeinContainer}\n              key={uuid()} >\n            <div onClick={() => history.push(`/post/${e.id}`)} >\n              <Post \n                key={e.photo_id}\n                id={e.photo_id}\n                title={e.title} \n                username={e.username} \n                created_on={e.created_on}\n                />\n            </div> \n            </FadeInUpAnimation>\n        )) : <div key={uuid()}></div>}\n      </div>        \n      <div>\n        <PaginationComp \n          pageCount={selectPostsData.data.length} \n          posts_per_page={posts_per_page}/>\n      </div>\n        \n    </div>\n  )\n}\n\nexport default PostList;\n","import React, { useState, createContext } from 'react';\n\nconst PageInitContext = createContext();\nconst { Provider } = PageInitContext;\n\nconst PageInitProvider = ({ children }) => {\n  const [pageInitState, setPageInitState] = useState({\n    pageInitCount: 0,\n  });\n  const incrementInitCount = () => {\n    try {\n      setPageInitState({pageInitCount: pageInitState.pageInitCount + 1});\n    } catch (error) {\n      console.error(error);\n    }    \n  }\n  const resetInitCount = () => {\n    try {\n      setPageInitState({pageInitCount: 0});\n    } catch (error) {\n      console.error(error);\n    }    \n  }\n  \n  return (\n    <Provider\n      value={\n        {\n          pageInitState,\n          incrementInitCount: () => incrementInitCount(),\n          resetInitCount: () => resetInitCount(),\n        }\n      }\n      >\n      {children}\n    </Provider>\n  )\n}\n\nexport { PageInitContext, PageInitProvider };","import React, { useContext, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { \n  Zoom,\n  LinearProgress,\n  makeStyles,\n } from '@material-ui/core'; \nimport PostList from '../components/PostList';\nimport { AuthContext } from '../context/AuthContext';\nimport { PageInitContext } from '../context/PageInitContext';\nimport { selectInitInfo } from '../dogfriendsInitInfoSlice';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  headingMargin1: {\n    marginTop: 0,\n  },  \n  headingMargin2: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginTop: 50,\n  },\n  heading: {\n    ...theme.typography.h2,\n    marginBottom: 2,\n  },\n  subHeading: {\n    ...theme.typography.subtitle1,\n    marginBottom: 30,\n  },\n  cardImageList: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    marginTop: '25px',\n  },\n  progressBar: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  }\n}));\n\nconst Home = () => {\n  const classes = useStyles();  \n  const selectInitInfoData = useSelector(selectInitInfo);\n  const [pageWelcome, setPageWelcome] = useState([]); \n  const auth = useContext(AuthContext);\n  const pageInitContext = useContext(PageInitContext);\n  const username = auth.authState.userInfo.username;  \n\n  useEffect(() => {\n    const setWelcome = () => {   \n      pageInitContext.incrementInitCount();   \n      if(username) {\n        if(pageInitContext.pageInitState && pageInitContext.pageInitState.pageInitCount < 1) {\n          setPageWelcome([`Welcome back ${username}`]);\n        } else {\n          setPageWelcome(['']);\n        }\n      } else {\n        setPageWelcome(['Dog Friends','Share your dog photos with other dog friends']);\n      }\n    }\n    setWelcome();\n    // eslint-disable-next-line\n  },[]);\n\n  console.log('selectInitInfoData', selectInitInfoData)\n  return (        \n    <div className={classes.root}>   \n      <Zoom in={true} style={{ transitionDelay: '1ms' }}>      \n      <div key='home1' className={pageWelcome.length===1 ? classes.headingMargin1 : classes.headingMargin2}>\n        {pageWelcome.map((e,i) => i===0 ? \n          <div key={e+i} className={classes.heading}>{e}</div> : <div key={e+i} className={classes.subHeading}>{e}</div>)}      \n      </div>\n      </Zoom>        \n      <div>\n        <div className={classes.cardImageList}>\n          {selectInitInfoData.status === 'fulfilled' ? (\n            <PostList />\n          ) : (\n            <div className={classes.progressBar}>\n              <div className={classes.subHeading}>Sorry, our free server is sleeping...</div>\n              <div className={classes.subHeading}>It will take a few seconds more for it to wake up...</div>\n              <LinearProgress />\n            </div>)}\n          \n        </div>        \n      </div>\n    </div>    \n  );\n}\n\nexport default Home;","export default __webpack_public_path__ + \"static/media/photo_drop_zone.d78cfb29.jpg\";","import React, { useState } from 'react';\nimport photo_drop_zone from '../assets/photo_drop_zone.jpg';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    margin: '6px 0 6px 0',\n  },\n  photoDrop: {\n    backgroundImage: `url(${photo_drop_zone})`,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    padding: '5px',\n    width: '388px',\n    height: '370px',\n    borderRadius: '7px',\n    cursor: 'pointer',  \n    border: '2px dotted salmon',      \n  },\n  errorMsg: {\n    color: 'red',\n  }    \n}));\n\nconst fileReader = new FileReader();\n\nexport function UploadImage({handleUploadImage, width, height}) {\n  const classes = useStyles();\n  const [newImage, setNewImage] = useState('');\n  const [fileUploadError, setFileUploadError] = useState('');\n\n  fileReader.onload = function (event) {  \n    let image = new Image();\n    image.onload = async function(){\n        if(image.width > image.height) {      \n          if(width < image.width) {\n            height = Math.floor(image.height*(width/image.width));\n          } else {\n            width = image.width;\n            height = image.height;\n          }      \n        } else {\n          if(height < image.height) {\n            width = Math.floor(image.width*(width/image.height))       \n          } else {\n            width = image.width;\n            height = image.height;\n          } \n        }\n        let canvas=document.createElement('canvas');\n        let context=canvas.getContext('2d');\n        canvas.width=width;\n        canvas.height=height;\n        context.drawImage(image,\n            0,\n            0,\n            image.width,\n            image.height,\n            0,\n            0,\n            canvas.width,\n            canvas.height\n        );\n        setNewImage(canvas.toDataURL());\n        handleUploadImage(canvas, canvas.toDataURL('image/jpeg', 0.8));\n    }\n    image.src=event.target.result;\n  };\n\n  const loadFile = () => {\n    setFileUploadError('');\n    const filterTypes = new RegExp('image/gif|image/jpeg|image/jpg|image/png|webp', 'i');\n    if(!document.getElementById('uploadImage').files.length) {\n      setFileUploadError('Error loading file.');\n      return;\n    } \n    const uploadFile = document.getElementById('uploadImage').files[0];\n    \n    if (!filterTypes.test(uploadFile.type)) {\n      setFileUploadError('Incorrect file type. File types include gif, jpeg, jpg, png.');\n      return;\n    }    \n    fileReader.readAsDataURL(uploadFile);\n    // eslint-disable-next-line\n  }\n  \n  return (\n    <div className={classes.form}>\n      {fileUploadError.length ? <p className={classes.errorMsg}>{fileUploadError}</p> : ''}\n      <input \n        className={newImage.length ? '' : classes.photoDrop}\n        id='uploadImage' \n        type='file'\n        onChange={loadFile}/>\n    </div>\n  );\n}","\nexport function FillTextImage({imageBase, topText, bottomText, color}) {\n  let img = new Image();\n  img.src=imageBase;\n  if(img.width) {\n    let canvas=document.createElement('canvas');\n    let ctx=canvas.getContext('2d');\n    canvas.width=img.width;\n    canvas.height=img.height;\n    ctx.drawImage(img,\n      0,\n      0,\n      img.width,\n      img.height,\n      0,\n      0,\n      canvas.width,\n      canvas.height\n    );\n    ctx.font = '30px Comic Sans MS';\n    ctx.fillStyle = color;\n    ctx.textAlign = 'center';\n    ctx.fillText(topText, canvas.width/2, 40);\n    ctx.fillText(bottomText, canvas.width/2, canvas.height-40);\n    return canvas.toDataURL('image/jpeg');\n  }   \n}","import React, { useContext, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { v4 as uuid } from 'uuid';\nimport { Zoom, makeStyles } from '@material-ui/core';\nimport { \n  Button, \n  TextField,\n} from '@material-ui/core';\nimport { \n  addPosts,\n } from '../dogfriendsPostsSlice';\nimport { AuthContext } from '../context/AuthContext';\nimport {UploadImage} from './UploadImage';\nimport { FillTextImage } from './FillTextImage';\nimport { putNewPhoto } from '../api/DogfriendsPhotosApi';\nimport { postPostNew } from '../api/DogfriendsApi';\nimport { selectInitInfo } from '../dogfriendsInitInfoSlice';\nimport { selectPosts } from '../dogfriendsPostsSlice';\nimport { addPhotoUrl } from '../dogfriendsPhotosSlice';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    height: '100vh',\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '400px',\n    margin: '0 0 20px 0',\n    padding: '15px',\n    backgroundColor: theme.palette.common.yellowLight,\n    border: '1px solid #eeeeee', \n    borderRadius: 6,   \n  },\n  control: {\n    display: 'flex',    \n    flexDirection: 'column',\n    justifyContent: 'space-between',\n  },\n  formItem: {\n    margin: '5px 0 5px 0',\n  },\n  imagePreview: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    maxWidth: '400px',\n    maxHeight: '400px',\n  },  \n  buttons: {\n    display: 'flex',\n    justifyContent: 'space-around',\n  },\n  button: {\n    ...theme.typography.button,\n    borderRadius: '22px', \n    height: '45px',\n  }\n\n}));\n\nconst PostFormNew = () => {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);  \n  const selectInitInfoData = useSelector(selectInitInfo);\n  const selectPostData = useSelector(selectPosts);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [title, setTitle] = useState('');\n  const [topText, setTopText] = useState('');\n  const [bottomText, setBottomText] = useState('');\n  const [body, setBody] = useState('');\n  const [image, setImage] = useState(null);\n  const [imageBase, setImageBase] = useState(null);\n  const [color, setColor] = useState('#000000');\n  const [titleValid, setTitleValid] = useState('');\n  const [topTextValid, setTopTextValid] = useState('');\n  const [bottomTextValid, setBottomTextValid] = useState('');\n  const [bodyValid, setBodyValid] = useState('');\n\n  // validate title\n  useEffect(() => {\n    if(title.length > 30) {\n      setTitleValid('Title must be betwen 1 and 30 characters in length.');\n    } else {\n      setTitleValid('');\n    }    \n  }, [title]);\n  // validate topText\n  useEffect(() => {\n    if(topText.length > 20) {\n      setTopTextValid('Top text must be betwen 1 and 20 characters in length.');\n    } else {\n      setTopTextValid('');\n    }\n  }, [topText]);\n  // validate bottomText\n  useEffect(() => {\n    if(bottomText.length > 20) {\n      setBottomTextValid('Bottom text must be betwen 1 and 20 characters in length.');\n    } else {\n      setBottomTextValid('');\n    }\n  }, [bottomText]);\n\n  const setImageText = async () => {\n    let newImage = await FillTextImage({imageBase, topText, bottomText, color});\n    if(newImage) {\n      setImage(newImage);\n    }    \n  }\n  // add text to image\n  useEffect(() => {\n    if(imageBase && (topText.length || bottomText.length)) {\n      setImageText();\n    }    \n    // eslint-disable-next-line\n  }, [topText, bottomText, color, imageBase])\n  // validate body\n  useEffect(() => {\n    if([...body].filter(e => e!==' ').length > 120) {\n      setBodyValid('Body text must be betwen 1 and 120 characters in length.');\n    } else {\n      setBodyValid('');\n    }\n  }, [body]);\n \n  \n  const handleSubmit = async e => {   \n    e.preventDefault();\n    if(image) {\n      const photo_id = 'lg-' + uuid() + '.txt';\n      const aws_endpoint_up = selectInitInfoData.data.aws_bucket_endpoint_up;\n      // put photo in AWS S3 bucket with lambda function\n      // post photo to db photos table\n      putNewPhoto(image, photo_id, aws_endpoint_up, auth.authState.token);\n      let photoUrl = {\n        photo_id,\n        imageUrl: image\n      }\n      dispatch(addPhotoUrl(photoUrl)); \n      const payload = {\n        id: uuid(),\n        title,\n        body,\n        photo_id,\n        votes: 0,\n        replies: 0,\n        username: auth.authState.userInfo.username,\n        _token: auth.authState.token\n      }\n      dispatch(addPosts([payload, ...selectPostData.data])); \n      // commit post details to database\n      postPostNew(payload);       \n      history.push('/');\n    }\n      \n  }\n  \n  const handleUploadImage = async (canvas, imageUrl) => {\n    setImage(imageUrl);\n    setImageBase(imageUrl);\n  }\n\n  return (\n    <Zoom in={true} style={{ transitionDelay: '1ms' }}> \n    <div className={classes.root}> \n      <form method='post' className={classes.form} id='imageUploadForm'> \n        <TextField \n          className={classes.formItem}\n          label='Title (optional)' \n          variant='outlined' \n          value={title}\n          error={titleValid.length ? true : false}\n          helperText={titleValid.length ? titleValid : ''}\n          onChange={e => setTitle(e.target.value)} />\n        <div className={classes.control}>\n          <UploadImage handleUploadImage={handleUploadImage} width={400} height={400} />\n          <div className={classes.imagePreview} >\n            <img id='uploadIMG' name='uploadImage' src={image} alt=''/>\n          </div>          \n          <div className={classes.formItem}>\n            Text Color&nbsp;  \n            <input                         \n              type='color' \n              onChange={e => setColor(e.target.value)}\n              defaultValue={color} />\n          </div>          \n          <TextField \n            className={classes.formItem}\n            label='Top Text (optional)' \n            variant='outlined' \n            value={topText}\n            error={topTextValid.length ? true : false}\n            helperText={topTextValid.length ? topTextValid : ''}\n            onChange={e => setTopText(e.target.value)} />\n          <TextField \n            className={classes.formItem}\n            label='Bottom Text (optional)' \n            variant='outlined' \n            value={bottomText}\n            error={bottomTextValid.length ? true : false}\n            helperText={bottomTextValid.length ? bottomTextValid : ''}\n            onChange={e => setBottomText(e.target.value)} />            \n          <TextField \n            className={classes.formItem}\n            multiline={true}\n            rows='4'\n            label='Body (optional)' \n            variant='outlined' \n            value={body}\n            error={bodyValid.length ? true : false}\n            helperText={bodyValid.length ? bodyValid : ''}\n            onChange={e => setBody(e.target.value)} />            \n        </div>        \n        <div className={classes.buttons}>\n          <Button \n            className={classes.button} \n            variant='contained' \n            color='primary' \n            onClick={handleSubmit} \n            >\n            Save\n          </Button>\n          <Button \n            className={classes.button} \n            onClick={() => history.push('/')} \n            variant='contained' \n            color='secondary' >\n            Cancel\n          </Button>\n        </div>      \n      </form>\n      \n    </div>\n    </Zoom>\n  );\n}\n\nexport default PostFormNew;","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport PostFormNew from './../components/PostFormNew';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',    \n  },\n  display: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n    marginTop: '30px',\n  },\n}));\n\nexport default function NewPost() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <PostFormNew />\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport { \n  Button, \n  TextField,\n } from '@material-ui/core';\n \n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%', \n  },\n  formElement: {\n    width: '95%',\n    margin: '10px', \n  },\n  button: {\n    marginTop: '15px',\n  },\n  table: {\n    border: '1px solid #EEF1F1',\n    width: '100%',\n    minWidth: '435px',  \n  },\n  tableRow: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.action.hover,\n    },\n    fontSize: '22px',\n    marginLeft: '5px',\n  }\n}));\n\nfunction getSteps() {\n  return [\n    'Create a username and password (required)', \n    'Enter your contact info (required)', \n    'Further define your account (optional)', \n    'Review and confirm account creation'\n  ];\n}\n\nexport default function SignupForm({ handlePreSignup, handleSignup }) {\n  const classes = useStyles();\n  // Step 1 (required) make sure username and password are valid\n  const [username, setUsername] = useState('');\n  const [usernameValid, setUsernameValid] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordValid, setPasswordValid] = useState('');\n\n  // Step 2 (required) make sure email is valid and complete registration process\n  const [first_name, setFirstName] = useState('');\n  const [last_name, setLastName] = useState('');  \n  const [email, setEmail] = useState('');\n  const [emailValid, setEmailValid] = useState('');\n  \n  // Step 3 (optional) allow the option for new user to further define their account \n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [country, setCountry] = useState('');\n\n  // verify username is not already in use and is in valid form\n  useEffect(() => {\n    const checkUsername = async () => {\n      if(username.length) {\n        const res = await handlePreSignup({username});\n        if(res.payload && res.payload.resp) \n          setUsernameValid('Username is already taken.');\n      }      \n    }\n    const validateUsername = (username) => {\n      const expression = /^\\s*[a-zA-Z]\\s*(?:\\S[\\t ]*){2,30}/;    \n      return expression.test(username) && username.length < 31;\n    }\n    if(username.length && !validateUsername(username)) {\n      setUsernameValid('Username must be between 3-30 characters and start with a letter [a-zA-Z].');\n    } else {\n      setUsernameValid('');\n      checkUsername();\n    }\n  }, [username, handlePreSignup]);\n\n  // validate password strength\n  useEffect(() => {  \n    const validatePassword = (password) => {\n      return password.length && (\n        password.length < 8 || \n        password.length > 30 ||\n        !/[a-z]/.test(password) || \n        !/[A-Z]/.test(password) || \n        !/[\\d]/.test(password)\n      );\n    }\n    if(validatePassword(password)) {\n      setPasswordValid('Password must be 8-30 characters in length and contain lowercase [a-z], uppercase [A-Z], numeric [0-9].');  \n    } else {\n      setPasswordValid('');\n    } \n  }, [password]);\n\n  // validate email\n  useEffect(() => {  \n    const validateEmail = (email) => {\n      const expression = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/;\n      return email.length && !expression.test(email);\n    }  \n    if(validateEmail(email)) {\n      setEmailValid('Email is not valid.');\n    } else {\n      setEmailValid('');\n    }   \n  }, [email]);\n\n  const [activeStep, setActiveStep] = useState(0);\n  const steps = getSteps();\n\n  const handleNext = async () => {\n    console.log('HandleNext')\n    switch(activeStep) {\n      case 0:\n        if(!usernameValid.length && username.length && !passwordValid.length && password.length) {\n          setActiveStep((activeStep) => activeStep + 1);\n        }          \n        break;\n      case 1:\n        if(first_name.length && last_name.length && !emailValid.length && email.length) {\n          setActiveStep((activeStep) => activeStep + 1);\n        }\n        break;\n      case 2:\n        setActiveStep((activeStep) => activeStep + 1);\n        break;\n      default:\n        setActiveStep((activeStep) => activeStep + 1);\n        handleSignup({username, password,first_name,last_name,email,admin:false});\n    }    \n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <div className={classes.main}>\n        {activeStep === steps.length ? (\n          <div>\n            <div component={'span'} className={classes.main}>All steps completed</div>\n            <Button \n              variant='contained'\n              color='secondary'\n              onClick={handleReset}>Reset</Button>\n          </div>\n        ) : (\n          <div >\n            <div component={'span'}>\n              {activeStep===0 ?\n              (\n                <div className={classes.main}>\n                  <TextField                     \n                    className={classes.formElement} \n                    label='Username: (required)' \n                    variant='outlined' \n                    value={username} \n                    inputRef={input => !username.length && input && input.focus()}\n                    error={usernameValid.length ? true : false}\n                    helperText= {usernameValid.length ? usernameValid : ''}\n                    onChange={e => setUsername(e.target.value)}/>\n                  <TextField \n                    className={classes.formElement} \n                    label='Password: (required)' \n                    type='password'\n                    variant='outlined' \n                    value={password} \n                    error={passwordValid.length ? true : false}\n                    helperText={passwordValid.length ? passwordValid : ''}\n                    onChange={e => setPassword(e.target.value)}/>\n                </div>\n              ) :\n              activeStep===1 ?\n              (\n                <div className={classes.main}>\n                  <TextField \n                    className={classes.formElement} \n                    label='First Name: (required)' \n                    variant='outlined' \n                    value={first_name} \n                    inputRef={input => !first_name.length && input && input.focus()}\n                    onChange={e => setFirstName(e.target.value)}/>\n                  <TextField \n                    className={classes.formElement} \n                    label='Last Name: (required)' \n                    variant='outlined' \n                    value={last_name} \n                    onChange={e => setLastName(e.target.value)}/>\n                  <TextField \n                    className={classes.formElement} \n                    label='Email: (required)' \n                    variant='outlined' \n                    type='email'\n                    value={email} \n                    error={emailValid.length ? true : false}\n                    helperText={emailValid.length ? emailValid : ''}\n                    onChange={e => setEmail(e.target.value)}/>\n                </div>\n              ) :\n              activeStep===2 ?\n              (\n                <div className={classes.main}>\n                  <TextField \n                    className={classes.formElement} \n                    label='City: (optional)' \n                    variant='outlined' \n                    value={city} \n                    inputRef={input => !city.length && input && input.focus()}\n                    onChange={e => setCity(e.target.value)}/>\n                  <TextField \n                    className={classes.formElement} \n                    label='State: (optional)' \n                    variant='outlined' \n                    value={state} \n                    onChange={e => setState(e.target.value)}/>\n                  <TextField \n                    className={classes.formElement} \n                    label='Country: (optional)' \n                    variant='outlined' \n                    value={country} \n                    onChange={e => setCountry(e.target.value)}/>\n                </div>\n              ) :\n              (\n                <div className={classes.main}>\n                  <table className={classes.table}>\n                    <tbody>\n                      <tr className={classes.tableRow}>\n                        <td style={{paddingLeft: '8px'}}>Username: {username}</td>\n                      </tr>\n                      <tr className={classes.tableRow}>\n                      <td style={{paddingLeft: '8px'}}>First Name: {first_name}</td>\n                      </tr>\n                      <tr className={classes.tableRow}>\n                      <td style={{paddingLeft: '8px'}}>Last Name: {last_name}</td>\n                      </tr>\n                      <tr className={classes.tableRow}>\n                      <td style={{paddingLeft: '8px'}}>Email: {email}</td>\n                      </tr>\n                      <tr className={classes.tableRow}>\n                      <td style={{paddingLeft: '8px'}}>City: {city}</td>\n                      </tr>\n                      <tr className={classes.tableRow}>\n                      <td style={{paddingLeft: '8px'}}>State: {state}</td>\n                      </tr>\n                      <tr className={classes.tableRow}>\n                      <td style={{paddingLeft: '8px'}}>Country: {country}</td>\n                      </tr>\n                    </tbody>                    \n                  </table>\n                </div>\n              )}</div>\n            <div>\n              <Button \n                className={classes.button}\n                variant='contained'\n                color='primary'\n                fullWidth={true}\n                onClick={handleNext}>\n                {activeStep === steps.length - 1 ? 'Complete Signup' : 'Next'}\n              </Button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { \n  Box, \n  Button, \n  TextField, \n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    paddingTop: '20px',    \n  },\n  formElement: {\n    width: '95%',\n    margin: '10px',\n  },\n  err: {\n    color: '#ff1744',\n    fontSize: '24px',\n  },\n}));\n\n\nexport default function LoginForm({handleLogin}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState(true);\n\n  const handleSubmitLogin = async (e) => {\n    e.preventDefault();\n    const valid = await handleLogin({username, password});\n    setErrorMessage(valid);\n    if(valid) history.push('/'); \n  }\n  \n  return (\n    <form className={classes.root} onSubmit={handleSubmitLogin}>\n      <Box className={classes.err} \n        component=\"span\" \n        display={!errorMessage ? 'block' : 'none'}\n        >\n          Error: Invalid Login Credentials\n      </Box>\n      <TextField \n        className={classes.formElement} \n        label='Username: (required)' \n        variant='outlined' \n        value={username} \n        autoFocus={true}\n        onChange={e => setUsername(e.target.value)}/>\n      <TextField \n        className={classes.formElement} \n        type='password'\n        label='Password: (required)' \n        variant='outlined' \n        value={password} \n        onChange={e => setPassword(e.target.value)}/>\n      <Button \n        className={classes.formElement} \n        type=\"submit\" \n        variant=\"contained\" \n        color=\"primary\" >\n          Submit\n      </Button>\n    </form>\n  );\n}\n","/** Login and Signup */\nimport React, { useState, useContext } from 'react';\nimport {\n  makeStyles,\n  AppBar,\n  Tabs,\n  Tab,\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { useDispatch } from 'react-redux';\nimport SignupForm from '../components/SignupForm';\nimport LoginForm from '../components/LoginForm';\nimport { addUserInfo } from '../dogfriendsUserSlice';\nimport {\n  getUserInfo, \n  login, \n  preSignupUsernameCheck,\n  signup} from '../api/DogfriendsApi';\nimport { PageInitContext } from '../context/PageInitContext';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: '100%',\n    maxWidth: '500px',\n    paddingTop: '30px',\n    paddingBottom: '100px',\n  },\n  form: {\n    width: '100%',\n    backgroundColor: '#ffffff',    \n  },\n  label: {\n    fontSize: '18px',\n    fontWeight: 'bold',\n    width: '90%',\n    margin: '10px 20px 0 20px',\n  },\n  input: {\n    width: '90%',\n    margin: '0 20px 0 20px',\n  },\n  button: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    margin: '10px 20px 15px',\n  },\n  err: {\n    color: '#ff1744',\n    fontSize: '24px',\n  },\n\n}));\n\nexport default function Login() {\n  const classes = useStyles();\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const pageInitContext = useContext(PageInitContext);\n  const dispatch = useDispatch();\n  const [loginType, setValue] = useState('login');\n  \n  /**\n   * Toggle between Login and Signup functionality\n   * value is the Tab value string\n   * @param {event} e \n   * @param {value} newValue \n   */\n  const handleChange = (e, newValue) => {\n    setValue(newValue);\n  }\n\n  /**\n   * Login user\n   * @param {username, password} data \n   */\n  const handleLogin = async (data) => {\n    try {\n      // reset page count \n      pageInitContext.resetInitCount();\n      // login to database\n      const response = await login(data);\n      // if logged in get user information\n      if(response && response.status === 200) {\n        data['token'] = response.data.token;\n        const userInfo = await getUserInfo(data);\n        await dispatch(addUserInfo(userInfo.data.user));\n        auth.setAuthState({\n          userInfo: {username: data.username},\n          token: data.token,\n        });\n        return true;\n      } else {\n        console.log('Error login',response)\n        return false;\n      }        \n    } catch (error) {\n      console.error(error)\n      return false;\n    }\n  }\n  \n  /**\n   * Check if username is available\n   * @param {username} data \n   */\n  const handleCheckUsernameAvailability = async (data) => {\n    if(data.username.length) {\n      return await preSignupUsernameCheck(data);\n    }    \n  }\n  \n  /**\n   * Signup user\n   * @param {\n   *  username, (required)\n   *  password, (required)\n   *  first_name, (required)\n   *  last_name, (required)\n   *  email, (required)\n   *  city, (optional)\n   *  state, (optional)\n   *  country (optional)\n   * } data \n   */\n  const handleSignup = async (data) => {  \n    try {\n      const resp = await signup(data);\n      // reset page count \n      pageInitContext.resetInitCount();\n      auth.setAuthState({\n        userInfo: {username: data.username},\n        token: resp.data.token,\n      });\n      history.push('/');\n    } catch (error) {\n      console.error(error);\n      return false;\n    }\n  }  \n\n  return (    \n    <div className={classes.root}>\n      <AppBar position='static'>\n        <Tabs\n          variant='fullWidth'\n          value={loginType}\n          onChange={handleChange}\n          aria-label='nav tabs example'\n          TabIndicatorProps={\n            { \n              style: {\n                backgroundColor: 'secondary', \n                height: '5px',\n              },\n            }\n          }   \n        >\n          <Tab label='Login' value='login' />\n          <Tab label='Sign up' value='signup' />\n        </Tabs>\n      </AppBar>\n      \n      { loginType === 'login' ? \n        <LoginForm handleLogin={handleLogin}/> : \n        <SignupForm \n          handlePreSignup={handleCheckUsernameAvailability}\n          handleSignup={handleSignup} \n        /> \n      }\n    </div>\n  );\n}\n\n\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport useImageUrl from '../hooks/useImageUrl';\nimport useDate from '../hooks/useDate';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center', \n    border: '2px solid #eeeeee',\n    borderRadius: 6,\n    boxShadow: '0 10px 6px -6px #80808040',\n    marginRight: '20px',\n    [theme.breakpoints.down('sm')]: {\n      boxShadow: 'none',\n      borderBottom: 'none',\n      borderBottomLeftRadius: 'none',\n      borderBottomRightRadius: 'none',\n      marginRight: '0',\n    }\n  },\n  media: { \n    borderTopRightRadius: 6, \n    borderTopLeftRadius: 6, \n  },\n  mediaItem: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    fontSize: '11px',\n    width: '100%',     \n  },\n  mediaBody: {\n    maxWidth: '90%',\n    wordWrap: 'break-word',\n  },\n  cardContent: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    width: '95%',\n    padding: '7px',\n  }\n}));\n\n\nexport default function PostDisplay(post) {\n  const {body, photo_id, title, username, created_on} = post.post;\n  const classes = useStyles();\n  const urlImage = useImageUrl(photo_id+'.txt');\n  return (\n    <div className={classes.root}>\n      {urlImage ? <img src={urlImage} alt='title' className={classes.media} />\n        : <CircularProgress />}      \n      <CardContent className={classes.cardContent}>\n        <Typography gutterBottom variant=\"h6\">\n          {title}\n        </Typography>\n        <Typography className={classes.mediaBody}>\n          {body}\n        </Typography>\n        <Typography className={classes.mediaItem} variant=\"subtitle2\">\n          <div>By {username}</div>\n          <div>{useDate(created_on)}</div>\n        </Typography>\n      </CardContent>\n    </div>\n  );  \n}\n","import {useEffect, useState} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getPhotoBySrc } from '../api/DogfriendsPhotosApi';\nimport { addPhotoUrl, selectPhotos } from '../dogfriendsPhotosSlice';\n\nexport default function useImageUrl(key) {\n  const selectList = useSelector(selectPhotos);\n  const dispatch = useDispatch();\n  const [imageUrl, setImageUrl] = useState('');\n  const getImage = async () => { \n    if(key) {\n      if( selectList.status === 'fulfilled' && [...selectList.data].some(post => key.startsWith(post.photo_id)) ) {\n        const post = [...selectList.data].find(post => key.startsWith(post.photo_id));\n        setImageUrl(post.imageUrl);\n      } else {\n        const res = await getPhotoBySrc(key);\n        if(res && res.data.Body) {\n          const imageUrl = String.fromCharCode(...res.data.Body.data).toString('base64');\n          setImageUrl(imageUrl); \n          let payload = {\n            photo_id: key,\n            imageUrl\n          }\n          dispatch(addPhotoUrl(payload));        \n        }\n      }\n    }  \n    \n  }\n  useEffect(() => {\n    if(!imageUrl.length) {\n      getImage();\n    }\n  });\n\n  return imageUrl;\n}","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport {\n  getRepliesById,\n  postReplyNew\n} from './api/DogfriendsApi';\n\nexport const getRepliesDataById = createAsyncThunk(\n  'getRepliesById',\n  async (id) => {\n    const res = await getRepliesById(id);\n    return res.data;\n  }\n);\nexport const dogfriendsRepliesSlice = createSlice({\n  name: 'replyList',\n  initialState: {\n    replyList: {\n      status: 'idle',\n      data: [],\n      error: {}\n    }\n  },\n  reducers: {\n    addNewReply: (state, action) => {\n      postReplyNew(action.payload);\n    },\n    \n  },\n  extraReducers: {\n    // get all replies by parent_id\n    [getRepliesDataById.pending]: (state, action) => {\n      state.replyList = {\n        status: 'pending',\n        data: {},\n        error: {}\n      };\n    },\n    [getRepliesDataById.fulfilled]: (state, action) => {\n      state.replyList = {\n        status: 'fulfilled',\n        data: action.payload,\n        error: {}\n      };\n    },\n    [getRepliesDataById.rejected]: (state, action) => {\n      state.replyList = {\n        status: 'rejected',\n        data: {},\n        error: action.payload,\n      };\n    },\n      \n  }\n});\n\nexport const {\n  addNewReply,\n} = dogfriendsRepliesSlice.actions;\n\nexport const selectReplies = state => state.replyList.replyList;\n\nexport default dogfriendsRepliesSlice.reducer;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useDate from '../hooks/useDate';\n\nconst useStyles = makeStyles({\n  root: {    \n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'stretch',\n    justifyContent: 'stretch',\n    margin: '1px 12px 1px 3px',\n    padding: '2px 5px 2px 5px',       \n  },\n  mediaBody: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    fontSize: '18px',\n    wordWrap: 'break-word',\n    overflow: 'hidden',    \n  },\n  mediaInfo: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    fontSize: '11px', \n  }\n});\n\nexport default function ReplyDisplay({username, body, created_on}) {\n  const classes = useStyles();\n  \n  return ( \n    <div className={classes.root}> \n      <div className={classes.mediaBody}>\n        {body}\n      </div>\n      <div className={classes.mediaInfo}>\n        <div>By {username}</div>\n        <div>{useDate(created_on)}</div>\n      </div>\n    </div> \n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { \n  Button, \n  TextField,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '97%',\n    padding: '0',\n    margin: '0',\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',    \n    width: '100%',\n  },\n  control: {\n    display: 'flex',    \n    flexDirection: 'column',\n    justifyContent: 'space-between',\n  },\n  formItem: {\n    margin: '3px 0 7px 0',\n  },\n  button: {\n    width: '100%',\n    margin: '5px 0 5px 0',\n  }\n}));\n\nconst ReplyFormNew = ({handleSubmit}) => {\n  const classes = useStyles();\n  const [body, setBody] = useState('');\n  const [bodyValid, setBodyValid] = useState('');\n  \n  // validate body\n  useEffect(() => {\n    if([...body].filter(e => e!==' ').length > 120) {\n      setBodyValid('Body text must be betwen 1 and 120 characters in length.');\n    } else {\n      setBodyValid('');\n    }\n  }, [body]);\n \n  const handleButtonClick = () => {\n    if(body) {\n      handleSubmit(body);\n      setBody('');\n    }\n  }\n  \n  return (\n    <div className={classes.root}> \n      <form method='post' className={classes.form}>          \n        <div className={classes.control}>           \n          <TextField \n            className={classes.formItem}\n            multiline={true}\n            rows='2'\n            label='Reply' \n            variant='outlined' \n            value={body}\n            error={bodyValid.length ? true : false}\n            helperText={bodyValid.length ? bodyValid : ''}\n            onChange={e => setBody(e.target.value)} />            \n        </div>\n        <Button \n          className={classes.button} \n          variant='contained' \n          color='primary' \n          onClick={handleButtonClick} >\n          Send\n        </Button>\n      </form>      \n    </div>\n  );\n}\n\nexport default ReplyFormNew;","import React, { useEffect, useContext } from 'react';\nimport { \n  useSelector,\n  useDispatch \n} from 'react-redux';\nimport { useParams } from 'react-router';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { v4 as uuid } from 'uuid';\nimport { \n  getRepliesDataById,\n  addNewReply,\n  selectReplies\n} from '../dogfriendsRepliesSlice';\nimport ReplyDisplay from './ReplyDisplay';\nimport ReplyFormNew from './ReplyFormNew';\nimport { AuthContext } from '../context/AuthContext';\n\nconst useStyles = makeStyles((theme) => ({  \n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    minWidth: 350,    \n    marginLeft: 20,\n    border: '1px solid #eeeeee',\n    borderRadius: 6,\n    boxShadow: '0 10px 6px -6px #80808040',\n  },\n  commentSection: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'stetch',\n    justifyContent: 'flex-start',\n    width: '100%',\n    height: 450,\n    overflow: 'auto',\n  },\n  comment: {\n    width: 'auto',\n    border: '1px solid #eeeeee',\n  },\n  noreplies: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 'auto',\n    fontSize: 16,\n    border: '1px solid #eeeeee',\n  }\n}));\n\nexport default function RepliesList() {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const { parent_id } = useParams();\n  const dispatch = useDispatch();  \n  const selectList = useSelector(selectReplies);\n\n  useEffect(() => {\n    dispatch(getRepliesDataById(parent_id));   \n    // eslint-disable-next-line\n  }, [dispatch, parent_id]);\n  \n  const handleSubmit = async (body) => {\n    if(body) {      \n      const payload = {\n        parent_id,\n        body,\n        username: auth.authState.userInfo.username,\n        _token: auth.authState.token\n      }\n      // commit reply details to database\n      await dispatch(addNewReply(payload)); \n      // update replies list\n      dispatch(getRepliesDataById(parent_id));\n    }    \n  };\n\n  return (      \n    <div className={classes.root} >\n      <div className={classes.commentSection} >\n        {selectList.data.length ? selectList.data.map(e => (\n          <div key={uuid()}>\n            <div className={classes.comment}>\n              <ReplyDisplay \n                username={e.username}\n                body={e.body} \n                created_on={e.created_on} />\n            </div>            \n          </div>\n      )) : <div className={classes.noreplies}>No replies yet.</div>}\n      </div>\n      {auth.authState.userInfo.username && auth.authState.userInfo.username.length ?         \n        <ReplyFormNew handleSubmit={handleSubmit}/>\n        : ''\n      }             \n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from \"react-router-dom\";\nimport { animations } from 'react-animation';\nimport { makeStyles } from '@material-ui/core';\nimport PostDisplay from '../components/PostDisplay';\nimport { selectPosts } from '../dogfriendsPostsSlice';\nimport RepliesList from '../components/RepliesList';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {    \n    display: 'flex',\n    flexDirection: 'column',\n    animation: animations.popIn,\n    animationDuration: 2500,\n  },\n  mainContainer: {    \n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'flex-start',    \n    width: '100%', \n    fontSize: '22px', \n    [theme.breakpoints.down('md')]: {\n      flexDirection: 'row',\n    }, \n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column',\n      alignItems: 'stretch',\n      justifyContent: 'stretch',\n    },\n  },  \n}));\n\nexport default function Post() {\n  const classes = useStyles();\n  let history = useHistory();\n  const { parent_id } = useParams();\n  const selectList = useSelector(selectPosts);\n  const [post, setPost] = useState(null);\n\n  useEffect(() => {\n    if(selectList.status === 'fulfilled' && !post) {      \n      setPost( selectList.data.find(e => e.id === parent_id) );\n    } else if(selectList.status !== 'fulfilled' && !post) {\n      history.push('/');\n    } \n    // eslint-disable-next-line\n  }, [selectList.status, selectList.data, post, parent_id]);  \n\n  return (\n    <div className={classes.root}>\n      {post ? (\n      <div className={classes.mainContainer}>\n        <PostDisplay post={post} />\n        <RepliesList post={post}/>\n      </div> \n      ) : ''} \n    </div>    \n  );\n}","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Zoom, makeStyles } from '@material-ui/core';\nimport { \n  TextField,\n  Button } from '@material-ui/core';\nimport { selectUser } from '../dogfriendsUserSlice';\nimport { selectAvatar } from '../dogfriendsAvatarSlice';\nimport UserAvatar from './UserAvatar';\nimport {UploadImage} from './UploadImage';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: '100%',\n    maxWidth: '700px',\n    padding: '2px',\n    backgroundColor: theme.palette.common.yellowLight,\n    border: '1px solid #eeeeee',\n    borderRadius: 6,   \n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n    width: '100%',\n    fontSize: '24px',\n    \n  },\n  formElement: {\n    width: 'auto',\n    margin: '10px 15px',\n  },\n  formAvatar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    margin: '20px 15px',\n    padding: '5px',\n    border: '1px solid #00000030',\n    '&:hover': {\n      border: '1px solid #00000090',\n    },\n    borderRadius: '5px',\n  },\n  formLabel: {\n    margin: '10px 20px 15px',\n  },\n  button: {\n    margin: '0 25px 0 50px', \n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    height: '50px',\n    margin: '20px 0 20px 0',\n    '& p': {\n      fontSize: '38px',\n      color: 'green',\n    },\n    '& button': {\n      height: '30px',\n    }\n  },\n  imagePreview: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    maxWidth: '100px',\n    maxHeight: '100px',\n  }\n\n}));\n\nconst ProfileForm = ({title, handleSubmit}) => {  \n  const classes = useStyles();\n  const selectUserData = useSelector(selectUser);\n  const selectAvatarData = useSelector(selectAvatar);\n  const [username, setUsername] = useState('');\n  const [first_name, setFirstName] = useState('');\n  const [last_name, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [photo_id, setPhotoId] = useState('');\n  const [city, setCity] = useState('');\n  const [state, setState] = useState('');\n  const [country, setCountry] = useState('');\n  const [imageUrl, setImageUrl] = useState('');\n\n  useEffect(() => {\n    if(selectUserData.status === 'fulfilled') {\n      setUsername(selectUserData.data.username ? selectUserData.data.username : '');\n      setFirstName(selectUserData.data.first_name ? selectUserData.data.first_name : '');\n      setLastName(selectUserData.data.last_name ? selectUserData.data.last_name : '');\n      setEmail(selectUserData.data.email ? selectUserData.data.email : '');\n      setPhotoId(selectUserData.data.photo_id ? selectUserData.data.photo_id : '');\n      setCity(selectUserData.data.city ? selectUserData.data.city : '');\n      setState(selectUserData.data.state ? selectUserData.data.state : '');\n      setCountry(selectUserData.data.country ? selectUserData.data.country : '');\n    }   \n    // eslint-disable-next-line\n  }, [selectAvatarData.data.imageUrl, selectUserData.data.first_name, selectUserData.data.last_name, selectUserData.data.email, selectUserData.data.photo_id, selectUserData.data.city, selectUserData.data.state, selectUserData.data.country, selectUserData.status]);  \n\n  const [photoDropVisibility, setPhotoDropVisibility] = useState('none');\n  const history = useHistory();  \n  \n  const handleClick = () => {        \n    handleSubmit({\n       first_name,\n       last_name, \n       email, \n       photo_id,\n       city, \n       state, \n       country,\n       imageUrl\n    });\n  }\n  const handleUploadImage = async (canvas, imageUrl) => {    \n    setImageUrl(imageUrl);    \n  }\n  \n  return (\n    <Zoom in={true} style={{ transitionDelay: '1ms' }}> \n    <div className={classes.root}>      \n      <div className={classes.header}>\n        <p>{title}</p>\n        <Button className={classes.button} color='primary' variant='contained' onClick={handleClick}>\n          Done\n        </Button>\n        <Button className={classes.button} color='secondary' variant='contained' onClick={() => history.push('/')}>\n          Cancel\n        </Button>         \n      </div>\n      <div style={{display: photoDropVisibility}}>\n        <UploadImage handleUploadImage={handleUploadImage} width={100} height={100} />\n      </div>\n      <div className={classes.imagePreview} >\n        <img id='uploadIMG' name='uploadImage' src={imageUrl} alt=''/>\n      </div>\n      <div className={classes.form}>\n        <div className={classes.formAvatar} >\n          <UserAvatar photo_url={imageUrl}/>\n          {username}\n          <Button \n            name='avatar' \n            onClick={() => setPhotoDropVisibility('inline')}\n            className={classes.button} \n            color='primary'\n            variant='contained'>\n            Change\n          </Button>      \n        </div>\n        <TextField \n          className={classes.formElement} \n          label='First Name: (required)' \n          variant='outlined' \n          value={first_name} \n          onChange={e => setFirstName(e.target.value)}/>\n        <TextField \n          className={classes.formElement} \n          label='Last Name: (required)' \n          variant='outlined' \n          value={last_name} \n          onChange={e => setLastName(e.target.value)}/>\n        <TextField \n          className={classes.formElement} \n          label='Email: (required)' \n          variant='outlined' \n          value={email} \n          onChange={e => setEmail(e.target.value)}/>\n        <TextField \n          className={classes.formElement} \n          label='City: (optional)' \n          variant='outlined' \n          value={city} \n          onChange={e => setCity(e.target.value)}/>\n        <TextField \n          className={classes.formElement} \n          label='State: (optional)' \n          variant='outlined' \n          value={state} \n          onChange={e => setState(e.target.value)}/>\n        <TextField \n          className={classes.formElement} \n          label='Country: (optional)' \n          variant='outlined' \n          value={country} \n          onChange={e => setCountry(e.target.value)}/>      \n      </div>\n    </div>\n    </Zoom>\n  );\n}\nexport default ProfileForm;","\nimport React, { useContext, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport { v4 as uuid } from 'uuid';\nimport { makeStyles } from '@material-ui/core';\nimport { AuthContext } from '../context/AuthContext';\nimport { addUserInfo } from '../dogfriendsUserSlice';\nimport { selectInitInfo } from '../dogfriendsInitInfoSlice';\nimport { addAvatarUrl } from '../dogfriendsAvatarSlice';\nimport { putNewPhoto } from '../api/DogfriendsPhotosApi';\nimport { patchUserInfo } from '../api/DogfriendsApi';\nimport ProfileForm from '../components/ProfileForm';\n\nconst useStyles = makeStyles((theme) => ({\n  successMessage: {\n    color: '#75a478',\n    backgroundColor: '#d7ffd9',\n  },\n  errorMessage: {\n    color: '#ba6b6c',\n    backgroundColor: '#ffcccb',\n  },\n}));\n\nconst Profile = () => {\n  const classes = useStyles();\n  const auth = useContext(AuthContext);\n  const selectInitInfoData = useSelector(selectInitInfo);\n  const [statusMessage, setStatusMessage] = useState('');\n  const dispatch = useDispatch();\n\n  const commitProfile = async (data) => {   \n    const photo_id = data.photo_id.length ? data.photo_id : 'sm-' + uuid() + '.txt';\n    const imageUrl = data.imageUrl;\n    const aws_endpoint_up = selectInitInfoData.data.aws_bucket_endpoint_up;\n    const aws_endpoint_down = selectInitInfoData.data.aws_bucket_endpoint_down;\n    const token = auth.authState.token; \n    try {\n      if(data.imageUrl) {\n        await putNewPhoto(imageUrl, photo_id, aws_endpoint_up, token, aws_endpoint_down);\n      }\n      dispatch(addAvatarUrl({photo_id, imageUrl}));\n      data['photo_id'] = photo_id;\n      data._token = auth.authState.token;\n      data.username = auth.authState.userInfo.username;\n      delete data.imageUrl;\n      dispatch(addUserInfo(data));\n      await patchUserInfo(data);\n      setStatusMessage(<div className={classes.successMessage}>Success in updating your user information.</div>);\n    } catch (error) {\n      setStatusMessage(<div className={classes.errorMessage}>Error in updating your user information.</div>);\n    }\n       \n  } \n  const handleSubmit = (data) => {\n    commitProfile(data);\n  }\n  return (\n    <>\n    <div>{statusMessage}</div>\n    <ProfileForm title=\"Edit Profile\" handleSubmit={handleSubmit}/>\n    </>\n  );\n}\nexport default Profile;","import React from 'react';\nimport { \n  Zoom,\n  makeStyles,\n } from '@material-ui/core'; \n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    },\n    [theme.breakpoints.up('md')]: {\n      width: '75%'\n    },\n    [theme.breakpoints.up('xl')]: {\n      width: '65%'\n    },\n  },\n  displayWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    [theme.breakpoints.down('sm')]: {\n      flexWrap: 'wrap',\n    },\n    [theme.breakpoints.up('md')]: {\n      flexWrap: 'no-wrap',\n    },\n    width: '100%',\n    minWidth: 210,\n    minHeight: 210,\n  },\n  displayContent: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    [theme.breakpoints.down('xs')]: {\n      width: '70%',\n    },\n    [theme.breakpoints.up('sm')]: {\n      width: '50%',\n    },\n    [theme.breakpoints.up('md')]: {\n      width: '30%',\n    },    \n    minWidth: 200,\n    minHeight: 200,\n    margin: 20,\n    padding: 10,\n    borderRadius: 30,\n    background: `linear-gradient(45deg, ${theme.palette.common.brown} 30%, ${theme.palette.common.brownDark} 90%)`,\n    boxShadow: '0 10px 6px -6px #80808080',\n  },\n  heading: {\n    ...theme.typography.h3,\n    color: 'white',\n  },\n  subHeading: {\n    ...theme.typography.subtitle2,\n    color: 'white',\n    textAlign: 'center',\n    marginTop: 30,\n    marginBottom: 30,\n  },\n  \n}));\nconst About = () => {\n  const classes = useStyles(); \n  return (\n    <Zoom in={true} style={{ transitionDelay: '1ms' }}> \n    <div className={classes.root}>\n      <div className={classes.displayWrapper}>\n        <div className={classes.displayContent}>\n            <div className={classes.heading}>Our mission</div>\n            <div className={classes.subHeading}>We strive to make dogs happy and to connect doggers.</div>\n        </div>\n        <div className={classes.displayContent}>\n          <div className={classes.heading}>Our status</div>\n          <div className={classes.subHeading}>The status of Dog Friends is under construction.</div>\n        </div>\n      </div>\n      <div className={classes.displayWrapper}>\n        <div className={classes.displayContent}>\n          <div className={classes.heading}>Our future</div>\n          <div className={classes.subHeading}>The future of Dog Friends is a complete dogger friendship atmosphere.</div>\n        </div>\n        <div className={classes.displayContent}>\n          <div className={classes.heading}>Our promise</div>\n          <div className={classes.subHeading}>We promise to do our best to make doggers happy.</div>\n        </div>\n      </div>\n    </div>\n    </Zoom>\n  )\n}\n\n\nexport default About\n","export default __webpack_public_path__ + \"static/media/footerLogo.b22479e1.png\";","import React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  useHistory,\n  useLocation \n} from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Grid,\n  Hidden,\n  Button,\n  useScrollTrigger,\n  Slide,\n} from '@material-ui/core';\n\nimport { AuthContext } from '../context/AuthContext';\n\nimport footerAdornment from '../assets/footerLogo.png';\n\nconst useStyles = makeStyles(theme => ({\n  footer: {\n    background: `linear-gradient(45deg, ${theme.palette.common.brown} 30%, ${theme.palette.common.brownLight} 90%)`,\n    width: '100%',\n    position: 'sticky',\n    bottom: 0,\n    [theme.breakpoints.down('md')]: {\n      display: 'none',\n    },\n  },\n  adornment: {\n    width: '10.2em',\n    verticalAlign: 'bottom',\n    [theme.breakpoints.down('md')]: {\n      width: '5em',\n    },\n    height: '2.5rem',\n  },\n  mainContainer: {\n    width: '100%',\n    position: 'absolute',\n    justifyContent: 'center',    \n  },\n  link: {\n    color: 'white',\n    fontFamily: 'Arial',\n    fontSize: '0.75rem',\n    fontWeight: 'bold',\n    margin: '0.5em',\n    textDecoration: 'none',\n  },\n  linkSelected: {\n    opacity: 1,\n  },\n  button: {\n    color: 'white',\n    fontFamily: 'Arial',\n    fontSize: '0.75rem',\n    fontWeight: 'bold',\n    height: '1rem',\n  },\n  gridItem: {\n    margin: '1em',\n  },\n\n}));\n\nfunction HideOnScroll(props) {\n  const { children } = props;\n  const trigger = useScrollTrigger({ \n    threshold: 25\n  });\n  return (\n    <Slide appear={false} direction=\"up\" in={!trigger}>\n      {children}\n    </Slide>\n  );\n}\n\nHideOnScroll.propTypes = {\n  children: PropTypes.element.isRequired\n};\n\nexport default function Footer(props) {\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n  const auth = useContext(AuthContext);\n  const username = auth.authState.userInfo.username;\n  const [value, setValue] = useState(0);   \n\n  useEffect(() => {\n    const listItems = {\n      '/': {name: 'Home', index: 0},\n      '/about': {name: 'About Us', index: 1},\n      '/profile': {name: 'Profile', index: 2},\n      '/login': {name: 'Logout', index: 3},      \n      '/new': {name: 'New', index: 4}    \n    }\n    if(!location.pathname.startsWith('/post')) {\n      setValue(listItems[location.pathname].index);\n    }    \n  }, [location.pathname]);\n\n  const handleClick = async e => {\n    if(!username) {\n      history.push('/login');\n    } else {\n      await auth.setAuthState({token: \"\", userInfo: {}});\n      history.push('/login');\n    }    \n  }\n\n  return (\n    <HideOnScroll {...props}>\n      <footer className={classes.footer}>\n      <Hidden mdDown>\n        <Grid container className={classes.mainContainer}>\n          <Grid item className={classes.gridItem}>\n            <Grid container direction='row'>\n              <Grid \n                className={classes.button}\n                item \n                component={Button} \n                onClick={() => history.push('/')} \n                style={{opacity: value === 0 ? 1 : 0.7}} >\n                Home\n              </Grid>\n              <Grid \n                className={classes.button}\n                item \n                component={Button} \n                onClick={() => history.push('/about')} \n                style={{opacity: value === 1 ? 1 : 0.7}} >\n                About Us\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item className={classes.gridItem}>\n            <Grid container direction='row'>\n              {username && \n                <Grid \n                  className={classes.button}\n                  item \n                  component={Button}\n                  onClick={() => history.push('/profile')}  \n                  style={{opacity: value === 4 ? 1 : 0.7}} >\n                  Profile\n                </Grid>\n              }\n              <Grid \n                className={classes.button}\n                item \n                component={Button}\n                onClick={handleClick} \n                style={{opacity: value === 3 ? 1 : 0.7}} >\n                {username ? 'Logout' : 'Login'}\n              </Grid>\n                            \n            </Grid>\n          </Grid>\n        </Grid>\n      </Hidden>      \n      <img\n        alt='black decorative slash'\n        src={footerAdornment}\n        className={classes.adornment}\n      />\n      </footer>\n    </HideOnScroll>    \n  );\n}","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport { theme } from './features/dogfriends/Theme';\r\nimport Navbar from './features/dogfriends/components/Navbar'; \r\nimport Home from './features/dogfriends/pages/Home';\r\nimport NewPost from './features/dogfriends/pages/NewPost';\r\nimport Login from './features/dogfriends/pages/Login';\r\nimport Post from './features/dogfriends/pages/Post';\r\nimport Profile from './features/dogfriends/pages/Profile';\r\nimport About from './features/dogfriends/pages/About';\r\nimport Footer from './features/dogfriends/components/Footer';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    alignItems: 'flex-start',\r\n    justifyContent: 'center',\r\n    minHeight: '90vh',\r\n  },\r\n  main: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    [theme.breakpoints.down('lg')]: {\r\n      width: '100%'\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '85%'\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      width: '75%'\r\n    },\r\n  },\r\n}));\r\nfunction App() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <BrowserRouter>\r\n        <Navbar/>\r\n        <div className={classes.root}>\r\n          <main className={classes.main}>\r\n          <Switch>        \r\n            <Route exact path=\"/\">\r\n              <Home />        \r\n            </Route>\r\n            <Route exact path=\"/new\">              \r\n              <NewPost/>            \r\n            </Route>\r\n            <Route exact path=\"/profile\">\r\n              <Profile/>        \r\n            </Route>            \r\n            <Route exact path=\"/about\">\r\n              <About/>        \r\n            </Route>\r\n            <Route exact path=\"/login\">\r\n              <Login/>        \r\n            </Route>           \r\n            <Route path=\"/post/:parent_id\">\r\n              <Post />        \r\n            </Route>                 \r\n                              \r\n          </Switch> \r\n          </main>        \r\n        </div> \r\n        <Footer />       \r\n      </BrowserRouter>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport dogfriendsPageCountSlice from '../features/dogfriends/dogfriendsPageCountSlice';\r\nimport dogfriendsPostsSlice from '../features/dogfriends/dogfriendsPostsSlice';\r\nimport dogfriendsRepliesSlice from '../features/dogfriends/dogfriendsRepliesSlice';\r\nimport dogfriendsUserSlice from '../features/dogfriends/dogfriendsUserSlice';\r\nimport dogfriendsPhotosSlice from '../features/dogfriends/dogfriendsPhotosSlice';\r\nimport dogfriendsAvatarSlice from '../features/dogfriends/dogfriendsAvatarSlice';\r\nimport dogfriendsInitInfoSlice from '../features/dogfriends/dogfriendsInitInfoSlice';\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    postList: dogfriendsPostsSlice,\r\n    replyList: dogfriendsRepliesSlice,\r\n    pageCount: dogfriendsPageCountSlice,\r\n    userInfo: dogfriendsUserSlice,\r\n    photoList: dogfriendsPhotosSlice,\r\n    avatarUrl: dogfriendsAvatarSlice,\r\n    initInfo: dogfriendsInitInfoSlice\r\n  },\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport { AuthProvider } from './features/dogfriends/context/AuthContext';\r\nimport { PageInitProvider } from './features/dogfriends/context/PageInitContext';\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <AuthProvider>\r\n      <PageInitProvider>\r\n        <App />\r\n      </PageInitProvider>          \r\n    </AuthProvider>    \r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import axios from 'axios';\n\n\n// const BASE_URL = 'https://app-dogfriends.herokuapp.com/api/';\nconst BASE_URL = 'http://localhost:5000/api/';\n\nconst request = async (endpoint, paramsOrData = {}, verb = \"get\") => {  \n  \n  console.debug(\"API Call:\", endpoint, paramsOrData, verb, BASE_URL);\n  try {\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    headers.append('Accept', 'application/json');\n    headers.append('GET', 'POST', 'PUT', 'OPTIONS');\n    const res = await axios({\n      method: verb,\n      url: `${BASE_URL}${endpoint}`,\n      \n      [verb === \"get\" ? \"params\" : \"data\"]: paramsOrData,\n      headers: headers\n    });\n    \n    return res;\n      // axios sends query string data via the \"params\" key,\n      // and request body data via the \"data\" key,\n      // so the key we need depends on the HTTP verb\n  }catch(err) {\n    let message = err.response ? err.response.data.message : err;\n    throw Array.isArray(message) ? message : [message];\n  }\n}\n\n// posts\nconst getPosts = async () => {\n  let res = await request('posts');\n  return res;\n}\nconst getPostById = async (id) => {\n  return await request(`posts/${id}`);\n}\nconst postPostVote = async (id, direction, token) => {\n  return await request(`posts/${id}/vote/${direction}`, {_token: token}, 'post');\n}\nconst postPostNew = async (data) => {\n  return await request('posts/', data, 'post');\n}\nconst putPostUpdate = async (id, title, body, username, token) => {  \n  const data = {\n    title,\n    body,  \n    username,\n    _token: token  \n  }\n  return await request(`posts/${id}`, data, 'put');\n}\nconst deletePost = async (id, username, token) => {\n  const data = {\n    id,\n    username,\n    _token: token  \n  }\n  return await request(`posts/${id}`, data, 'delete');\n}\n\n// replies\nconst getRepliesById = async (id) => {\n  const res = await request(`replies/${id}`);\n  return res;\n}\nconst postReplyNew = async (data) => {\n  request('replies/', data, 'post');\n}\n\n/**\n * User logs in to the system\n * @param {username, password} data \n */\nconst login = async (data) => {\n  try {\n    return await request('login/', data, 'post');\n  } catch (error) {\n    console.error(error);\n  }   \n}\n\n/**\n * Checks to see if username is already in use\n * @param {username} data \n */\nconst preSignupUsernameCheck = async (data) => {\n  try {\n    const res = await request(`users/${data.username}`, {}, 'post');\n    return res.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nconst signup = async (data) => {   \n  try {\n    const res = await request('users/', data, 'post');\n    return res;    \n  } catch (error) {\n    console.error(error);\n  }   \n}\n\n/**\n * Get user information\n * @param {username, token} payload \n */\nconst getUserInfo = async (payload) => {\n  const {username, token} = payload;\n  try {  \n    return await request(`users/${username}/`, {_token: token}); \n  } catch (error) {\n    console.error(error);\n  }   \n}\n\n/**\n * getInitInfo gets aws endpoints for uploading and \n * downloading images\n */\nconst getInitInfo = async () => {\n  return await request('initinfo/');\n}\n\n/**\n * \n * @param {*} payload \n * @returns \n */\nconst patchUserInfo = async (payload) => {\n  try {\n    return await request(`users/${payload.username}`, payload, 'patch');\n  } catch (error) {\n    console.error(error);\n  }   \n}\n\nexport {\n  getPosts,\n  getPostById,\n  postPostVote,\n  postPostNew,\n  putPostUpdate,\n  deletePost,\n  login,\n  preSignupUsernameCheck,\n  signup,\n  getUserInfo,\n  patchUserInfo,\n  getRepliesById,\n  postReplyNew,\n  getInitInfo\n};","import React, { useState, createContext } from 'react';\nimport { useLogin } from '../hooks/useLogin';\nimport { useUserInfo } from '../hooks/useUserInfo';\nconst AuthContext = createContext();\nconst { Provider } = AuthContext;\n\nconst AuthProvider = ({ children }) => {\n  const { token, setTokenStorage } = useLogin();\n  const { userInfo, setUserInfoStorage } = useUserInfo();\n  const [authState, setAuthState] = useState({\n    token: token,\n    userInfo: {\n      ...this,\n      ...userInfo,      \n    }\n  });\n  const setAuthInfo = ({ token, userInfo }) => {\n    try {\n      setTokenStorage(token);\n      setUserInfoStorage({username: userInfo.username});\n      setAuthState({\n        token,\n        userInfo,      \n      });\n    } catch (error) {\n      console.error(error);\n    }    \n  }\n  \n  return (\n    <Provider\n      value={\n        {\n          authState,\n          setAuthState: authInfo => setAuthInfo(authInfo),\n        }\n      }\n      >\n      {children}\n    </Provider>\n  )\n}\n\nexport { AuthContext, AuthProvider };","import { useState } from 'react';\n\nconst useLogin = () => {\n  let ls = JSON.parse(localStorage.getItem(\"token\")) || \"\";\n  const [token, setToken] = useState(ls);\n\n  const setTokenStorage = (newToken) => { \n    setToken(newToken);\n    localStorage.setItem(\"token\", JSON.stringify(newToken) || \"\");\n  }\n  return {token, setTokenStorage};\n}\n\nexport { useLogin };","import { useState } from 'react';\n\nconst useUserInfo = () => {\n  let ls = JSON.parse(localStorage.getItem(\"userInfo\")) || \"\";\n  const [userInfo, setUserInfo] = useState(ls);\n  const setUserInfoStorage = (newUserInfo) => { \n    setUserInfo(newUserInfo);\n    localStorage.setItem(\"userInfo\", JSON.stringify(newUserInfo) || \"\");\n  };\n  return {userInfo, setUserInfoStorage};\n}\n\nexport { useUserInfo };","import { createSlice } from '@reduxjs/toolkit';\n\nexport const dogfriendsInitInfoSlice = createSlice({\n  name: 'initInfo',\n  initialState: {\n    initInfo: {\n      status: 'idle',\n      data: {},\n      error: {}\n    }\n  },\n  reducers: {\n    addInitInfo: (state, action) => {\n      state.initInfo = {\n        status: 'fulfilled',\n        data: action.payload\n      }\n    }\n  },\n});\n\nexport const {\n  addInitInfo\n} = dogfriendsInitInfoSlice.actions;\n\nexport const selectInitInfo = state => state.initInfo.initInfo;\n\nexport default dogfriendsInitInfoSlice.reducer;","import { createSlice } from '@reduxjs/toolkit';\n\nexport const dogfriendsUserSlice = createSlice({\n  name: 'userInfo',\n  initialState: {\n    userInfo: {\n      status: 'idle',\n      data: {},\n      error: {}\n    }\n  },\n  reducers: {\n    addUserInfo: (state, action) => {\n      state.userInfo = {\n        status: 'fulfilled',\n        data: action.payload\n      }\n    }\n    // logout: (state, action) => {\n    //   state.userList = action.payload;\n    // },\n    // setUserList: (state, action) => {\n    //   state.userList = action.payload;\n    // },\n  },\n});\n\nexport const {\n  addUserInfo\n  // logout,\n} = dogfriendsUserSlice.actions;\n\nexport const selectUser = state => state.userInfo.userInfo;\n\nexport default dogfriendsUserSlice.reducer;","import axios from 'axios';\n\n// const BASE_URL = 'https://app-dogfriends.herokuapp.com/api/';\nconst BASE_URL = 'http://localhost:5000/api/';\n\nconst request = async (endpoint, paramsOrData = {}, verb = \"get\") => {    \n  // console.debug(\"API Call:\", endpoint, paramsOrData, verb);\n  let headers = new Headers();\n  headers.append('Content-Type', 'application/json');\n  headers.append('Accept', 'application/json');\n  headers.append('GET', 'POST', 'PUT', 'OPTIONS');\n  try {\n    const res = await axios({\n      method: verb,\n      url: endpoint,\n      [verb === \"get\" ? \"params\" : \"data\"]: paramsOrData,\n      headers: headers                \n    });\n    \n    return res;\n      // axios sends query string data via the \"params\" key,\n      // and request body data via the \"data\" key,\n      // so the key we need depends on the HTTP verb\n  }catch(err) {\n    let message = err.response ? err.response.data.message : err;\n    throw Array.isArray(message) ? message : [message];\n  }\n}\n\n// photos\n// gets Base 64 image/jpeg string from AWS S3 bucket\n// return Buffer\nconst getPhotoBySrc = async (key, lambdaUrl) => {  \n  return await request(lambdaUrl, {key}, 'post');\n}\n\n// puts Base 64 image/jpeg string into AWS S3 bucket\n// posts image id and url to database\nconst putNewPhoto = async (image, imageName, aws_endpoint_up, _token, aws_endpoint_down) => { \n  \n  try {\n    // upload photo to AWS S3 bucket   \n    const res = await request(aws_endpoint_up, {image, imageName}, 'put');\n    if(await res) {\n      // write image data to database photos table\n      const data = {\n        photo_id: imageName,\n        photo_url: `${aws_endpoint_down}/${imageName}`,\n        _token\n      }\n      await request(`${BASE_URL}photos/`, data, 'post');\n    }\n  } catch (error) {\n    console.error(error);\n  }\n  \n}\n\nconst deletePhoto = async (id, username, token) => {\n  const data = {\n    id: id,\n    username: username,\n    _token: token  \n  }\n  return await request(`${BASE_URL}posts/${id}`, data, 'delete');\n}\n\nexport {\n  getPhotoBySrc,\n  deletePhoto,\n  putNewPhoto\n};","import { createSlice } from '@reduxjs/toolkit';\n\nexport const dogfriendsAvatarSlice = createSlice({\n  name: 'avatarUrl',\n  initialState: {\n    avatarUrl: {\n      status: 'idle',\n      data: {},\n      error: {}\n    }\n  },\n  reducers: {\n    addAvatarUrl: (state, action) => {\n      state.avatarUrl = {\n        status: 'fulfilled',\n        data: action.payload,\n        error: {}\n      };\n    }\n  },\n   \n});\n\nexport const {\n  addAvatarUrl,\n} = dogfriendsAvatarSlice.actions;\n\nexport const selectAvatar = state => state.avatarUrl.avatarUrl;\n\nexport default dogfriendsAvatarSlice.reducer;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport { deepOrange } from '@material-ui/core/colors';\nimport { addAvatarUrl, selectAvatar } from '../dogfriendsAvatarSlice';\nimport { selectUser } from '../dogfriendsUserSlice';\nimport { selectInitInfo } from '../dogfriendsInitInfoSlice';\nimport { getPhotoBySrc } from '../api/DogfriendsPhotosApi';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n    orange: {\n      color: theme.palette.getContrastText(deepOrange[500]),\n      backgroundColor: deepOrange[500],\n    },\n    marginRight: '40px',    \n  },\n  avatar: {   \n    width: theme.spacing(6),\n    height: theme.spacing(6),\n  }\n}));\n\nexport default function UserAvatar() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const selectAvatarData = useSelector(selectAvatar);\n  const selectUserInfo = useSelector(selectUser);\n  const selectInitInfoData = useSelector(selectInitInfo);\n  const [photo_url, setPhotoUrl] = useState(selectAvatarData.data ? selectAvatarData.data.imageUrl : null);\n  \n  useEffect(() => {    \n    const getAvatarData = async () => {\n      if(selectUserInfo.status === 'fulfilled' && !photo_url && selectUserInfo.data.photo_id) {\n        const photo_id = selectUserInfo.data.photo_id;\n        const bucket_endpoint = selectInitInfoData.data.aws_bucket_endpoint_down;\n        const res = await getPhotoBySrc(photo_id, bucket_endpoint);\n        if(res && res.data.Body) {\n          const base64 = String.fromCharCode(...res.data.Body.data).toString('base64');\n          setPhotoUrl(base64);\n          let payload = {\n            photo_id,\n            imageUrl: base64\n          }\n          dispatch(addAvatarUrl(payload));            \n        }  \n      }      \n    }\n    getAvatarData();\n  });\n\n  useEffect(() => {\n    setPhotoUrl(selectAvatarData.data.imageUrl);\n  }, [selectAvatarData.data.imageUrl])\n  \n  const initials = selectUserInfo.status==='fulfilled' ? selectUserInfo.data.first_name[0].toUpperCase() + selectUserInfo.data.last_name[0].toUpperCase() : '';\n\n  return (    \n    <div className={classes.root}>\n      <Avatar alt={initials} src={photo_url} className={classes.avatar} />      \n    </div>\n  );\n}\n"],"sourceRoot":""}