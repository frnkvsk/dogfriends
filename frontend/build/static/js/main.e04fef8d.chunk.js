(this.webpackJsonpdogfriends=this.webpackJsonpdogfriends||[]).push([[0],{110:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return F}));var a=n(5),r=n.n(a),c=n(9),o=n(8),i=n(10),s=n(16),u=n(0),l=n.n(u),d=n(17),p=n(37),b=n(12),j=n(19),f=n(123),m=n(126),h=n(183),x=n(184),O=n(191),g=n(127),v=n(93),y=n(192),w=n(186),C=n(128),S=n(129),k=n(187),N=n(188),I=n(189),_=n(115),E=n.n(_),L=n(30),T=n(41),D=n(29),R=n(113),U=n(74),W=n(39),B=n(2),P=Object(f.a)((function(e){var t;return{toolbarMargin:Object(s.a)(Object(s.a)({},e.mixins.toolbar),{},(t={marginBottom:"4em"},Object(i.a)(t,e.breakpoints.down("md"),{marginBottom:"2.7em"}),Object(i.a)(t,e.breakpoints.down("xs"),{marginBottom:"1.6em"}),t)),logo:Object(i.a)({height:"4em"},e.breakpoints.down("md"),{height:"4.5em"}),logoContainer:{padding:"0",backgroundColor:"transparent"},tabContainer:{marginLeft:"auto"},tab:Object(s.a)(Object(s.a)({},e.typography.tab),{},{minWidth:10,marginRight:"25px"}),button:Object(s.a)(Object(s.a)({},e.typography.button),{},{borderRadius:"50px",margin:"0 25px 0 50px",height:"45px","&:hover":{backgroundColor:e.palette.secondary.light}}),buttonSecondary:{backgroundColor:"transparent"},drawer:{backgroundColor:e.palette.common.brown},drawerIconContainer:{marginLeft:"auto","&:hover":{backgroundColor:"transparent"}},drawerIcon:{fontSize:"2em",borderRadius:"15px"},drawerItem:Object(s.a)(Object(s.a)({},e.typography.tab),{},{color:"white",opacity:.7}),drawerItemLogin:{backgroundColor:"transparent"},drawerItemSelected:{},list:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start"},appBar:{zIndex:e.zIndex.modal+1,position:"fixed",background:"linear-gradient(45deg, ".concat(e.palette.common.brown," 30%, ").concat(e.palette.common.brownDark," 90%)")},avatar:{display:"flex",alignItems:"center",cursor:"pointer"}}}));function A(e){var t=e.children,n=Object(m.a)({threshold:0});return l.a.cloneElement(t,{elevation:n?4:0})}function z(e){var t=e.children,n=Object(m.a)({threshold:200});return Object(B.jsx)(h.a,{appear:!1,direction:"down",in:!n,children:t})}function F(t){var n=P(),a=Object(d.f)(),i=Object(u.useContext)(L.a),l=Object(b.b)(),f=Object(b.c)(W.c),m=Object(d.g)(),h=Object(j.a)(),_=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),F=Object(x.a)(h.breakpoints.down("md")),H=Object(u.useState)(0),M=Object(o.a)(H,2),q=M[0],J=M[1],Z=Object(u.useState)(!1),G=Object(o.a)(Z,2),$=G[0],V=G[1],Y=Object(u.useState)(""),K=Object(o.a)(Y,2),Q=K[0],X=K[1],ee=Object(u.useState)({}),te=Object(o.a)(ee,2),ne=te[0],ae=te[1];Object(u.useEffect)((function(){var e=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)();case 2:200===(t=e.sent).status&&l(Object(W.a)(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"fulfilled"!==f.status&&e()}),[]),Object(u.useEffect)((function(){var e=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:i.authState.userInfo.username,token:i.authState.token},e.next=3,Object(D.d)(t);case 3:200===(n=e.sent).status&&l(Object(T.a)(n.data.user));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i.authState&&i.authState.token.length&&!Q.length?(X(i.authState.userInfo.username),e()):X("")}),[i.authState,l]),Object(u.useEffect)((function(){Q.length?ae({"/":{name:"Home",index:0},"/new":{name:"New Post",index:1},"/profile":{name:"Profile",index:2},"/about":{name:"About Us",index:3},"/login":{name:"Logout",index:4}}):ae({"/":{name:"Home",index:0},"/about":{name:"About Us",index:1},"/login":{name:"Login",index:2}})}),[Q.length]),Object(u.useEffect)((function(){ne[m.pathname]&&(4===ne[m.pathname].index?J(0):J(ne[m.pathname].index))}),[ne,m.pathname]);var re=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.authState.userInfo.username){e.next=6;break}return e.next=3,i.setAuthState({token:"",userInfo:{}});case 3:a.push("/login"),e.next=7;break;case 6:a.push("/login");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(O.a,{className:n.tabContainer,value:q&&!i.authState.userInfo?q-2:q,TabIndicatorProps:{style:{backgroundColor:"primary",opacity:0}},children:Object.entries(ne).map((function(e){return"/login"===e[0]?Object(B.jsx)(g.a,{className:n.button,variant:"outlined",color:"secondary",component:v.a,label:e[1].name,onClick:re},e):Object(B.jsx)(g.a,{className:n.tab,component:v.a,label:e[1].name,onClick:function(){return a.push(e[0])}},e)}))})}),oe=Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(y.a,{disableBackdropTransition:!_,disableDiscovery:_,open:$,onClose:function(){return V(!1)},onOpen:function(){return V(!0)},classes:{paper:n.drawer},children:[Object(B.jsx)("div",{className:n.toolbarMargin}),Object(B.jsx)(w.a,{onClick:function(){return V(!1)},className:n.list,children:Object.entries(ne).map((function(e,t){return"/login"===e[0]?Object(B.jsx)(C.a,{className:n.drawerItemLogin,divider:!0,button:!0,component:p.b,to:e[0],selected:q===t,children:Object(B.jsx)(S.a,{className:n.drawerItem,disableTypography:!0,children:e[1].name})},e):Object(B.jsx)(C.a,{divider:!0,button:!0,component:p.b,to:e[0],selected:q===t,children:Object(B.jsx)(S.a,{className:n.drawerItem,disableTypography:!0,children:e[1].name})},e)}))})]}),Object(B.jsx)(k.a,{className:n.drawerIconContainer,onClick:function(){return V(!$)},disableRipple:!0,children:Object(B.jsx)(E.a,{className:n.drawerIcon})})]});return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(A,{children:Object(B.jsx)(z,Object(s.a)(Object(s.a)({},t),{},{children:Object(B.jsx)(N.a,{className:n.appBar,children:Object(B.jsxs)(I.a,{disableGutters:!0,children:[Object(B.jsx)(v.a,{className:n.logoContainer,component:p.b,to:"/",disableRipple:!0,children:Object(B.jsx)("img",{src:R.a,className:n.logo,alt:"company logo"})}),F?oe:ce,Q?Object(B.jsxs)("div",{className:n.avatar,onClick:function(){return a.push("/profile")},children:[Q,Object(B.jsx)(U.a,{})]}):""]})})}))}),Object(B.jsx)("div",{className:n.toolbarMargin})]})}}).call(this,n(83))},113:function(e,t,n){"use strict";t.a=n.p+"static/media/logo.249809f0.png"},145:function(e,t,n){},180:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),i=(n(145),n(10)),s=n(37),u=n(17),l=n(123),d=n(236),p=n(121),b=n(228),j=n(229),f=Object(p.a)({palette:{common:{brown:b.a[400],brownDark:b.a[600],brownLight:b.a[300],yellow:j.a[500],yellowDark:j.a[600],yellowLight:j.a[100],yellowMid:j.a[200]},primary:{main:b.a[300]},secondary:{main:j.a[700],contrastText:b.a[400]}},typography:{tab:{fontFamily:"Raleway",textTransform:"none",fontWeight:700,fontSize:"1rem",color:"white"},h1:{fontFamily:"Raleway",fontWeight:700,fontSize:"3.5rem",color:"secondary",lineHeight:1.5},h2:{fontFamily:"Raleway",fontWeight:700,fontSize:"3.3rem",color:b.a[900],lineHeight:1.1},h3:{fontFamily:"Raleway",fontWeight:700,fontSize:"2.5rem",color:b.a[900],lineHeight:1.1},subtitle1:{fontFamily:"Raleway",fontWeight:500,fontStyle:"italic",fontSize:"0.9rem",color:b.a[900],lineHeight:1.1},subtitle2:{fontFamily:"Raleway",fontWeight:500,fontSize:"0.9rem",color:b.a[900],lineHeight:1.5}},props:{MuiButton:{disableElevation:!0}},overrides:{MuiButton:{root:{fontFamily:"Pacifico",fontSize:"1rem",textTransform:"none",color:"white",borderRadius:30,height:45},containedPrimary:{"&:hover":{backgroundColor:j.a[700],color:j.a[100]}},containedSecondary:{"&:hover":{backgroundColor:j.a[500],color:b.a[500]},fontWeight:500},outlinedPrimary:{"&:hover":{backgroundColor:j.a[700],color:b.a[500]}}}}}),m=n(110),h=n(8),x=n(16),O=n(233),g=n(5),v=n.n(g),y=n(9),w=n(89),C=n(12),S=n(116),k=n.n(S),N=n(241),I=n(90),_=n(31),E=n(232),L=n(78),T=n(231);function D(e){var t="00",n="00",a="0000";if(e){var r=e.slice(0,10).split("-"),c=Object(h.a)(r,3);t=c[0],n=c[1],a=c[2]}else{var o=new Date;t=o.getFullYear(),a=String(o.getDate()).padStart(2,"0"),n=String(o.getMonth()+1).padStart(2,"0")}return"".concat(["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Nov","Dec"][+n]," ").concat(a,", ").concat(t)}var R=n(46),U=n(27),W=Object(U.c)({name:"photoList",initialState:{photoList:{status:"idle",data:[],error:{}}},reducers:{addPhotoUrl:function(e,t){e.photoList={status:"fulfilled",data:e.photoList.data.some((function(e){return e.photo_id===t.payload.photo_id}))?e.photoList.data:[].concat(Object(_.a)(e.photoList.data),[t.payload]),error:{}}}}}),B=W.actions.addPhotoUrl,P=function(e){return e.photoList.photoList},A=W.reducer,z=n(39),F=n(2),H=Object(l.a)({root:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",maxWidth:"350px",margin:"15px",border:"2px solid #f5f5f5",borderRadius:"4px",boxShadow:"0 10px 6px -6px #80808040",cursor:"pointer"},mediaWrapper:{display:"flex",justifyContent:"center",width:"100%"},media:{maxWidth:"350px",maxHeight:"350px",objectFit:"contain",borderTopRightRadius:"4px",borderTopLeftRadius:"4px"},mediaItem:{display:"flex",justifyContent:"space-between",fontSize:"11px",width:"90%"},mediaBody:{maxWidth:"90%",wordWrap:"break-word"},cardContent:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",width:"100%"}});function M(e){var t=e.id,n=e.title,r=e.username,c=e.created_on,o=H(),i=Object(C.c)(P),s=Object(C.c)(z.c),u=Object(C.b)(),l=Object(a.useState)(""),d=Object(h.a)(l,2),p=d[0],b=d[1];return Object(a.useEffect)((function(){var e=!0;function n(){return(n=Object(y.a)(v.a.mark((function e(n){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}if(a=Object(_.a)(i.data).find((function(e){return t.startsWith(e.photo_id)})),"fulfilled"===i.status&&a)n&&b(a.imageUrl);else if(void 0!==s.data.aws_bucket_endpoint_down)try{r=function(){var e=Object(y.a)(v.a.mark((function e(){var a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)(t,s.data.aws_bucket_endpoint_down);case 2:200===(a=e.sent).status&&a.data.Body&&(r=String.fromCharCode.apply(String,Object(_.a)(a.data.Body.data)).toString("base64"),c={photo_id:t,imageUrl:r},n&&(b(r),u(B(c))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setTimeout((function(){r()}),100)}catch(c){console.error(c)}return e.abrupt("return",(function(){return n=!1}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e&&!p.length&&t&&function(e){n.apply(this,arguments)}(e),function(){return e=!1}}),[p.length,i.status]),Object(F.jsxs)("div",{className:o.root,children:[Object(F.jsx)("div",{className:o.mediaWrapper,children:p.length?Object(F.jsx)("img",{src:p,alt:"title",className:o.media}):Object(F.jsx)(T.a,{})}),Object(F.jsxs)(E.a,{className:o.cardContent,children:[Object(F.jsx)(L.a,{gutterBottom:!0,variant:"h6",children:n}),Object(F.jsxs)(L.a,{className:o.mediaItem,variant:"subtitle2",children:[Object(F.jsxs)("div",{children:["By ",r]}),Object(F.jsx)("div",{children:D(c)})]})]})]})}var q,J,Z=Object(U.c)({name:"postList",initialState:{postList:{status:"idle",data:[],error:{}}},reducers:{addPosts:function(e,t){e.postList={status:"fulfilled",data:t.payload}}}}),G=Z.actions.addPosts,$=function(e){return e.postList.postList},V=Z.reducer,Y=n(29),K=Object(U.c)({name:"pageCount",initialState:{pageCount:{pagesTotal:0,pageCurr:0}},reducers:{setPages:function(e,t){e.pageCount={pagesTotal:t.payload.pagesTotal,pageCurr:t.payload.pageCurr}}}}),Q=K.actions.setPages,X=function(e){return e.pageCount.pageCount},ee=K.reducer,te=n(183),ne=n(239),ae=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",margin:"20px"}}}));function re(e){var t=e.pageCount,n=e.posts_per_page,c=ae(),o=Object(C.b)(),i=Object(C.c)(X),s=i.pagesTotal,u=i.pageCurr,l=r.a.useState(0),d=Object(h.a)(l,2),p=d[0],b=d[1];Object(a.useEffect)((function(){o(Q({pagesTotal:t,pageCurr:p}))}),[p,t,o]);return Object(F.jsx)(te.a,{direction:"up",in:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:1e3,children:Object(F.jsx)("div",{className:c.root,children:Object(F.jsx)(ne.a,{count:s%n?1+~~(s/n):~~(s/n),page:+u+1,onChange:function(e,t){b(t-1)}})})})}var ce=Object(I.b)(q||(q=Object(w.a)(["",""])),k.a),oe=I.a.div(J||(J=Object(w.a)(["\n  animation: 0.8s ",";\n"])),ce),ie=Object(l.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",width:"100%",minHeight:"60vh"},media:{display:"flex",justifyContent:"center",flexWrap:"wrap"},fadeinContainer:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap"}}),se=function(){var e=ie(),t=Object(C.b)(),n=Object(u.f)(),r=Object(C.c)($),c=Object(C.c)(X).pageCurr,o=Object(a.useState)({from:3*c,to:3*c+3}),i=Object(h.a)(o,2),s=i[0],l=i[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(y.a)(v.a.mark((function e(n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,Object(Y.b)();case 3:a=e.sent,n&&200===a.status&&t(G(a.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=!0;return n&&"fulfilled"!==r.status&&!r.data.length&&e(n),function(){return n=null}}),[r.data]),Object(a.useEffect)((function(){l({from:3*c,to:3*c+3})}),[c]),Object(F.jsxs)("div",{className:e.root,children:[Object(F.jsx)("div",{className:e.media,children:r.data.length?r.data.slice(s.from,s.to).map((function(t){return Object(F.jsx)(oe,{className:e.fadeinContainer,children:Object(F.jsx)("div",{onClick:function(){return n.push("/post/".concat(t.id))},children:Object(F.jsx)(M,{id:t.photo_id,title:t.title,username:t.username,created_on:t.created_on},t.photo_id)})},Object(N.a)())})):Object(F.jsx)("div",{},Object(N.a)())}),Object(F.jsx)("div",{children:Object(F.jsx)(re,{pageCount:r.data.length,posts_per_page:3})})]})},ue=n(30),le=Object(a.createContext)(),de=le.Provider,pe=function(e){var t=e.children,n=Object(a.useState)({pageInitCount:0}),r=Object(h.a)(n,2),c=r[0],o=r[1];return Object(F.jsx)(de,{value:{pageInitState:c,incrementInitCount:function(){return function(){try{o({pageInitCount:c.pageInitCount+1})}catch(e){console.error(e)}}()},resetInitCount:function(){return function(){try{o({pageInitCount:0})}catch(e){console.error(e)}}()}},children:t})},be=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},headingMargin1:{marginTop:0},headingMargin2:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:50},heading:Object(x.a)(Object(x.a)({},e.typography.h2),{},{marginBottom:2}),subHeading:Object(x.a)(Object(x.a)({},e.typography.subtitle1),{},{marginBottom:30}),cardImageList:{display:"flex",alignItems:"center",justifyContent:"space-around",marginTop:"25px"}}})),je=function(){var e=be(),t=Object(a.useState)([]),n=Object(h.a)(t,2),r=n[0],c=n[1],o=Object(a.useContext)(ue.a),i=Object(a.useContext)(le),s=o.authState.userInfo.username;return Object(a.useEffect)((function(){i.incrementInitCount(),s?i.pageInitState&&i.pageInitState.pageInitCount<1?c(["Welcome back ".concat(s)]):c([""]):c(["Dog Friends","Share your dog photos with other dog friends"])}),[]),Object(F.jsxs)("div",{className:e.root,children:[Object(F.jsx)(O.a,{in:!0,style:{transitionDelay:"1ms"},children:Object(F.jsx)("div",{className:1===r.length?e.headingMargin1:e.headingMargin2,children:r.map((function(t,n){return 0===n?Object(F.jsx)("div",{className:e.heading,children:t},t+n):Object(F.jsx)("div",{className:e.subHeading,children:t},t+n)}))},"home1")}),Object(F.jsx)("div",{children:Object(F.jsx)("div",{className:e.cardImageList,children:Object(F.jsx)(se,{})})})]})},fe=n(237),me=n(93),he=n.p+"static/media/photo_drop_zone.d78cfb29.jpg",xe=Object(l.a)((function(e){return{form:{margin:"6px 0 6px 0"},photoDrop:{backgroundImage:"url(".concat(he,")"),backgroundSize:"cover",backgroundPosition:"center",padding:"5px",width:"388px",height:"370px",borderRadius:"7px",cursor:"pointer",border:"2px dotted salmon"},errorMsg:{color:"red"}}})),Oe=new FileReader;function ge(e){var t=e.handleUploadImage,n=e.width,r=e.height,c=xe(),o=Object(a.useState)(""),i=Object(h.a)(o,2),s=i[0],u=i[1],l=Object(a.useState)(""),d=Object(h.a)(l,2),p=d[0],b=d[1];Oe.onload=function(e){var a=new Image;a.onload=Object(y.a)(v.a.mark((function e(){var c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.width>a.height?n<a.width?r=Math.floor(a.height*(n/a.width)):(n=a.width,r=a.height):r<a.height?n=Math.floor(a.width*(n/a.height)):(n=a.width,r=a.height),c=document.createElement("canvas"),o=c.getContext("2d"),c.width=n,c.height=r,o.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height),u(c.toDataURL()),t(c,c.toDataURL("image/jpeg",.8));case 8:case"end":return e.stop()}}),e)}))),a.src=e.target.result};return Object(F.jsxs)("div",{className:c.form,children:[p.length?Object(F.jsx)("p",{className:c.errorMsg,children:p}):"",Object(F.jsx)("input",{className:s.length?"":c.photoDrop,id:"uploadImage",type:"file",onChange:function(){b("");var e=new RegExp("image/gif|image/jpeg|image/jpg|image/png|webp","i");if(document.getElementById("uploadImage").files.length){var t=document.getElementById("uploadImage").files[0];e.test(t.type)?Oe.readAsDataURL(t):b("Incorrect file type. File types include gif, jpeg, jpg, png.")}else b("Error loading file.")}})]})}function ve(e){var t=e.imageBase,n=e.topText,a=e.bottomText,r=e.color,c=new Image;if(c.src=t,c.width){var o=document.createElement("canvas"),i=o.getContext("2d");return o.width=c.width,o.height=c.height,i.drawImage(c,0,0,c.width,c.height,0,0,o.width,o.height),i.font="30px Comic Sans MS",i.fillStyle=r,i.textAlign="center",i.fillText(n,o.width/2,40),i.fillText(a,o.width/2,o.height-40),o.toDataURL("image/jpeg")}}var ye=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100vh"},form:{display:"flex",flexDirection:"column",width:"400px",margin:"0 0 20px 0",padding:"15px",backgroundColor:e.palette.common.yellowLight,border:"1px solid #eeeeee",borderRadius:6},control:{display:"flex",flexDirection:"column",justifyContent:"space-between"},formItem:{margin:"5px 0 5px 0"},imagePreview:{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"400px",maxHeight:"400px"},buttons:{display:"flex",justifyContent:"space-around"},button:Object(x.a)(Object(x.a)({},e.typography.button),{},{borderRadius:"22px",height:"45px"})}})),we=function(){var e=ye(),t=Object(a.useContext)(ue.a),n=Object(C.c)(z.c),r=Object(C.c)($),c=Object(C.b)(),o=Object(u.f)(),i=Object(a.useState)(""),s=Object(h.a)(i,2),l=s[0],d=s[1],p=Object(a.useState)(""),b=Object(h.a)(p,2),j=b[0],f=b[1],m=Object(a.useState)(""),x=Object(h.a)(m,2),g=x[0],w=x[1],S=Object(a.useState)(""),k=Object(h.a)(S,2),I=k[0],E=k[1],L=Object(a.useState)(null),T=Object(h.a)(L,2),D=T[0],U=T[1],W=Object(a.useState)(null),P=Object(h.a)(W,2),A=P[0],H=P[1],M=Object(a.useState)("#000000"),q=Object(h.a)(M,2),J=q[0],Z=q[1],V=Object(a.useState)(""),K=Object(h.a)(V,2),Q=K[0],X=K[1],ee=Object(a.useState)(""),te=Object(h.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(""),ce=Object(h.a)(re,2),oe=ce[0],ie=ce[1],se=Object(a.useState)(""),le=Object(h.a)(se,2),de=le[0],pe=le[1];Object(a.useEffect)((function(){l.length>30?X("Title must be betwen 1 and 30 characters in length."):X("")}),[l]),Object(a.useEffect)((function(){j.length>20?ae("Top text must be betwen 1 and 20 characters in length."):ae("")}),[j]),Object(a.useEffect)((function(){g.length>20?ie("Bottom text must be betwen 1 and 20 characters in length."):ie("")}),[g]);var be=function(){var e=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve({imageBase:A,topText:j,bottomText:g,color:J});case 2:(t=e.sent)&&U(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){A&&(j.length||g.length)&&be()}),[j,g,J,A]),Object(a.useEffect)((function(){Object(_.a)(I).filter((function(e){return" "!==e})).length>120?pe("Body text must be betwen 1 and 120 characters in length."):pe("")}),[I]);var je=function(){var e=Object(y.a)(v.a.mark((function e(a){var i,s,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),D&&(i="lg-"+Object(N.a)()+".txt",s=n.data.aws_bucket_endpoint_up,Object(R.b)(D,i,s,t.authState.token),c(B({photo_id:i,imageUrl:D})),u={id:Object(N.a)(),title:l,body:I,photo_id:i,votes:0,replies:0,username:t.authState.userInfo.username,_token:t.authState.token},c(G([u].concat(Object(_.a)(r.data)))),Object(Y.g)(u),o.push("/"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(y.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(n),H(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(F.jsx)(O.a,{in:!0,style:{transitionDelay:"1ms"},children:Object(F.jsx)("div",{className:e.root,children:Object(F.jsxs)("form",{method:"post",className:e.form,id:"imageUploadForm",children:[Object(F.jsx)(fe.a,{className:e.formItem,label:"Title (optional)",variant:"outlined",value:l,error:!!Q.length,helperText:Q.length?Q:"",onChange:function(e){return d(e.target.value)}}),Object(F.jsxs)("div",{className:e.control,children:[Object(F.jsx)(ge,{handleUploadImage:he,width:400,height:400}),Object(F.jsx)("div",{className:e.imagePreview,children:Object(F.jsx)("img",{id:"uploadIMG",name:"uploadImage",src:D,alt:""})}),Object(F.jsxs)("div",{className:e.formItem,children:["Text Color\xa0",Object(F.jsx)("input",{type:"color",onChange:function(e){return Z(e.target.value)},defaultValue:J})]}),Object(F.jsx)(fe.a,{className:e.formItem,label:"Top Text (optional)",variant:"outlined",value:j,error:!!ne.length,helperText:ne.length?ne:"",onChange:function(e){return f(e.target.value)}}),Object(F.jsx)(fe.a,{className:e.formItem,label:"Bottom Text (optional)",variant:"outlined",value:g,error:!!oe.length,helperText:oe.length?oe:"",onChange:function(e){return w(e.target.value)}}),Object(F.jsx)(fe.a,{className:e.formItem,multiline:!0,rows:"4",label:"Body (optional)",variant:"outlined",value:I,error:!!de.length,helperText:de.length?de:"",onChange:function(e){return E(e.target.value)}})]}),Object(F.jsxs)("div",{className:e.buttons,children:[Object(F.jsx)(me.a,{className:e.button,variant:"contained",color:"primary",onClick:je,children:"Save"}),Object(F.jsx)(me.a,{className:e.button,onClick:function(){return o.push("/")},variant:"contained",color:"secondary",children:"Cancel"})]})]})})})},Ce=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},display:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexWrap:"wrap",marginTop:"30px"}}}));function Se(){var e=Ce();return Object(F.jsx)("div",{className:e.root,children:Object(F.jsx)(we,{})})}var ke=n(188),Ne=n(191),Ie=n(127),_e=n(244),Ee=n(234),Le=n(242),Te=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},formElement:{width:"95%",margin:"10px"},button:{marginTop:"15px"},table:{border:"1px solid #EEF1F1",width:"100%",minWidth:"435px"},tableRow:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},fontSize:"22px",marginLeft:"5px"}}}));function De(e){var t=e.handlePreSignup,n=e.handleSignup,r=Te(),c=Object(a.useState)(""),o=Object(h.a)(c,2),i=o[0],s=o[1],u=Object(a.useState)(""),l=Object(h.a)(u,2),d=l[0],p=l[1],b=Object(a.useState)(""),j=Object(h.a)(b,2),f=j[0],m=j[1],x=Object(a.useState)(""),O=Object(h.a)(x,2),g=O[0],w=O[1],C=Object(a.useState)(""),S=Object(h.a)(C,2),k=S[0],N=S[1],I=Object(a.useState)(""),_=Object(h.a)(I,2),E=_[0],L=_[1],T=Object(a.useState)(""),D=Object(h.a)(T,2),R=D[0],U=D[1],W=Object(a.useState)(""),B=Object(h.a)(W,2),P=B[0],A=B[1],z=Object(a.useState)(""),H=Object(h.a)(z,2),M=H[0],q=H[1],J=Object(a.useState)(""),Z=Object(h.a)(J,2),G=Z[0],$=Z[1],V=Object(a.useState)(""),Y=Object(h.a)(V,2),K=Y[0],Q=Y[1];Object(a.useEffect)((function(){var e=function(){var e=Object(y.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.length){e.next=5;break}return e.next=3,t({username:i});case 3:(n=e.sent).payload&&n.payload.resp&&p("Username is already taken.");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i.length&&!function(e){return/^\s*[a-zA-Z]\s*(?:\S[\t ]*){2,30}/.test(e)&&e.length<31}(i)?p("Username must be between 3-30 characters and start with a letter [a-zA-Z]."):(p(""),e())}),[i,t]),Object(a.useEffect)((function(){!function(e){return e.length&&(e.length<8||e.length>30||!/[a-z]/.test(e)||!/[A-Z]/.test(e)||!/[\d]/.test(e))}(f)?w(""):w("Password must be 8-30 characters in length and contain lowercase [a-z], uppercase [A-Z], numeric [0-9].")}),[f]),Object(a.useEffect)((function(){!function(e){return e.length&&!/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e)}(R)?A(""):A("Email is not valid.")}),[R]);var X=Object(a.useState)(0),ee=Object(h.a)(X,2),te=ee[0],ne=ee[1],ae=["Create a username and password (required)","Enter your contact info (required)","Further define your account (optional)","Review and confirm account creation"],re=function(){var e=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("HandleNext"),e.t0=te,e.next=0===e.t0?4:1===e.t0?6:2===e.t0?8:10;break;case 4:return!d.length&&i.length&&!g.length&&f.length&&ne((function(e){return e+1})),e.abrupt("break",12);case 6:return k.length&&E.length&&!P.length&&R.length&&ne((function(e){return e+1})),e.abrupt("break",12);case 8:return ne((function(e){return e+1})),e.abrupt("break",12);case 10:ne((function(e){return e+1})),n({username:i,password:f,first_name:k,last_name:E,email:R,admin:!1});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:r.root,children:[Object(F.jsx)(_e.a,{activeStep:te,alternativeLabel:!0,children:ae.map((function(e){return Object(F.jsx)(Ee.a,{children:Object(F.jsx)(Le.a,{children:e})},e)}))}),Object(F.jsx)("div",{className:r.main,children:te===ae.length?Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{component:"span",className:r.main,children:"All steps completed"}),Object(F.jsx)(me.a,{variant:"contained",color:"secondary",onClick:function(){ne(0)},children:"Reset"})]}):Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{component:"span",children:0===te?Object(F.jsxs)("div",{className:r.main,children:[Object(F.jsx)(fe.a,{className:r.formElement,label:"Username: (required)",variant:"outlined",value:i,inputRef:function(e){return!i.length&&e&&e.focus()},error:!!d.length,helperText:d.length?d:"",onChange:function(e){return s(e.target.value)}}),Object(F.jsx)(fe.a,{className:r.formElement,label:"Password: (required)",type:"password",variant:"outlined",value:f,error:!!g.length,helperText:g.length?g:"",onChange:function(e){return m(e.target.value)}})]}):1===te?Object(F.jsxs)("div",{className:r.main,children:[Object(F.jsx)(fe.a,{className:r.formElement,label:"First Name: (required)",variant:"outlined",value:k,inputRef:function(e){return!k.length&&e&&e.focus()},onChange:function(e){return N(e.target.value)}}),Object(F.jsx)(fe.a,{className:r.formElement,label:"Last Name: (required)",variant:"outlined",value:E,onChange:function(e){return L(e.target.value)}}),Object(F.jsx)(fe.a,{className:r.formElement,label:"Email: (required)",variant:"outlined",type:"email",value:R,error:!!P.length,helperText:P.length?P:"",onChange:function(e){return U(e.target.value)}})]}):2===te?Object(F.jsxs)("div",{className:r.main,children:[Object(F.jsx)(fe.a,{className:r.formElement,label:"City: (optional)",variant:"outlined",value:M,inputRef:function(e){return!M.length&&e&&e.focus()},onChange:function(e){return q(e.target.value)}}),Object(F.jsx)(fe.a,{className:r.formElement,label:"State: (optional)",variant:"outlined",value:G,onChange:function(e){return $(e.target.value)}}),Object(F.jsx)(fe.a,{className:r.formElement,label:"Country: (optional)",variant:"outlined",value:K,onChange:function(e){return Q(e.target.value)}})]}):Object(F.jsx)("div",{className:r.main,children:Object(F.jsx)("table",{className:r.table,children:Object(F.jsxs)("tbody",{children:[Object(F.jsx)("tr",{className:r.tableRow,children:Object(F.jsxs)("td",{style:{paddingLeft:"8px"},children:["Username: ",i]})}),Object(F.jsx)("tr",{className:r.tableRow,children:Object(F.jsxs)("td",{style:{paddingLeft:"8px"},children:["First Name: ",k]})}),Object(F.jsx)("tr",{className:r.tableRow,children:Object(F.jsxs)("td",{style:{paddingLeft:"8px"},children:["Last Name: ",E]})}),Object(F.jsx)("tr",{className:r.tableRow,children:Object(F.jsxs)("td",{style:{paddingLeft:"8px"},children:["Email: ",R]})}),Object(F.jsx)("tr",{className:r.tableRow,children:Object(F.jsxs)("td",{style:{paddingLeft:"8px"},children:["City: ",M]})}),Object(F.jsx)("tr",{className:r.tableRow,children:Object(F.jsxs)("td",{style:{paddingLeft:"8px"},children:["State: ",G]})}),Object(F.jsx)("tr",{className:r.tableRow,children:Object(F.jsxs)("td",{style:{paddingLeft:"8px"},children:["Country: ",K]})})]})})})}),Object(F.jsx)("div",{children:Object(F.jsx)(me.a,{className:r.button,variant:"contained",color:"primary",fullWidth:!0,onClick:re,children:te===ae.length-1?"Complete Signup":"Next"})})]})})]})}var Re=n(238),Ue=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",paddingTop:"20px"},formElement:{width:"95%",margin:"10px"},err:{color:"#ff1744",fontSize:"24px"}}}));function We(e){var t=e.handleLogin,n=Ue(),r=Object(u.f)(),c=Object(a.useState)(""),o=Object(h.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(""),d=Object(h.a)(l,2),p=d[0],b=d[1],j=Object(a.useState)(!0),f=Object(h.a)(j,2),m=f[0],x=f[1],O=function(){var e=Object(y.a)(v.a.mark((function e(n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t({username:i,password:p});case 3:a=e.sent,x(a),a&&r.push("/");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("form",{className:n.root,onSubmit:O,children:[Object(F.jsx)(Re.a,{className:n.err,component:"span",display:m?"none":"block",children:"Error: Invalid Login Credentials"}),Object(F.jsx)(fe.a,{className:n.formElement,label:"Username: (required)",variant:"outlined",value:i,autoFocus:!0,onChange:function(e){return s(e.target.value)}}),Object(F.jsx)(fe.a,{className:n.formElement,type:"password",label:"Password: (required)",variant:"outlined",value:p,onChange:function(e){return b(e.target.value)}}),Object(F.jsx)(me.a,{className:n.formElement,type:"submit",variant:"contained",color:"primary",children:"Submit"})]})}var Be=n(41),Pe=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%",maxWidth:"500px",paddingTop:"30px",paddingBottom:"100px"},form:{width:"100%",backgroundColor:"#ffffff"},label:{fontSize:"18px",fontWeight:"bold",width:"90%",margin:"10px 20px 0 20px"},input:{width:"90%",margin:"0 20px 0 20px"},button:{display:"flex",justifyContent:"flex-end",margin:"10px 20px 15px"},err:{color:"#ff1744",fontSize:"24px"}}}));function Ae(){var e=Pe(),t=Object(u.f)(),n=Object(a.useContext)(ue.a),r=Object(a.useContext)(le),c=Object(C.b)(),o=Object(a.useState)("login"),i=Object(h.a)(o,2),s=i[0],l=i[1],d=function(){var e=Object(y.a)(v.a.mark((function e(t){var a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.resetInitCount(),e.next=4,Object(Y.e)(t);case 4:if(!(a=e.sent)||200!==a.status){e.next=16;break}return t.token=a.data.token,e.next=9,Object(Y.d)(t);case 9:return o=e.sent,e.next=12,c(Object(Be.a)(o.data.user));case 12:return n.setAuthState({userInfo:{username:t.username},token:t.token}),e.abrupt("return",!0);case 16:return console.log("Error login",a),e.abrupt("return",!1);case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.username.length){e.next=4;break}return e.next=3,Object(Y.i)(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(y.a)(v.a.mark((function e(a){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Y.j)(a);case 3:c=e.sent,r.resetInitCount(),n.setAuthState({userInfo:{username:a.username},token:c.data.token}),t.push("/"),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:e.root,children:[Object(F.jsx)(ke.a,{position:"static",children:Object(F.jsxs)(Ne.a,{variant:"fullWidth",value:s,onChange:function(e,t){l(t)},"aria-label":"nav tabs example",TabIndicatorProps:{style:{backgroundColor:"secondary",height:"5px"}},children:[Object(F.jsx)(Ie.a,{label:"Login",value:"login"}),Object(F.jsx)(Ie.a,{label:"Sign up",value:"signup"})]})}),"login"===s?Object(F.jsx)(We,{handleLogin:d}):Object(F.jsx)(De,{handlePreSignup:p,handleSignup:b})]})}var ze=n(120);var Fe,He=Object(l.a)((function(e){return{root:Object(i.a)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"2px solid #eeeeee",borderRadius:6,boxShadow:"0 10px 6px -6px #80808040",marginRight:"20px"},e.breakpoints.down("sm"),{boxShadow:"none",borderBottom:"none",borderBottomLeftRadius:"none",borderBottomRightRadius:"none",marginRight:"0"}),media:{borderTopRightRadius:6,borderTopLeftRadius:6},mediaItem:{display:"flex",justifyContent:"space-between",fontSize:"11px",width:"100%"},mediaBody:{maxWidth:"90%",wordWrap:"break-word"},cardContent:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"95%",padding:"7px"}}}));function Me(e){var t=e.post,n=t.body,r=t.photo_id,c=t.title,o=t.username,i=t.created_on,s=He(),u=function(e){var t=Object(C.c)(P),n=Object(C.b)(),r=Object(a.useState)(""),c=Object(h.a)(r,2),o=c[0],i=c[1],s=function(){var a=Object(y.a)(v.a.mark((function a(){var r,c,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=10;break}if("fulfilled"!==t.status||!Object(_.a)(t.data).some((function(t){return e.startsWith(t.photo_id)}))){a.next=6;break}r=Object(_.a)(t.data).find((function(t){return e.startsWith(t.photo_id)})),i(r.imageUrl),a.next=10;break;case 6:return a.next=8,Object(R.a)(e);case 8:(c=a.sent)&&c.data.Body&&(o=String.fromCharCode.apply(String,Object(_.a)(c.data.Body.data)).toString("base64"),i(o),n(B({photo_id:e,imageUrl:o})));case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(a.useEffect)((function(){o.length||s()})),o}(r+".txt");return Object(F.jsxs)("div",{className:s.root,children:[u?Object(F.jsx)("img",{src:u,alt:"title",className:s.media}):Object(F.jsx)(T.a,{}),Object(F.jsxs)(E.a,{className:s.cardContent,children:[Object(F.jsx)(L.a,{gutterBottom:!0,variant:"h6",children:c}),Object(F.jsx)(L.a,{className:s.mediaBody,children:n}),Object(F.jsxs)(L.a,{className:s.mediaItem,variant:"subtitle2",children:[Object(F.jsxs)("div",{children:["By ",o]}),Object(F.jsx)("div",{children:D(i)})]})]})]})}var qe=Object(U.b)("getRepliesById",function(){var e=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.c)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Je=Object(U.c)({name:"replyList",initialState:{replyList:{status:"idle",data:[],error:{}}},reducers:{addNewReply:function(e,t){Object(Y.h)(t.payload)}},extraReducers:(Fe={},Object(i.a)(Fe,qe.pending,(function(e,t){e.replyList={status:"pending",data:{},error:{}}})),Object(i.a)(Fe,qe.fulfilled,(function(e,t){e.replyList={status:"fulfilled",data:t.payload,error:{}}})),Object(i.a)(Fe,qe.rejected,(function(e,t){e.replyList={status:"rejected",data:{},error:t.payload}})),Fe)}),Ze=Je.actions.addNewReply,Ge=function(e){return e.replyList.replyList},$e=Je.reducer,Ve=Object(l.a)({root:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",margin:"1px 12px 1px 3px",padding:"2px 5px 2px 5px"},mediaBody:{display:"flex",flexWrap:"wrap",fontSize:"18px",wordWrap:"break-word",overflow:"hidden"},mediaInfo:{display:"flex",justifyContent:"space-between",fontSize:"11px"}});function Ye(e){var t=e.username,n=e.body,a=e.created_on,r=Ve();return Object(F.jsxs)("div",{className:r.root,children:[Object(F.jsx)("div",{className:r.mediaBody,children:n}),Object(F.jsxs)("div",{className:r.mediaInfo,children:[Object(F.jsxs)("div",{children:["By ",t]}),Object(F.jsx)("div",{children:D(a)})]})]})}var Ke=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",width:"97%",padding:"0",margin:"0"},form:{display:"flex",flexDirection:"column",width:"100%"},control:{display:"flex",flexDirection:"column",justifyContent:"space-between"},formItem:{margin:"3px 0 7px 0"},button:{width:"100%",margin:"5px 0 5px 0"}}})),Qe=function(e){var t=e.handleSubmit,n=Ke(),r=Object(a.useState)(""),c=Object(h.a)(r,2),o=c[0],i=c[1],s=Object(a.useState)(""),u=Object(h.a)(s,2),l=u[0],d=u[1];Object(a.useEffect)((function(){Object(_.a)(o).filter((function(e){return" "!==e})).length>120?d("Body text must be betwen 1 and 120 characters in length."):d("")}),[o]);return Object(F.jsx)("div",{className:n.root,children:Object(F.jsxs)("form",{method:"post",className:n.form,children:[Object(F.jsx)("div",{className:n.control,children:Object(F.jsx)(fe.a,{className:n.formItem,multiline:!0,rows:"2",label:"Reply",variant:"outlined",value:o,error:!!l.length,helperText:l.length?l:"",onChange:function(e){return i(e.target.value)}})}),Object(F.jsx)(me.a,{className:n.button,variant:"contained",color:"primary",onClick:function(){o&&(t(o),i(""))},children:"Send"})]})})},Xe=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",minWidth:350,marginLeft:20,border:"1px solid #eeeeee",borderRadius:6,boxShadow:"0 10px 6px -6px #80808040"},commentSection:{display:"flex",flexDirection:"column",alignItems:"stetch",justifyContent:"flex-start",width:"100%",height:450,overflow:"auto"},comment:{width:"auto",border:"1px solid #eeeeee"},noreplies:{display:"flex",alignItems:"center",justifyContent:"center",width:"auto",fontSize:16,border:"1px solid #eeeeee"}}}));function et(){var e=Xe(),t=Object(a.useContext)(ue.a),n=Object(u.h)().parent_id,r=Object(C.b)(),c=Object(C.c)(Ge);Object(a.useEffect)((function(){r(qe(n))}),[r,n]);var o=function(){var e=Object(y.a)(v.a.mark((function e(a){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return c={parent_id:n,body:a,username:t.authState.userInfo.username,_token:t.authState.token},e.next=4,r(Ze(c));case 4:r(qe(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:e.root,children:[Object(F.jsx)("div",{className:e.commentSection,children:c.data.length?c.data.map((function(t){return Object(F.jsx)("div",{children:Object(F.jsx)("div",{className:e.comment,children:Object(F.jsx)(Ye,{username:t.username,body:t.body,created_on:t.created_on})})},Object(N.a)())})):Object(F.jsx)("div",{className:e.noreplies,children:"No replies yet."})}),t.authState.userInfo.username&&t.authState.userInfo.username.length?Object(F.jsx)(Qe,{handleSubmit:o}):""]})}var tt=Object(l.a)((function(e){var t;return{root:{display:"flex",flexDirection:"column",animation:ze.animations.popIn,animationDuration:2500},mainContainer:(t={display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%",fontSize:"22px"},Object(i.a)(t,e.breakpoints.down("md"),{flexDirection:"row"}),Object(i.a)(t,e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"stretch",justifyContent:"stretch"}),t)}}));function nt(){var e=tt(),t=Object(u.f)(),n=Object(u.h)().parent_id,r=Object(C.c)($),c=Object(a.useState)(null),o=Object(h.a)(c,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){"fulfilled"!==r.status||i?"fulfilled"===r.status||i||t.push("/"):s(r.data.find((function(e){return e.id===n})))}),[r.status,r.data,i,n]),Object(F.jsx)("div",{className:e.root,children:i?Object(F.jsxs)("div",{className:e.mainContainer,children:[Object(F.jsx)(Me,{post:i}),Object(F.jsx)(et,{post:i})]}):""})}var at=n(49),rt=n(74),ct=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%",maxWidth:"700px",padding:"2px",backgroundColor:e.palette.common.yellowLight,border:"1px solid #eeeeee",borderRadius:6},form:{display:"flex",flexDirection:"column",justifyContent:"flex-start",width:"100%",fontSize:"24px"},formElement:{width:"auto",margin:"10px 15px"},formAvatar:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"20px 15px",padding:"5px",border:"1px solid #00000030","&:hover":{border:"1px solid #00000090"},borderRadius:"5px"},formLabel:{margin:"10px 20px 15px"},button:{margin:"0 25px 0 50px"},header:{display:"flex",alignItems:"center",justifyContent:"space-around",height:"50px",margin:"20px 0 20px 0","& p":{fontSize:"38px",color:"green"},"& button":{height:"30px"}},imagePreview:{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"100px",maxHeight:"100px"}}})),ot=function(e){var t=e.title,n=e.handleSubmit,r=ct(),c=Object(C.c)(Be.c),o=Object(C.c)(at.c),i=Object(a.useState)(""),s=Object(h.a)(i,2),l=s[0],d=s[1],p=Object(a.useState)(""),b=Object(h.a)(p,2),j=b[0],f=b[1],m=Object(a.useState)(""),x=Object(h.a)(m,2),g=x[0],w=x[1],S=Object(a.useState)(""),k=Object(h.a)(S,2),N=k[0],I=k[1],_=Object(a.useState)(""),E=Object(h.a)(_,2),L=E[0],T=E[1],D=Object(a.useState)(""),R=Object(h.a)(D,2),U=R[0],W=R[1],B=Object(a.useState)(""),P=Object(h.a)(B,2),A=P[0],z=P[1],H=Object(a.useState)(""),M=Object(h.a)(H,2),q=M[0],J=M[1],Z=Object(a.useState)(""),G=Object(h.a)(Z,2),$=G[0],V=G[1];Object(a.useEffect)((function(){"fulfilled"===c.status&&(d(c.data.username?c.data.username:""),f(c.data.first_name?c.data.first_name:""),w(c.data.last_name?c.data.last_name:""),I(c.data.email?c.data.email:""),T(c.data.photo_id?c.data.photo_id:""),W(c.data.city?c.data.city:""),z(c.data.state?c.data.state:""),J(c.data.country?c.data.country:""))}),[o.data.imageUrl,c.data.first_name,c.data.last_name,c.data.email,c.data.photo_id,c.data.city,c.data.state,c.data.country,c.status]);var Y=Object(a.useState)("none"),K=Object(h.a)(Y,2),Q=K[0],X=K[1],ee=Object(u.f)(),te=function(){var e=Object(y.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(F.jsx)(O.a,{in:!0,style:{transitionDelay:"1ms"},children:Object(F.jsxs)("div",{className:r.root,children:[Object(F.jsxs)("div",{className:r.header,children:[Object(F.jsx)("p",{children:t}),Object(F.jsx)(me.a,{className:r.button,color:"primary",variant:"contained",onClick:function(){n({first_name:j,last_name:g,email:N,photo_id:L,city:U,state:A,country:q,imageUrl:$})},children:"Done"}),Object(F.jsx)(me.a,{className:r.button,color:"secondary",variant:"contained",onClick:function(){return ee.push("/")},children:"Cancel"})]}),Object(F.jsx)("div",{style:{display:Q},children:Object(F.jsx)(ge,{handleUploadImage:te,width:100,height:100})}),Object(F.jsx)("div",{className:r.imagePreview,children:Object(F.jsx)("img",{id:"uploadIMG",name:"uploadImage",src:$,alt:""})}),Object(F.jsxs)("div",{className:r.form,children:[Object(F.jsxs)("div",{className:r.formAvatar,children:[Object(F.jsx)(rt.a,{photo_url:$}),l,Object(F.jsx)(me.a,{name:"avatar",onClick:function(){return X("inline")},className:r.button,color:"primary",variant:"contained",children:"Change"})]}),Object(F.jsx)(fe.a,{className:r.formElement,label:"First Name: (required)",variant:"outlined",value:j,onChange:function(e){return f(e.target.value)}}),Object(F.jsx)(fe.a,{className:r.formElement,label:"Last Name: (required)",variant:"outlined",value:g,onChange:function(e){return w(e.target.value)}}),Object(F.jsx)(fe.a,{className:r.formElement,label:"Email: (required)",variant:"outlined",value:N,onChange:function(e){return I(e.target.value)}}),Object(F.jsx)(fe.a,{className:r.formElement,label:"City: (optional)",variant:"outlined",value:U,onChange:function(e){return W(e.target.value)}}),Object(F.jsx)(fe.a,{className:r.formElement,label:"State: (optional)",variant:"outlined",value:A,onChange:function(e){return z(e.target.value)}}),Object(F.jsx)(fe.a,{className:r.formElement,label:"Country: (optional)",variant:"outlined",value:q,onChange:function(e){return J(e.target.value)}})]})]})})},it=Object(l.a)((function(e){return{successMessage:{color:"#75a478",backgroundColor:"#d7ffd9"},errorMessage:{color:"#ba6b6c",backgroundColor:"#ffcccb"}}})),st=function(){var e=it(),t=Object(a.useContext)(ue.a),n=Object(C.c)(z.c),r=Object(a.useState)(""),c=Object(h.a)(r,2),o=c[0],i=c[1],s=Object(C.b)(),u=function(){var a=Object(y.a)(v.a.mark((function a(r){var c,o,u,l,d;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=r.photo_id.length?r.photo_id:"sm-"+Object(N.a)()+".txt",o=r.imageUrl,u=n.data.aws_bucket_endpoint_up,l=n.data.aws_bucket_endpoint_down,d=t.authState.token,a.prev=5,!r.imageUrl){a.next=9;break}return a.next=9,Object(R.b)(o,c,u,d,l);case 9:return s(Object(at.a)({photo_id:c,imageUrl:o})),r.photo_id=c,r._token=t.authState.token,r.username=t.authState.userInfo.username,delete r.imageUrl,s(Object(Be.a)(r)),a.next=17,Object(Y.f)(r);case 17:i(Object(F.jsx)("div",{className:e.successMessage,children:"Success in updating your user information."})),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(5),i(Object(F.jsx)("div",{className:e.errorMessage,children:"Error in updating your user information."}));case 23:case"end":return a.stop()}}),a,null,[[5,20]])})));return function(e){return a.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{children:o}),Object(F.jsx)(ot,{title:"Edit Profile",handleSubmit:function(e){u(e)}})]})},ut=Object(l.a)((function(e){var t,n,a;return{root:(t={display:"flex",flexDirection:"column"},Object(i.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(i.a)(t,e.breakpoints.up("md"),{width:"75%"}),Object(i.a)(t,e.breakpoints.up("xl"),{width:"65%"}),t),displayWrapper:(n={display:"flex",justifyContent:"center"},Object(i.a)(n,e.breakpoints.down("sm"),{flexWrap:"wrap"}),Object(i.a)(n,e.breakpoints.up("md"),{flexWrap:"no-wrap"}),Object(i.a)(n,"width","100%"),Object(i.a)(n,"minWidth",210),Object(i.a)(n,"minHeight",210),n),displayContent:(a={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},Object(i.a)(a,e.breakpoints.down("xs"),{width:"70%"}),Object(i.a)(a,e.breakpoints.up("sm"),{width:"50%"}),Object(i.a)(a,e.breakpoints.up("md"),{width:"30%"}),Object(i.a)(a,"minWidth",200),Object(i.a)(a,"minHeight",200),Object(i.a)(a,"margin",20),Object(i.a)(a,"padding",10),Object(i.a)(a,"borderRadius",30),Object(i.a)(a,"background","linear-gradient(45deg, ".concat(e.palette.common.brown," 30%, ").concat(e.palette.common.brownDark," 90%)")),Object(i.a)(a,"boxShadow","0 10px 6px -6px #80808080"),a),heading:Object(x.a)(Object(x.a)({},e.typography.h3),{},{color:"white"}),subHeading:Object(x.a)(Object(x.a)({},e.typography.subtitle2),{},{color:"white",textAlign:"center",marginTop:30,marginBottom:30})}})),lt=function(){var e=ut();return Object(F.jsx)(O.a,{in:!0,style:{transitionDelay:"1ms"},children:Object(F.jsxs)("div",{className:e.root,children:[Object(F.jsxs)("div",{className:e.displayWrapper,children:[Object(F.jsxs)("div",{className:e.displayContent,children:[Object(F.jsx)("div",{className:e.heading,children:"Our mission"}),Object(F.jsx)("div",{className:e.subHeading,children:"We strive to make dogs happy and to connect doggers."})]}),Object(F.jsxs)("div",{className:e.displayContent,children:[Object(F.jsx)("div",{className:e.heading,children:"Our status"}),Object(F.jsx)("div",{className:e.subHeading,children:"The status of Dog Friends is under construction."})]})]}),Object(F.jsxs)("div",{className:e.displayWrapper,children:[Object(F.jsxs)("div",{className:e.displayContent,children:[Object(F.jsx)("div",{className:e.heading,children:"Our future"}),Object(F.jsx)("div",{className:e.subHeading,children:"The future of Dog Friends is a complete dogger friendship atmosphere."})]}),Object(F.jsxs)("div",{className:e.displayContent,children:[Object(F.jsx)("div",{className:e.heading,children:"Our promise"}),Object(F.jsx)("div",{className:e.subHeading,children:"We promise to do our best to make doggers happy."})]})]})]})})},dt=n(126),pt=n(243),bt=n(235),jt=n.p+"static/media/footerLogo.b22479e1.png",ft=Object(l.a)((function(e){var t;return{footer:Object(i.a)({background:"linear-gradient(45deg, ".concat(e.palette.common.brown," 30%, ").concat(e.palette.common.brownLight," 90%)"),width:"100%",position:"sticky",bottom:0},e.breakpoints.down("md"),{display:"none"}),adornment:(t={width:"10.2em",verticalAlign:"bottom"},Object(i.a)(t,e.breakpoints.down("md"),{width:"5em"}),Object(i.a)(t,"height","2.5rem"),t),mainContainer:{width:"100%",position:"absolute",justifyContent:"center"},link:{color:"white",fontFamily:"Arial",fontSize:"0.75rem",fontWeight:"bold",margin:"0.5em",textDecoration:"none"},linkSelected:{opacity:1},button:{color:"white",fontFamily:"Arial",fontSize:"0.75rem",fontWeight:"bold",height:"1rem"},gridItem:{margin:"1em"}}}));function mt(e){var t=e.children,n=Object(dt.a)({threshold:25});return Object(F.jsx)(te.a,{appear:!1,direction:"up",in:!n,children:t})}function ht(e){var t=ft(),n=Object(u.f)(),r=Object(u.g)(),c=Object(a.useContext)(ue.a),o=c.authState.userInfo.username,i=Object(a.useState)(0),s=Object(h.a)(i,2),l=s[0],d=s[1];Object(a.useEffect)((function(){r.pathname.startsWith("/post")||d({"/":{name:"Home",index:0},"/about":{name:"About Us",index:1},"/profile":{name:"Profile",index:2},"/login":{name:"Logout",index:3},"/new":{name:"New",index:4}}[r.pathname].index)}),[r.pathname]);var p=function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=4;break}n.push("/login"),e.next=7;break;case 4:return e.next=6,c.setAuthState({token:"",userInfo:{}});case 6:n.push("/login");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsx)(mt,Object(x.a)(Object(x.a)({},e),{},{children:Object(F.jsxs)("footer",{className:t.footer,children:[Object(F.jsx)(pt.a,{mdDown:!0,children:Object(F.jsxs)(bt.a,{container:!0,className:t.mainContainer,children:[Object(F.jsx)(bt.a,{item:!0,className:t.gridItem,children:Object(F.jsxs)(bt.a,{container:!0,direction:"row",children:[Object(F.jsx)(bt.a,{className:t.button,item:!0,component:me.a,onClick:function(){return n.push("/")},style:{opacity:0===l?1:.7},children:"Home"}),Object(F.jsx)(bt.a,{className:t.button,item:!0,component:me.a,onClick:function(){return n.push("/about")},style:{opacity:1===l?1:.7},children:"About Us"})]})}),Object(F.jsx)(bt.a,{item:!0,className:t.gridItem,children:Object(F.jsxs)(bt.a,{container:!0,direction:"row",children:[o&&Object(F.jsx)(bt.a,{className:t.button,item:!0,component:me.a,onClick:function(){return n.push("/profile")},style:{opacity:4===l?1:.7},children:"Profile"}),Object(F.jsx)(bt.a,{className:t.button,item:!0,component:me.a,onClick:p,style:{opacity:3===l?1:.7},children:o?"Logout":"Login"})]})})]})}),Object(F.jsx)("img",{alt:"black decorative slash",src:jt,className:t.adornment})]})}))}var xt=Object(l.a)((function(e){var t;return{root:{display:"flex",alignItems:"flex-start",justifyContent:"center",minHeight:"90vh"},main:(t={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},Object(i.a)(t,e.breakpoints.down("lg"),{width:"100%"}),Object(i.a)(t,e.breakpoints.up("md"),{width:"85%"}),Object(i.a)(t,e.breakpoints.up("xl"),{width:"75%"}),t)}}));var Ot=function(){var e=xt();return Object(F.jsx)(d.a,{theme:f,children:Object(F.jsxs)(s.a,{children:[Object(F.jsx)(m.a,{}),Object(F.jsx)("div",{className:e.root,children:Object(F.jsx)("main",{className:e.main,children:Object(F.jsxs)(u.c,{children:[Object(F.jsx)(u.a,{exact:!0,path:"/",children:Object(F.jsx)(je,{})}),Object(F.jsx)(u.a,{exact:!0,path:"/new",children:Object(F.jsx)(Se,{})}),Object(F.jsx)(u.a,{exact:!0,path:"/profile",children:Object(F.jsx)(st,{})}),Object(F.jsx)(u.a,{exact:!0,path:"/about",children:Object(F.jsx)(lt,{})}),Object(F.jsx)(u.a,{exact:!0,path:"/login",children:Object(F.jsx)(Ae,{})}),Object(F.jsx)(u.a,{path:"/post/:parent_id",children:Object(F.jsx)(nt,{})})]})})}),Object(F.jsx)(ht,{})]})})},gt=Object(U.a)({reducer:{postList:V,replyList:$e,pageCount:ee,userInfo:Be.b,photoList:A,avatarUrl:at.b,initInfo:z.b}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(F.jsx)(C.a,{store:gt,children:Object(F.jsx)(ue.b,{children:Object(F.jsx)(pe,{children:Object(F.jsx)(Ot,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return h})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"h",(function(){return j})),n.d(t,"a",(function(){return O}));var a=n(5),r=n.n(a),c=n(10),o=n(9),i=n(73),s=n.n(i),u="http://localhost:5000/api/",l=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,o,i,l,d,p=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},a=p.length>2&&void 0!==p[2]?p[2]:"get",console.debug("API Call:",t,n,a,u),e.prev=3,(i=new Headers).append("Content-Type","application/json"),i.append("Accept","application/json"),i.append("GET","POST","PUT","OPTIONS"),e.next=10,s()((o={method:a,url:"".concat(u).concat(t)},Object(c.a)(o,"get"===a?"params":"data",n),Object(c.a)(o,"headers",i),o));case 10:return l=e.sent,e.abrupt("return",l);case 14:throw e.prev=14,e.t0=e.catch(3),d=e.t0.response?e.t0.response.data.message:e.t0,Array.isArray(d)?d:[d];case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("posts");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("posts/",t,"post");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("replies/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l("replies/",t,"post");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("login/",t,"post");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("users/".concat(t.username),{},"post");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("users/",t,"post");case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.token,e.prev=1,e.next=4,l("users/".concat(n,"/"),{_token:a});case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("initinfo/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("users/".concat(t.username),t,"patch");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u}));var a=n(16),r=n(8),c=n(0),o=n(2),i=Object(c.createContext)(),s=i.Provider,u=function(e){var t=e.children,n=function(){var e=JSON.parse(localStorage.getItem("token"))||"",t=Object(c.useState)(e),n=Object(r.a)(t,2),a=n[0],o=n[1];return{token:a,setTokenStorage:function(e){o(e),localStorage.setItem("token",JSON.stringify(e)||"")}}}(),i=n.token,u=n.setTokenStorage,l=function(){var e=JSON.parse(localStorage.getItem("userInfo"))||"",t=Object(c.useState)(e),n=Object(r.a)(t,2),a=n[0],o=n[1];return{userInfo:a,setUserInfoStorage:function(e){o(e),localStorage.setItem("userInfo",JSON.stringify(e)||"")}}}(),d=l.userInfo,p=l.setUserInfoStorage,b=Object(c.useState)({token:i,userInfo:Object(a.a)(Object(a.a)({},undefined),d)}),j=Object(r.a)(b,2),f=j[0],m=j[1],h=function(e){var t=e.token,n=e.userInfo;try{u(t),p({username:n.username}),m({token:t,userInfo:n})}catch(a){console.error(a)}};return Object(o.jsx)(s,{value:{authState:f,setAuthState:function(e){return h(e)}},children:t})}},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o}));var a=n(27),r=Object(a.c)({name:"initInfo",initialState:{initInfo:{status:"idle",data:{},error:{}}},reducers:{addInitInfo:function(e,t){e.initInfo={status:"fulfilled",data:t.payload}}}}),c=r.actions.addInitInfo,o=function(e){return e.initInfo.initInfo};t.b=r.reducer},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o}));var a=n(27),r=Object(a.c)({name:"userInfo",initialState:{userInfo:{status:"idle",data:{},error:{}}},reducers:{addUserInfo:function(e,t){e.userInfo={status:"fulfilled",data:t.payload}}}}),c=r.actions.addUserInfo,o=function(e){return e.userInfo.userInfo};t.b=r.reducer},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var a=n(5),r=n.n(a),c=n(10),o=n(9),i=n(73),s=n.n(i),u="http://localhost:5000/api/",l=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,o,i,u,l,d=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:{},a=d.length>2&&void 0!==d[2]?d[2]:"get",(o=new Headers).append("Content-Type","application/json"),o.append("Accept","application/json"),o.append("GET","POST","PUT","OPTIONS"),e.prev=6,e.next=9,s()((i={method:a,url:t},Object(c.a)(i,"get"===a?"params":"data",n),Object(c.a)(i,"headers",o),i));case 9:return u=e.sent,e.abrupt("return",u);case 13:throw e.prev=13,e.t0=e.catch(6),l=e.t0.response?e.t0.response.data.message:e.t0,Array.isArray(l)?l:[l];case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(n,{key:t},"post");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,c,o){var i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(a,{image:t,imageName:n},"put");case 3:return i=e.sent,e.next=6,i;case 6:if(!e.sent){e.next=10;break}return s={photo_id:n,photo_url:"".concat(o,"/").concat(n),_token:c},e.next=10,l("".concat(u,"photos/"),s,"post");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o}));var a=n(27),r=Object(a.c)({name:"avatarUrl",initialState:{avatarUrl:{status:"idle",data:{},error:{}}},reducers:{addAvatarUrl:function(e,t){e.avatarUrl={status:"fulfilled",data:t.payload,error:{}}}}}),c=r.actions.addAvatarUrl,o=function(e){return e.avatarUrl.avatarUrl};t.b=r.reducer},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(5),r=n.n(a),c=n(31),o=n(9),i=n(8),s=n(0),u=n(12),l=n(123),d=n(193),p=n(124),b=n(49),j=n(41),f=n(39),m=n(46),h=n(2),x=Object(l.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)},orange:{color:e.palette.getContrastText(p.a[500]),backgroundColor:p.a[500]},marginRight:"40px"},avatar:{width:e.spacing(6),height:e.spacing(6)}}}));function O(){var e=x(),t=Object(u.b)(),n=Object(u.c)(b.c),a=Object(u.c)(j.c),l=Object(u.c)(f.c),p=Object(s.useState)(n.data?n.data.imageUrl:null),O=Object(i.a)(p,2),g=O[0],v=O[1];Object(s.useEffect)((function(){(function(){var e=Object(o.a)(r.a.mark((function e(){var n,o,i,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("fulfilled"!==a.status||g||!a.data.photo_id){e.next=7;break}return n=a.data.photo_id,o=l.data.aws_bucket_endpoint_down,e.next=5,Object(m.a)(n,o);case 5:(i=e.sent)&&i.data.Body&&(s=String.fromCharCode.apply(String,Object(c.a)(i.data.Body.data)).toString("base64"),v(s),u={photo_id:n,imageUrl:s},t(Object(b.a)(u)));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),Object(s.useEffect)((function(){v(n.data.imageUrl)}),[n.data.imageUrl]);var y="fulfilled"===a.status?a.data.first_name[0].toUpperCase()+a.data.last_name[0].toUpperCase():"";return Object(h.jsx)("div",{className:e.root,children:Object(h.jsx)(d.a,{alt:y,src:g,className:e.avatar})})}}},[[180,1,2]]]);
//# sourceMappingURL=main.e04fef8d.chunk.js.map